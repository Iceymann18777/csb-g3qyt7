{"version":3,"sources":["assets/images/home-bg-1.jpg","components/profile/profile-container.js","components/signup/signup-container.js","components/signup/signup-view.js","components/signup/index.js","components/login/login-container.js","components/login/login-view.js","components/login/index.js","components/auth/AuthContainer.js","components/app/AuthContext.js","components/profile/components/location/cityGuess.js","components/profileshow/components/loggedDot.js","components/profile/components/upperBoxProfile.js","components/profile/components/current-pictures.js","components/profile/components/formCheckBox.js","components/profile/components/inputTextShort.js","components/profile/components/tabPanelProfileAbout.js","components/profile/components/location/address-autocomplete.js","components/profile/components/location/map.js","components/forgotpassword/forgotpassword-container.js","components/profile/components/tabPanelProfileParameters.js","components/profile/components/cropper/cropImage.js","components/profile/components/cropper/cropper.js","components/profile/components/modal.js","components/profile/profile-view.js","components/profile/index.js","components/profileshow/profileshow-container.js","components/profileshow/components/chipsList.js","components/profileshow/profileshow-view.js","components/profileshow/index.js","components/search/components/search-filters.js","components/shared/components/media-card.js","components/shared/profiles-grid.js","components/shared/title.js","components/search/search-container.js","components/search/search-view.js","components/search/index.js","components/suggestions/components/suggestions-filters.js","components/suggestions/suggestions-container.js","components/suggestions/suggestions-view.js","components/suggestions/index.js","components/visit/visit-container.js","components/visit/visit-view.js","components/visit/index.js","components/like/like-container.js","components/like/like-view.js","components/like/index.js","components/toaster/toaster-container.js","components/toaster/index.js","components/toaster/toaster-view.js","components/home/home-container.js","components/home/home-view.js","components/home/index.js","components/app/SecureRoute.js","components/app/NotLoggedRoute.js","components/nav/components/notificationDrawer.js","components/nav/nav-view.js","components/nav/index.js","components/uservalidation/index.js","components/uservalidation/uservalidation-view.js","components/ResetforgotPassword/resetforgotpassword-container.js","components/ResetforgotPassword/resetforgotpassword-view.js","components/ResetforgotPassword/index.js","components/forgotpassword/forgotpassword-view.js","components/forgotpassword/index.js","components/chat/chat-container.js","components/chat/chat-view.js","components/chat/index.js","components/chatroom/chatroom-container.js","components/chatroom/chatroom-view.js","components/chatroom/index.js","components/app/App.js","serviceWorker.js","index.js"],"names":["module","exports","newInput","newChangedFields","useSignUpForm","callback","useState","firstname","surname","username","email","password1","password2","inputs","setInputs","handleSubmit","event","preventDefault","axios","post","process","REACT_APP_PUBLIC_API_URL","password","headers","then","data","created","errors","forEach","error","toast","handleInputChange","persist","target","name","value","useStyles","makeStyles","theme","body","backgroundColor","palette","common","white","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","secondary","main","form","width","submit","Signup","success","window","location","classes","Container","component","maxWidth","className","Avatar","variant","onSubmit","container","item","xs","sm","fullWidth","htmlFor","type","onChange","id","label","required","Button","color","justify","Link","href","useLoginForm","userLocation","a","ip","Promise","resolve","get","response","latitude","longitude","navigator","geolocation","getCurrentPosition","position","currentLocation","coords","setTimeout","geo","lat","lon","localStorage","setItem","token","err","Login","autoFocus","isTokenExpired","currentTime","Date","now","decode","exp","REACT_APP_VERBOSE","console","log","getUserData","userData","AuthContext","createContext","AuthProvider","children","currentToken","getItem","authContext","socketContext","socket","io","query","Provider","UseProfileForm","profile","setProfile","loaded","setLoaded","changedFields","setChangedFields","imageToSave","setImageToSave","showModal","setShowModal","croppedImage","setCroppedImage","finalImage","setFinalImage","fetchInterests","catch","_","isEmpty","all","values","tempUserData","birthDate","toISOString","split","interestNames","handleSexualOrientationChange","checkboxValue","parseInt","checked","sexualOrientation","push","sort","index","indexOf","splice","handleSummaryChange","handleInterestChange","textContent","interestToDelete","currentTarget","closest","newInterests","interests","readFile","file","reader","FileReader","addEventListener","result","readAsDataURL","handleFileUpload","files","imageDataUrl","handleDeleteImage","url","profilePicture","images","without","handleProfileChange","handleTextParametersChange","gender","handleGenderChange","handleNotifChange","handleChangeCity","cityToChange","city","handleChangeProfileImage","pictureUrl","handleChangeLocation","newLocation","handleSubmitParameters","put","message","isChecked","fieldId","includes","getAge","dateString","today","age","getFullYear","m","getMonth","getDate","deleteUser","confirm","delete","deleted","removeItem","upload","imageBlob","theBlob","fileName","image","lastModifiedDate","formData","FormData","append","sendCroppedImageServer","Location","CityGuess","address","loggedDot","marginBottom","height","borderRadius","notLoggedDot","dotDateWrapper","lastConnectionDate","marginLeft","fontSize","LoggedDot","loggedState","lastConnection","displayLast","moment","fromNow","fabUpBox","profileImg","blockedIcon","UpperBoxProfile","handleBlock","handleReport","handleLike","upBoxClasses","alreadyBlocked","blocked","setBlocked","alreadyReported","reported","setReported","visitorlikevisited","liked","setLiked","React","anchorEl","setAnchorEl","handleClose","chatroomLink","matchId","match","boxUpProfileMatch","boxUpProfile","containerUpProfile","direction","containerUpProfileLeft","src","alt","containerUpProfileLeftInfo","visitorLocation","dist","getDistance","Math","round","distance","connected","containerUpProfileRight","bgcolor","containerUpProfileRightFabs","Fab","size","popularityRate","onClick","Menu","keepMounted","open","Boolean","onClose","MenuItem","disabled","CurrentPictures","pictures","Grid","Box","map","key","xl","pictureContainer","picture","deleteButtonPicture","modifyPictureButton","formCheckBox","title","fontWeight","FormControl","formControl","FormGroup","row","checkbox","FormControlLabel","control","Checkbox","toString","InputTextShort","Typography","TextField","textField","InputProps","inputProps","min","subtract","max","summaryField","multiline","rows","TabPanel","props","role","hidden","aria-labelledby","p","TabPanelProfileAbout","gridColumnProfile","description","xsm","gridPicturesWrapper","length","button","startIcon","accept","uploadInput","AddressAutocomplete","inputClassName","onSelect","geocodeByAddress","results","getLatLng","lng","Marker","Map","center","zoom","style","bootstrapURLKeys","defaultCenter","defaultZoom","useForgotPasswordForm","sendForgotPassword","TabPanelProfileParameters","notificationMail","notificationPush","noValidate","autoComplete","interestChips","Autocomplete","multiple","options","getOptionLabel","option","defaultValue","interest","renderInput","params","placeholder","Paper","paperAccount","divAccount","buttonAccount","createImage","reject","Image","setAttribute","getCroppedImg","imageSrc","pixelCrop","canvas","document","createElement","ctx","getContext","safeArea","ios","platform","test","drawImage","getImageData","putImageData","x","y","toBlob","URL","createObjectURL","useCropperStyles","cropWrapper","cropContainer","top","left","right","bottom","controls","transform","slider","padding","cropButton","flexShrink","CropperImg","crop","setCrop","setZoom","croppedAreaPixels","setCroppedAreaPixels","onCropComplete","useCallback","croppedArea","showCroppedImage","e","closeCroppedImg","root","aspect","onCropChange","onZoomChange","Slider","step","ModalCrop","Modal","show","onHide","dialogClassName","Header","closeButton","Title","Body","progress","justifyContent","wrapperProfile","marginRight","background","border","boxShadow","shadows","flexWrap","pictureButtonContainer","overflow","objectFit","borderColor","boxSizing","tabs","tab","opacity","outline","activeTab","borderBottom","borderBottomColor","divider","textAlign","A300","a11yProps","Profile","useContext","locationParams","getParams","queryString","parse","search","valueTab","setValueTab","useDebouncedCallback","toastDebounced","useEffect","CircularProgress","Divider","Tabs","newValueTab","aria-label","Tab","icon","ProfileShowContainer","visitedUsername","visitedProfile","setVisitedProfile","loading","setLoading","founded","authorized","blockedId","reportedId","likedId","visitedlikevisitor","info","findEquivalence","number","ChipsList","list","genderChips","Chip","backgroundImage","columnPublicProfile","summary","carousel","slide","imageSlider","ProfileShow","computedMatch","elevation","enableMouseEvents","sortOptions","SearchFilters","searchOptions","handleChangeSlider","currentUserProfile","fetchSearch","handleSort","filtersContainer","titleGutterbottom","align","getAriaValueText","valueLabelDisplay","newValue","onChangeCommitted","marks","ageRange","popularityRange","select","SelectProps","native","MenuProps","menu","card","media","cardContentMatch","matchingRate","primary","paddingTop","paddingBottom","paddingLeft","paddingRight","MediaCard","field","date","liking","visitor","score","lastVisit","Card","CardActionArea","CardMedia","CardContent","Tooltip","IconButton","ProfilesGrid","profiles","displayedProfiles","setDisplayedProfiles","displayMoreProfiles","slice","wrapper","dataLength","next","hasMore","loader","md","lg","emptyPageWrapper","emptyPageText","hero","textTitle","SearchContainer","setCurrentUserProfile","searchResult","setSearchResult","distanceMax","setSearchOptions","sortChoice","order","newSearchOptions","orderBy","searchQuery","indexToModify","keys","pickBy","newSearchResult","querySelectorAll","element","classList","contains","remove","filtersButtonContainer","sliderContainer","menuItem","textDecoration","Search","light","SuggestionsFilters","suggestionsOptions","fetchSuggestions","SuggestionsContainer","suggestionsResult","setSuggestionsResult","setSuggestionsOptions","newSuggestionsOptions","suggestionsQuery","newSuggestionsResult","Suggestions","VisitContainer","visitorProfile","setVisitorProfile","newVisitedProfile","Visit","LikeContainer","likedProfile","setLikedProfile","likerProfile","setLikerProfile","newLikeedProfile","Like","likedUsername","accessDenied","Toaster","undefined","HomeContainer","userInfo","setUserInfo","homeWrapper","bgImage","Background","backgroundSize","homeTextDiv","CTA","signIn","CTAWrapper","dashboard","upDivWrapper","gridWrapper","leftColumn","leftColumnIcon","leftColumnText","columnCTAS","minHeight","columnPaper","paperCTA","paperText","findMatchTitle","Home","secureAuth","setSecureAuth","List","ListItem","ListItemIcon","ListItemText","gutterBottom","SecureRoute","Component","rest","render","to","NotLoggedRoute","NotificationDrawer","toggleDrawer","notifications","messageToDisplay","sender","onKeyDown","noNotificationsDrawer","notification","notifLink","read","notReadNotif","ListItemAvatar","flexGrow","menuButton","matchaLogo","navIcon","Nav","isLoggedIn","setIsLoggedIn","setNotifications","totalNotifications","setTotalNotifications","totalMessages","setTotalMessages","notifMenu","setNotifMenu","fetchTotalNotifications","fetchTotalMessages","fetchNotifications","on","AppBar","Toolbar","Badge","badgeContent","showZero","logout","SwipeableDrawer","anchor","onOpen","UserValidation","usePasswordForm","ResetForgotPassword","validToken","setValidToken","ForgotPassword","ChatContainer","matchList","setMatchList","buttonChatroom","textTransform","notReadMessage","emptyChat","emptyChatTitle","Chat","matchedProfile","redirectLink","matchid","content","ChatroomContainer","chatroomInfo","setChatroomInfo","chatroomMessages","setChatroomMessages","currentUser","setCurrentUser","setMessage","msg","concat","messages","emit","handleMessage","sendMessage","chatWrapper","chatInfoWrapper","chatInfoAvatarWrapper","chatContent","overflowY","boxMessageOther","boxMessageMe","textBubbleOther","textBubbleMe","messageInput","ChatRoom","useParams","scrolled","getElementById","scrollTop","scrollHeight","profileLink","author","App","path","hostname","ReactDOM","serviceWorker","ready","registration","unregister"],"mappings":"mFAAAA,EAAOC,QAAU,mN,4HCMbC,EACAC,E,wLCoDWC,EAvDO,SAAAC,GACpB,MAA4BC,mBAAS,CACnCC,UAAW,GACXC,QAAS,GACTC,SAAU,GACVC,MAAO,GACPC,UAAW,GACXC,UAAW,KANb,mBAAOC,EAAP,KAAeC,EAAf,KAQQP,EAAmDM,EAAnDN,UAAWC,EAAwCK,EAAxCL,QAASC,EAA+BI,EAA/BJ,SAAUC,EAAqBG,EAArBH,MAAOC,EAAcE,EAAdF,UAuC7C,MAAO,CACLI,aAvCmB,SAAAC,GACfA,IACFA,EAAMC,iBACNC,IACGC,KADH,UAEOC,6JAAYC,yBAFnB,UAGI,CACEd,YACAC,UACAC,WACAC,QACAY,SAAUX,GAEZ,CACEY,QAAS,CACP,eAAgB,qCAIrBC,MAAK,YAAe,IAAZC,EAAW,EAAXA,MACc,IAAjBA,EAAKC,QACPrB,GAAS,GAEToB,EAAKE,OAAOC,SAAQ,SAAAC,GAClBC,IAAMD,MAAMA,WAgBtBE,kBAVwB,SAAAf,GACxBA,EAAMgB,UACN,IAAM9B,EAAQ,2BACTW,GADS,kBAEXG,EAAMiB,OAAOC,KAAOlB,EAAMiB,OAAOE,QAEpCrB,EAAUZ,IAKVW,WC1CEuB,EAAYC,aAAW,SAAAC,GAAK,MAAK,CACrC,UAAW,CACTC,KAAM,CACJC,gBAAiBF,EAAMG,QAAQC,OAAOC,QAG1CC,MAAO,CACLC,UAAWP,EAAMQ,QAAQ,GACzBC,QAAS,OACTC,cAAe,SACfC,WAAY,UAEdC,OAAQ,CACNC,OAAQb,EAAMQ,QAAQ,GACtBN,gBAAiBF,EAAMG,QAAQW,UAAUC,MAE3CC,KAAM,CACJC,MAAO,OACPV,UAAWP,EAAMQ,QAAQ,IAE3BU,OAAQ,CACNL,OAAQb,EAAMQ,QAAQ,EAAG,EAAG,QChCjBW,EDoCA,WACb,IAKA,EAAoDrD,GALrC,SAAAsD,GACTA,IACFC,OAAOC,SAAW,+BAGd/C,EAAR,EAAQA,OAAQkB,EAAhB,EAAgBA,kBAAmBhB,EAAnC,EAAmCA,aAC7B8C,EAAUzB,IAEhB,OACE,kBAAC0B,EAAA,EAAD,CAAWC,UAAU,OAAOC,SAAS,MACnC,yBAAKC,UAAWJ,EAAQjB,OACtB,kBAACsB,EAAA,EAAD,CAAQD,UAAWJ,EAAQX,QACzB,kBAAC,IAAD,OAEF,kBAAC,IAAD,CAAYa,UAAU,KAAKI,QAAQ,MAAnC,WAGA,0BAAMF,UAAWJ,EAAQP,KAAMc,SAAUrD,GACvC,kBAAC,IAAD,CAAMsD,WAAS,EAACvB,QAAS,GACvB,kBAAC,IAAD,CAAMwB,MAAI,EAACC,GAAI,GAAIC,GAAI,GACrB,kBAAC,IAAD,CACEC,WAAS,EACTtB,OAAO,SACPuB,QAAQ,YACRC,KAAK,OACLzC,KAAK,YACL0C,SAAU7C,EACVI,MAAOtB,EAAON,UACdsE,GAAG,YACHV,QAAQ,WACRW,MAAM,aACNC,UAAQ,KAGZ,kBAAC,IAAD,CAAMT,MAAI,EAACC,GAAI,GAAIC,GAAI,GACrB,kBAAC,IAAD,CACEC,WAAS,EACTtB,OAAO,SACPuB,QAAQ,UACRC,KAAK,OACLzC,KAAK,UACL0C,SAAU7C,EACVI,MAAOtB,EAAOL,QACdqE,GAAG,UACHC,MAAM,YACNX,QAAQ,WACRY,UAAQ,KAGZ,kBAAC,IAAD,CAAMT,MAAI,EAACC,GAAI,IACb,kBAAC,IAAD,CACEE,WAAS,EACTtB,OAAO,SACPuB,QAAQ,WACRC,KAAK,OACLzC,KAAK,WACL0C,SAAU7C,EACVI,MAAOtB,EAAOJ,SACdoE,GAAG,WACHV,QAAQ,WACRY,UAAQ,EACRD,MAAM,cAGV,kBAAC,IAAD,CAAMR,MAAI,EAACC,GAAI,IACb,kBAAC,IAAD,CACEE,WAAS,EACTtB,OAAO,SACPuB,QAAQ,QACRC,KAAK,QACLzC,KAAK,QACL0C,SAAU7C,EACVI,MAAOtB,EAAOH,MACdmE,GAAG,QACHV,QAAQ,WACRW,MAAM,gBACNC,UAAQ,KAGZ,kBAAC,IAAD,CAAMT,MAAI,EAACC,GAAI,GAAIC,GAAI,GACrB,kBAAC,IAAD,CACEC,WAAS,EACTtB,OAAO,SACPuB,QAAQ,YACRC,KAAK,WACLzC,KAAK,YACL4C,MAAM,WACNF,SAAU7C,EACVI,MAAOtB,EAAOF,UACdkE,GAAG,YACHV,QAAQ,WACRY,UAAQ,KAGZ,kBAAC,IAAD,CAAMT,MAAI,EAACC,GAAI,GAAIC,GAAI,GACrB,kBAAC,IAAD,CACEC,WAAS,EACTtB,OAAO,SACPuB,QAAQ,YACRC,KAAK,WACLzC,KAAK,YACL0C,SAAU7C,EACVI,MAAOtB,EAAOD,UACdiE,GAAG,YACHV,QAAQ,WACRW,MAAM,oBACNC,UAAQ,MAId,kBAACC,EAAA,EAAD,CACEL,KAAK,SACLR,QAAQ,YACRc,MAAM,UACNR,WAAS,EACTR,UAAWJ,EAAQL,QALrB,WASA,kBAAC,IAAD,CAAMa,WAAS,EAACa,QAAQ,YACtB,kBAAC,IAAD,CAAMZ,MAAI,GACR,kBAACa,EAAA,EAAD,CAAMC,KAAK,SAASjB,QAAQ,SAA5B,0C,kCE9ECkB,EA9EM,SAAAhF,GACnB,MAA4BC,mBAAS,CACnCG,SAAU,GACVa,SAAU,KAFZ,mBAAOT,EAAP,KAAeC,EAAf,KAIQL,EAAuBI,EAAvBJ,SAAUa,EAAaT,EAAbS,SAsBZgE,EAAY,uCAAG,8BAAAC,EAAA,6DACbC,EApBC,IAAIC,SAAQ,SAAAC,GAIjBA,EAHoBxE,IAAMyE,IAAI,yBAAyBnE,MAAK,SAAAoE,GAC1D,MAAO,CAACA,EAASnE,KAAKoE,SAAUD,EAASnE,KAAKqE,kBAiB/B,SAXZ,IAAIL,SAAQ,SAAAC,GACjBK,UAAUC,YAAYC,oBAAmB,SAAAC,GACvC,IAAMC,EAAkB,CAAC,EAAK,GAC9BA,EAAgB,GAAKD,EAASE,OAAOP,SACrCM,EAAgB,GAAKD,EAASE,OAAON,UACrCJ,EAAQS,MAEVE,WAAWX,EAAS,QAIH,cAEbY,EAFa,yBAGZA,GAAOd,GAHK,2CAAH,qDA4ClB,MAAO,CACLzE,aAvCgB,uCAAG,WAAMC,GAAN,eAAAuE,EAAA,0DACfvE,EADe,uBAEjBA,EAAMC,iBAFW,SAGMqE,IAHN,OAGX1B,EAHW,OAIjB1C,IACGC,KADH,UAEOC,6JAAYC,yBAFnB,eAGI,CACEZ,WACAa,WACAiF,IAAK3C,EAAS,GACd4C,IAAK5C,EAAS,IAEhB,CACErC,QAAS,CACP,eAAgB,qCAIrBC,MAAK,YAAe,IAAZC,EAAW,EAAXA,MACc,IAAjBA,EAAKiC,SACP+C,aAAaC,QAAQ,QAASjF,EAAKkF,OACnCtG,GAAS,IAETyB,IAAMD,MAAMJ,EAAKmF,QAxBN,2CAAH,sDAwChB7E,kBAVwB,SAAAf,GACxBA,EAAMgB,UACN,IAAM9B,EAAQ,2BACTW,GADS,kBAEXG,EAAMiB,OAAOC,KAAOlB,EAAMiB,OAAOE,QAEpCrB,EAAUZ,IAKVW,WClEEuB,EAAYC,aAAW,SAAAC,GAAK,MAAK,CACrC,UAAW,CACTC,KAAM,CACJC,gBAAiBF,EAAMG,QAAQC,OAAOC,QAG1CC,MAAO,CACLC,UAAWP,EAAMQ,QAAQ,GACzBC,QAAS,OACTC,cAAe,SACfC,WAAY,UAEdC,OAAQ,CACNC,OAAQb,EAAMQ,QAAQ,GACtBN,gBAAiBF,EAAMG,QAAQW,UAAUC,MAE3CC,KAAM,CACJC,MAAO,OACPV,UAAWP,EAAMQ,QAAQ,IAE3BU,OAAQ,CACNL,OAAQb,EAAMQ,QAAQ,EAAG,EAAG,QC/BjB+D,EDmCD,WACZ,IAKA,EAAoDxB,GALtC,SAAA3B,GACRA,IACFC,OAAOC,SAAW,8BAGd/C,EAAR,EAAQA,OAAQkB,EAAhB,EAAgBA,kBAAmBhB,EAAnC,EAAmCA,aAC7B8C,EAAUzB,IAEhB,OACE,kBAAC0B,EAAA,EAAD,CAAWC,UAAU,OAAOC,SAAS,MACnC,yBAAKC,UAAWJ,EAAQjB,OACtB,kBAACsB,EAAA,EAAD,CAAQD,UAAWJ,EAAQX,QACzB,kBAAC,IAAD,OAEF,kBAAC,IAAD,CAAYa,UAAU,KAAKI,QAAQ,MAAnC,WAGA,0BAAMF,UAAWJ,EAAQP,KAAMc,SAAUrD,GACvC,kBAAC,IAAD,CACE0D,WAAS,EACTtB,OAAO,SACPuB,QAAQ,WACRC,KAAK,OACLzC,KAAK,WACL0C,SAAU7C,EACVI,MAAOtB,EAAOJ,SACdoE,GAAG,WACHV,QAAQ,WACRY,UAAQ,EACR+B,WAAS,EACThC,MAAM,aAGR,kBAAC,IAAD,CACEL,WAAS,EACTtB,OAAO,SACPuB,QAAQ,WACRC,KAAK,WACLzC,KAAK,WACL0C,SAAU7C,EACVI,MAAOtB,EAAOS,SACd6C,QAAQ,WACRU,GAAG,WACHE,UAAQ,EACRD,MAAM,aAER,kBAACE,EAAA,EAAD,CACEL,KAAK,SACLR,QAAQ,YACRc,MAAM,UACNR,WAAS,EACTR,UAAWJ,EAAQL,QALrB,UASA,kBAAC,IAAD,CAAMa,WAAS,GACb,kBAAC,IAAD,CAAMC,MAAI,EAACC,IAAE,GACX,kBAACY,EAAA,EAAD,CAAMC,KAAK,kBAAkBjB,QAAQ,SAArC,qBAIF,kBAAC,IAAD,CAAMG,MAAI,GACR,kBAACa,EAAA,EAAD,CAAMC,KAAK,UAAUjB,QAAQ,SAA7B,wC,+IE5FD4C,EAAiB,SAAAJ,GAC5B,IAAMK,EAAcC,KAAKC,MAAQ,IACjC,IAEE,OADgBC,IAAOR,GACXS,IAAMJ,IACsB,SAAlC5F,6JAAYiG,mBACdC,QAAQC,IAAI,0BACP,GAGT,MAAOX,GAEP,MADsC,SAAlCxF,6JAAYiG,mBAA8BC,QAAQC,IAAIX,IACnD,IAIEY,EAAW,uCAAG,WAAMb,GAAN,eAAApB,EAAA,yDACpBoB,IAASI,EAAeJ,GADJ,yCAEhB,MAFgB,uBAIFzF,IAAMyE,IAAN,UAClBvE,6JAAYC,yBADM,oBAErB,CACEE,QAAS,CACP,eAAgB,kCAChB,iBAAkBoF,KATC,cAInBc,EAJmB,yBAalBA,EAAShG,MAbS,2CAAH,sDCnBXiG,GAAcC,0BAEdC,GAAe,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACvBC,EDHCrB,aAAasB,QAAQ,SCI5B,EAAgBzH,mBAASwH,GAAlBnB,EAAP,oBACA,EAAmBrG,mBAASkH,EAAYM,IAElCE,EAAc,CAClBrB,QACAc,SAJF,qBAUMQ,EAAgB,CAAEC,OAHTC,IAAG,GAAD,OAAI/G,6JAAYC,0BAA4B,CAC3D+G,MAAO,CAAEzB,YAIX,OACE,kBAACe,GAAYW,SAAb,CACElG,MAAO,CACL6F,cACAC,kBAGDJ,I,6BRoYQS,GAxZQ,SAACb,EAAUd,GAChC,MAA8BrG,mBAAS,IAAvC,mBAAOiI,EAAP,KAAgBC,EAAhB,KACA,EAA4BlI,oBAAS,GAArC,mBAAOmI,EAAP,KAAeC,EAAf,KACA,EAA0CpI,mBAAS,IAAnD,mBAAOqI,EAAP,KAAsBC,EAAtB,KACA,EAAsCtI,mBAAS,MAA/C,mBAAOuI,EAAP,KAAoBC,EAApB,KACA,EAAkCxI,oBAAS,GAA3C,mBAAOyI,EAAP,KAAkBC,EAAlB,KACA,EAAwC1I,mBAAS,MAAjD,mBAAO2I,EAAP,KAAqBC,EAArB,KACA,EAAoC5I,mBAAS,MAA7C,mBAAO6I,EAAP,KAAmBC,EAAnB,KAEMC,EAAiB,kBACrBnI,IACGyE,IADH,UACUvE,6JAAYC,yBADtB,cAC4D,CACxDE,QAAS,CACP,eAAgB,kCAChB,iBAAkBoF,KAGrBnF,MAAK,SAAAoE,GACJ,OAAOA,EAASnE,QAEjB6H,OAAM,SAAAzH,GACiC,SAAlCT,6JAAYiG,mBAA8BC,QAAQC,IAAI1F,OAG5D0H,KAAEC,QAAQjB,IACZ9C,QAAQgE,IAAI,CAAChC,EAAU4B,MAAmB7H,MAAK,SAAAkI,GAC7C,IAAMC,EAAeD,EAAO,GAAGjI,KAC/BkI,EAAaC,UAAY,IAAI3C,KAAK0C,EAAaC,WAC5CC,cACAC,MAAM,KAAK,GACdH,EAAaI,cAAgBL,EAAO,GACpClB,EAAWmB,GACXjB,GAAU,MAId,IAsDMsB,EAAgC,SAAAhJ,GACpC,IAAMiJ,EAAgBC,SAASlJ,EAAMiB,OAAOE,MAAO,IACnD,IAA6B,IAAzBnB,EAAMiB,OAAOkI,QACf5B,EAAQ6B,kBAAkBC,KAAKJ,GAC/B1B,EAAQ6B,kBAAkBE,WACrB,CACL,IAAMC,EAAQhC,EAAQ6B,kBAAkBI,QAAQP,GAC5CM,GAAS,GACXhC,EAAQ6B,kBAAkBK,OAAOF,EAAO,GAG5CrK,EAAQ,2BACHqI,GADG,kBAELvH,EAAMiB,OAAOC,KAAOqG,EAAQ6B,oBAE/BjK,EAAgB,2BACXwI,GADW,kBAEb3H,EAAMiB,OAAOC,KAAOqG,EAAQ6B,qBAI3BM,EAAsB,SAAA1J,GAC1Bd,EAAQ,2BACHqI,GADG,kBAELvH,EAAMiB,OAAOC,KAAOlB,EAAMiB,OAAOE,QAEpChC,EAAgB,2BACXwI,GADW,kBAEb3H,EAAMiB,OAAOC,KAAOlB,EAAMiB,OAAOE,SAIhCwI,EAAuB,SAAA3J,GAC3B,GAAiC,KAA7BA,EAAMiB,OAAO2I,YAAoB,CACnC,IAAMC,EAAmB7J,EAAM8J,cAAcC,QAAQ,OAAOH,YACtDI,EAAezC,EAAQ0C,UAC7BD,EAAaP,OAAOlC,EAAQ0C,UAAUT,QAAQK,GAAmB,GACjE3K,EAAQ,2BACHqI,GADG,IAEN0C,UAAWD,IAEb7K,EAAgB,2BACXwI,GADW,IAEdsC,UAAWD,SAGb9K,EAAQ,2BACHqI,GADG,IAEN0C,UAAU,GAAD,oBAAM1C,EAAQ0C,WAAd,CAAyBjK,EAAMiB,OAAO2I,gBAEjDzK,EAAgB,2BACXwI,GADW,IAEdsC,UAAU,GAAD,oBAAM1C,EAAQ0C,WAAd,CAAyBjK,EAAMiB,OAAO2I,iBAuF/CM,EAAW,SAAAC,GACf,OAAO,IAAI1F,SAAQ,SAAAC,GACjB,IAAM0F,EAAS,IAAIC,WACnBD,EAAOE,iBAAiB,QAAQ,kBAAM5F,EAAQ0F,EAAOG,WAAS,GAC9DH,EAAOI,cAAcL,OAkJzB,MAAO,CACLM,iBAhGoB,uCAAG,WAAMzK,GAAN,eAAAuE,EAAA,0DACnBvE,EAAMiB,OAAOyJ,MAAM,GADA,gCAEMR,EAASlK,EAAMiB,OAAOyJ,MAAM,IAFlC,OAEfC,EAFe,OAGrB3C,GAAa,GACbF,EAAe6C,GAJM,2CAAH,sDAiGpBC,kBAzFwB,SAAAC,GACxB3K,IACGC,KADH,UAEOC,6JAAYC,yBAFnB,kBAGI,CAAEwK,OACF,CACEtK,QAAS,CACP,eAAgB,kCAChB,iBAAkBoF,KAIvBnF,MAAK,SAAAoE,GACJ,IAA8B,IAA1BA,EAASnE,KAAKiC,QAChB,GAAImI,IAAQtD,EAAQuD,eAAgB,CAClC,IAAM5L,EAAQ,2BACTqI,GADS,IAEZwD,OAAQxC,KAAEyC,QAAQzD,EAAQwD,OAAQF,GAClCC,eACEvC,KAAEyC,QAAQzD,EAAQwD,OAAQF,GAAK,IAC/B,oFAEJrD,EAAWtI,OACN,CACL,IAAMA,EAAQ,2BACTqI,GADS,IAEZwD,OAAQxC,KAAEyC,QAAQzD,EAAQwD,OAAQF,KAEpCrD,EAAWtI,OAIhBoJ,OAAM,SAAAzH,GACiC,SAAlCT,6JAAYiG,mBAA8BC,QAAQC,IAAI1F,OAyD9DoK,oBAtN0B,SAAAjL,GAC1BA,EAAMgB,UAEoB,aAAtBhB,EAAMiB,OAAO0C,MACW,gBAAtB3D,EAAMiB,OAAOC,MACfwI,EAAoB1J,GAEH,UAAfA,EAAM2D,KACRgG,EAAqB3J,GA5IQ,SAAAA,GACjCd,EAAQ,2BACHqI,GADG,kBAELvH,EAAMiB,OAAOC,KAAOlB,EAAMiB,OAAOE,QAEpChC,EAAgB,2BACXwI,GADW,kBAEb3H,EAAMiB,OAAOC,KAAOlB,EAAMiB,OAAOE,QAuIhC+J,CAA2BlL,KAGH,WAAtBA,EAAMiB,OAAOC,MAlCM,SAAAlB,GACzB,IAAMiJ,EAAgBC,SAASlJ,EAAMiB,OAAOE,MAAO,IACnD,IAA6B,IAAzBnB,EAAMiB,OAAOkI,QACf5B,EAAQ4D,OAAO9B,KAAKJ,GACpB1B,EAAQ4D,OAAO7B,WACV,CACL,IAAMC,EAAQhC,EAAQ4D,OAAO3B,QAAQP,GACjCM,GAAS,GACXhC,EAAQ4D,OAAO1B,OAAOF,EAAO,GAGjCrK,EAAQ,2BACHqI,GADG,kBAELvH,EAAMiB,OAAOC,KAAOqG,EAAQ4D,SAE/BhM,EAAgB,2BACXwI,GADW,kBAEb3H,EAAMiB,OAAOC,KAAOqG,EAAQ4D,SAkB3BC,CAAmBpL,GAGG,qBAAtBA,EAAMiB,OAAOC,MACS,qBAAtBlB,EAAMiB,OAAOC,MAnHO,SAAAlB,GACxBd,EAAQ,2BACHqI,GADG,kBAELvH,EAAMiB,OAAOC,KAAOlB,EAAMiB,OAAOkI,UAEpChK,EAAgB,2BACXwI,GADW,kBAEb3H,EAAMiB,OAAOC,KAAOlB,EAAMiB,OAAOkI,UA8GhCkC,CAAkBrL,GAEM,sBAAtBA,EAAMiB,OAAOC,MACf8H,EAA8BhJ,IAIlCwH,EAAWtI,GACX0I,EAAiBzI,IA2LjBmM,iBA7SuB,SAAAC,GACvBrM,EAAQ,2BACHqI,GADG,IAENiE,KAAMD,IAER/D,EAAWtI,IAySX8J,gCACAU,sBACAnC,UACAE,SACAgE,yBA3D+B,SAAAC,GAC/B,IAAMxM,EAAQ,2BACTqI,GADS,IAEZuD,eAAgBY,IAEZvM,EAAgB,2BACjBwI,GADiB,IAEpBmD,eAAgBY,IAElBlE,EAAWtI,GACX0I,EAAiBzI,IAkDjBwK,uBACAgC,qBAhD2B,SAAAC,GAC3B,IAAM1M,EAAQ,2BACTqI,GADS,IAEZ3E,SAAUgJ,IAENzM,EAAgB,2BACjBwI,GADiB,IAEpB/E,SAAUgJ,IAEZpE,EAAWtI,GACX0I,EAAiBzI,IAuCjB0M,uBAhM6B,SAAA7L,GAC7BA,EAAMgB,UACFuH,KAAEC,QAAQb,GACZ7G,IAAMD,MAAM,gCACHb,IACTA,EAAMC,iBACNC,IACG4L,IADH,UAEO1L,6JAAYC,yBAFnB,UAGIsH,EACA,CACEpH,QAAS,CACP,eAAgB,kCAChB,iBAAkBoF,KAIvBnF,MAAK,SAAAoE,IAC0B,IAA1BA,EAASnE,KAAKiC,SAChB5B,IAAM4B,QAAQkC,EAASnE,KAAKsL,SAC5BnE,EAAiB,KAEjBhD,EAASnE,KAAKE,OAAOC,SAAQ,SAAAC,GAC3BC,IAAMD,MAAMA,WA0KtBmL,UAzVgB,SAACC,EAAStI,GAC1B,MAAa,WAATA,GAAqB4D,EAAQ4D,OACA5D,EAAQ4D,OAAOe,SAASD,KAG5C,sBAATtI,IAAgC4D,EAAQ6B,oBAE3B7B,EAAQ6B,kBAAkB8C,SAASD,IAmVpDE,OA7Ua,SAAAC,GACb,IAAMC,EAAQ,IAAIpG,KACZ2C,EAAY,IAAI3C,KAAKmG,GACvBE,EAAMD,EAAME,cAAgB3D,EAAU2D,cACpCC,EAAIH,EAAMI,WAAa7D,EAAU6D,WAIvC,OAHID,EAAI,GAAY,IAANA,GAAWH,EAAMK,UAAY9D,EAAU8D,YACnDJ,IAEI,GAAN,OAAUA,EAAV,UAsUAjE,iBACAsE,WAxCiB,WACIhK,OAAOiK,QAC1B,mDAGA1M,IACG2M,OADH,UACazM,6JAAYC,yBADzB,WAC4D,CACxDE,QAAS,CACP,eAAgB,kCAChB,iBAAkBoF,KAGrBnF,MAAK,SAAAoE,IAC0B,IAA1BA,EAASnE,KAAKqM,SAChBrH,aAAasH,WAAW,SACxBpK,OAAOC,SAAW,4BAEoB,SAAlCxC,6JAAYiG,mBACdC,QAAQC,IAAI3B,EAASnE,UAuB/BsH,YACAC,eACAH,cACAC,iBACAG,eACAC,kBACA8E,OA7Ha,SAAAC,GACb,IAzCkBC,EAASC,EAyCrBC,GAzCqBD,EAyCS,cAzClBD,EAyCOD,GAxCjBI,iBAAmB,IAAIpH,KAC/BiH,EAAQhM,KAAOiM,EACRD,GAuCDI,EAAW,IAAIC,SACrBD,EAASE,OAAO,OAAQJ,GACxBhF,EAAckF,IA0HdnF,aACAsF,uBAjK6B,SAAAH,GAC7BpN,IACGC,KADH,UAEOC,6JAAYC,yBAFnB,kBAGIiN,EACA,CACE/M,QAAS,CACP,eAAgB,sBAChB,iBAAkBoF,KAIvBnF,MAAK,SAAAoE,GACJ,GAA+B,OAA3B2C,EAAQuD,eAAyB,CACnC,IAAM5L,EAAQ,2BACTqI,GADS,IAEZwD,OAAO,GAAD,oBAAMxD,EAAQwD,QAAd,CAAsBnG,EAASnE,KAAKiN,WAC1C5C,eAAgBlG,EAASnE,KAAKiN,WAEhClG,EAAWtI,OACN,CACL,IAAMA,EAAQ,2BACTqI,GADS,IAEZwD,OAAO,GAAD,oBAAMxD,EAAQwD,QAAd,CAAsBnG,EAASnE,KAAKiN,aAE5ClG,EAAWtI,OAGdoJ,OAAM,SAAAzH,GACiC,SAAlCT,6JAAYiG,mBAA8BC,QAAQC,IAAI1F,MAE9DmH,GAAa,M,0JS7QF2F,GAZG,SAAC,GAA6C,IAA3CpI,EAA0C,EAA1CA,IAAKC,EAAqC,EAArCA,IAAK+B,EAAgC,EAAhCA,QAAS+D,EAAuB,EAAvBA,iBAStC,OARK/D,EAAQiE,MACXtL,IACGyE,IADH,2EAEwEY,EAFxE,gBAEmFC,EAFnF,iBAIGhF,MAAK,SAAAC,GACJ6K,EAAiB7K,EAAKA,KAAKmN,QAAQpC,SAElC,aAAMjE,EAAQiE,QAAU,G,oBCP3BpK,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCuM,UAAW,CACThM,UAAW,OACXiM,aAAc,MACdvL,MAAO,OACPwL,OAAQ,OACRC,aAAc,MACdxM,gBAAiB,WAEnByM,aAAc,CACZpM,UAAW,OACXiM,aAAc,MACdvL,MAAO,OACPwL,OAAQ,OACRC,aAAc,MACdxM,gBAAiB,WAEnB0M,eAAgB,CACdnM,QAAS,OACTC,cAAe,MACfC,WAAY,YAEdkM,mBAAoB,CAClBC,WAAY9M,EAAMQ,QAAQ,GAC1BuM,SAAU,aAyBCC,GArBG,SAAC,GAAkD,IAAhDC,EAA+C,EAA/CA,YAAaC,EAAkC,EAAlCA,eAAgBC,EAAkB,EAAlBA,YAC1C5L,EAAUzB,KAChB,OAAoB,IAAhBmN,EAEA,8BACE,yBAAKtL,UAAWJ,EAAQgL,aAK5B,0BAAM5K,UAAWJ,EAAQqL,gBACvB,yBAAKjL,UAAWJ,EAAQoL,eACvBQ,EACC,yBAAKxL,UAAWJ,EAAQsL,oBAAxB,gBACgBO,KAAOF,GAAgBG,WAErC,OChCJvN,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCsN,SAAU,CACRzM,OAAQ,WAEV0M,WAAY,CACV3J,SAAU,YAEZ4J,YAAa,CACX5J,SAAU,gBA6MC6J,GAzMS,SAAC,GASlB,IARLlM,EAQI,EARJA,QACA0E,EAOI,EAPJA,QACA4E,EAMI,EANJA,OACA6C,EAKI,EALJA,YACAC,EAII,EAJJA,aACA3D,EAGI,EAHJA,iBACA4D,EAEI,EAFJA,WACAvL,EACI,EADJA,KAEMwL,EAAe/N,KACrB,EAA8B9B,mBAASiI,EAAQ6H,gBAA/C,mBAAOC,EAAP,KAAgBC,EAAhB,KACA,EAAgChQ,mBAASiI,EAAQgI,iBAAjD,mBAAOC,EAAP,KAAiBC,EAAjB,KACA,EAA0BnQ,mBAASiI,EAAQmI,oBAA3C,mBAAOC,EAAP,KAAcC,EAAd,KACA,EAAgCC,IAAMvQ,SAAS,MAA/C,mBAAOwQ,EAAP,KAAiBC,EAAjB,KAIMC,EAAc,WAClBD,EAAY,OAaRE,EAAY,oBAAgB1I,EAAQ2I,SAE1C,OACE,kBAAC,KAAD,CACEjN,WACoB,IAAlBsE,EAAQ4I,MACJtN,EAAQuN,kBACRvN,EAAQwN,cAGd,kBAAC,IAAD,CAAMhN,WAAS,EAACJ,UAAWJ,EAAQyN,mBAAoBC,UAAU,OAC/D,kBAAC,IAAD,CAAMjN,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGP,UAAWJ,EAAQ2N,wBAC3C,kBAAC,IAAD,CAAMlN,MAAI,EAACC,GAAI,EAAGC,GAAI,GACpB,yBACEP,UAAWkM,EAAaN,WACxB4B,IACElJ,EAAQuD,gBACR,kFAEF4F,IAAI,aACJnO,MAAM,QAEP8M,EACC,kBAAC,KAAD,CACEpM,UAAWkM,EAAaL,YACxB7K,MAAM,YACNoK,SAAS,UAET,MAEN,kBAAC,IAAD,CACE/K,MAAI,EACJC,GAAI,EACJC,GAAI,EACJP,UAAWJ,EAAQ8N,4BAEnB,6BACE,8BAAOpJ,EAAQhI,YAEjB,6BACE,8BACGgI,EAAQqB,WACa,eAAtBrB,EAAQqB,WACc,6BAAtBrB,EAAQqB,UACJuD,EACE,IAAIlG,KAAKsB,EAAQqB,WAAWC,cAAcC,MAAM,KAAK,IAEvD,kBAEN,8BACGvB,EAAQ3E,SACE,WAATe,EA7DC,WACf,IAAkBiN,EAAoBrJ,EAA9B3E,SACJiO,EAAOC,uBACT,CAAEjM,SAAU0C,EAAQ3E,SAAS,GAAIkC,UAAWyC,EAAQ3E,SAAS,IAC7D,CAAEiC,SAAU+L,EAAgB,GAAI9L,UAAW8L,EAAgB,KAG7D,OADAC,EAAOE,KAAKC,MAAMH,EAAO,KACnB,MAAN,OAAaA,EAAb,OAuDgBI,GAEA,kBAAC,GAAD,CACE3F,iBAAkBA,EAClB/F,IAAKgC,EAAQ3E,SAAS,GACtB4C,IAAK+B,EAAQ3E,SAAS,GACtB2E,QAASA,IAGX,MAEI,WAAT5D,EACC,kBAAC,GAAD,CACE4K,YAAahH,EAAQ2J,UACrB1C,eAAgBjH,EAAQiH,eACxBC,aAAW,IAEX,QAIV,kBAAC,IAAD,CAAMnL,MAAI,EAACE,GAAI,EAAGD,GAAI,GAAIN,UAAWJ,EAAQsO,yBAC3C,kBAAC,IAAD,CACE7N,MAAI,EACJ8N,QAAQ,iBACR7N,GAAI,GACJC,GAAI,EACJP,UAAWJ,EAAQwO,6BAEnB,kBAACC,GAAA,EAAD,CACErN,MAAM,YACNsN,KAAK,QACLtO,UAAWkM,EAAaP,UAEvBrH,EAAQiK,eALX,MAQQ,WAAT7N,EACC,kBAAC,IAAD,CACEL,MAAI,EACJC,GAAI,GACJC,GAAI,EACJP,UAAWJ,EAAQwO,6BAElB9J,EAAQ4I,MACP,kBAACmB,GAAA,EAAD,CACErN,MAAM,UACNsN,KAAK,QACLtO,UAAWkM,EAAaP,SACxBxK,KAAM6L,GAEN,kBAAC,KAAD,OAEA,KACHN,EACC,kBAAC2B,GAAA,EAAD,CACEG,QAAS,kBAAMvC,EAAW3H,EAAQ1D,GAAI+L,IACtC3L,MAAM,UACNsN,KAAK,QACLtO,UAAWkM,EAAaP,UAExB,kBAAC,KAAD,OAGF,kBAAC0C,GAAA,EAAD,CACEG,QAAS,kBAAMvC,EAAW3H,EAAQ1D,GAAI+L,IACtC3L,MAAM,UACNsN,KAAK,QACLtO,UAAWkM,EAAaP,UAExB,kBAAC,KAAD,OAGJ,6BACE,kBAAC0C,GAAA,EAAD,CACEG,QAhJI,SAAAzR,GAClB+P,EAAY/P,EAAM8J,gBAgJJ7F,MAAM,YACNsN,KAAK,QACLtO,UAAWkM,EAAaP,UAExB,kBAAC,KAAD,OAEF,kBAAC8C,GAAA,EAAD,CACE7N,GAAG,cACHiM,SAAUA,EACV6B,aAAW,EACXC,KAAMC,QAAQ/B,GACdgC,QAAS9B,GAET,kBAAC+B,GAAA,EAAD,CACEN,QAAS,kBAAMzC,EAAYzH,EAAQ1D,GAAIwL,EAASC,KAE/CD,EAAU,UAAY,SAExBG,EACC,kBAACuC,GAAA,EAAD,CAAUC,UAAQ,EAACP,QAASzB,GAA5B,0BAIA,kBAAC+B,GAAA,EAAD,CACEN,QAAS,kBACPxC,EAAa1H,EAAQ1D,GAAI2L,EAAUC,KAFvC,aAWN,S,0CCrKCwC,GArDS,SAAC,GAQlB,IAPLC,EAOI,EAPJA,SACArP,EAMI,EANJA,QACAsP,EAKI,EALJA,KACAC,EAII,EAJJA,IACAxH,EAGI,EAHJA,kBACAa,EAEI,EAFJA,yBACAX,EACI,EADJA,eAEA,OAAIoH,EACKA,EAASG,KAAI,SAAA3G,GAAU,OAC5B,kBAACyG,EAAD,CACEG,IAAK5G,EACLpI,MAAI,EACJC,GAAI,EACJC,GAAI,EACJ+O,GAAI,EACJtP,UAAWJ,EAAQ2P,kBAEnB,yBACE/B,IAAK/E,EACLgF,IAAI,aACJnO,MAAM,OACNU,UACE6H,IAAmBY,EACf7I,EAAQiI,eACRjI,EAAQ4P,QAEdhB,QAAS,kBAAMhG,EAAyBC,MAE1C,kBAAC4F,GAAA,EAAD,CACErN,MAAM,YACNsN,KAAK,QACLtO,UAAWJ,EAAQ6P,oBACnBjB,QAAS,kBAAM7G,EAAkBc,KAEjC,kBAAC,KAAD,CAAkBxK,KAAMwK,EAAYvK,MAAOuK,SAMjD,kBAACyG,EAAD,CAAM9O,WAAS,EAACE,GAAI,EAAGC,GAAI,EAAGP,UAAWJ,EAAQ2P,kBAC/C,kBAACJ,EAAD,CACEhB,QAAQ,iBACR7O,MAAM,OACNU,UAAWJ,EAAQ8P,qBAEnB,8C,wCCPOC,GArCM,SAAC,GAOf,IANLC,EAMI,EANJA,MACAhQ,EAKI,EALJA,QACAmJ,EAII,EAJJA,UACAf,EAGI,EAHJA,oBACA/J,EAEI,EAFJA,KACA4C,EACI,EADJA,MAEA,GAAIA,EACF,OACE,oCACE,kBAAC,IAAD,CAAYX,QAAQ,aAClB,kBAAC,KAAD,CAAK2P,WAAW,kBAAkBD,IAEpC,kBAACE,GAAA,EAAD,CAAahQ,UAAU,WAAWE,UAAWJ,EAAQmQ,aACnD,kBAACC,GAAA,EAAD,CAAWC,KAAG,GACXpP,EAAMuO,KAAI,SAACc,EAAU5J,GAAX,OACT,kBAAC6J,GAAA,EAAD,CACEd,IAAK/I,EACL8J,QACE,kBAACC,GAAA,EAAD,CACEnK,QAAS6C,EAAUzC,EAAQ,EAAGrI,GAC9B0C,SAAUqH,EACV/J,KAAMA,EACNC,OAAQoI,EAAQ,GAAGgK,SAAS,MAGhCzP,MAAOA,EAAMyF,YCgDdiK,GAhFQ,SAAC,GAWjB,IAVL3Q,EAUI,EAVJA,QACA4Q,EASI,EATJA,WACArB,EAQI,EARJA,IACAsB,EAOI,EAPJA,UAEAzI,GAKI,EANJ1D,QAMI,EALJ0D,qBACA/J,EAII,EAJJA,KACAC,EAGI,EAHJA,MACA0R,EAEI,EAFJA,MACAlP,EACI,EADJA,KAEA,MAAa,SAATA,EAEA,yBAAKV,UAAWJ,EAAQmQ,aACtB,kBAACS,EAAD,CAAYtQ,QAAQ,aAClB,kBAACiP,EAAD,CAAKU,WAAW,kBAAkBD,IAEpC,kBAACa,EAAD,CACEzQ,UAAWJ,EAAQ8Q,UACnBxR,OAAO,SACPgB,QAAQ,WACRjC,KAAMA,EACNC,MAAOA,EACPyC,SAAUqH,EACVtH,KAAMA,EACNiQ,WAAY,CACVC,WAAY,CACVC,IAAKpF,OACFqF,SAAS,IAAK,SACdlL,cACAC,MAAM,KAAK,GACdkL,IAAKtF,OACFqF,SAAS,GAAI,SACblL,cACAC,MAAM,KAAK,QAOb,gBAAT5H,EAEA,yBAAK+B,UAAWJ,EAAQmQ,aACtB,kBAACS,EAAD,CAAYtQ,QAAQ,aAClB,kBAACiP,EAAD,CAAKU,WAAW,kBAAkBD,IAEpC,kBAACa,EAAD,CACEzQ,UAAWJ,EAAQoR,aACnB9R,OAAO,SACPgB,QAAQ,WACRjC,KAAMA,EACNC,MAAOA,EACPyC,SAAUqH,EACVtH,KAAMA,EACNuQ,WAAS,EACTC,KAAK,OAMX,yBAAKlR,UAAWJ,EAAQmQ,aACtB,kBAACS,EAAD,CAAYtQ,QAAQ,aAClB,kBAACiP,EAAD,CAAKU,WAAW,kBAAkBD,IAEpC,kBAACa,EAAD,CACEzQ,UAAWJ,EAAQ8Q,UACnBxR,OAAO,SACPgB,QAAQ,WACRjC,KAAMA,EACNC,MAAOA,EACPyC,SAAUqH,EACVtH,KAAMA,MClEd,SAASyQ,GAASC,GAChB,IAAQxN,EAA2BwN,EAA3BxN,SAAU1F,EAAiBkT,EAAjBlT,MAAOoI,EAAU8K,EAAV9K,MAEzB,OACE,kBAAC,IAAD,CACExG,UAAU,MACVuR,KAAK,WACLC,OAAQpT,IAAUoI,EAClB1F,GAAE,0BAAqB0F,GACvBiL,kBAAA,qBAA+BjL,IAE/B,kBAAC,KAAD,CAAKkL,EAAG,GAAI5N,IAKlB,IAmHe6N,GAnHc,SAAC,GAWvB,IAVLvT,EAUI,EAVJA,MACAoI,EASI,EATJA,MACA1G,EAQI,EARJA,QACA0E,EAOI,EAPJA,QACAyE,EAMI,EANJA,UACAf,EAKI,EALJA,oBACAY,EAII,EAJJA,uBACApB,EAGI,EAHJA,iBACAgB,EAEI,EAFJA,yBACAb,EACI,EADJA,kBAEA,OACE,kBAACwJ,GAAD,CAAUjT,MAAOA,EAAOoI,MAAOA,GAC7B,kBAAC,IAAD,CAAMlG,WAAS,GACb,kBAAC,IAAD,CAAMC,MAAI,EAACE,GAAI,EAAGP,UAAWJ,EAAQ8R,mBACnC,kBAAC,GAAD,CACE9B,MAAM,SACNhQ,QAASA,EACTmJ,UAAWA,EACXf,oBAAqBA,EACrB/J,KAAK,SACL4C,MAAO,CACL,QACA,MACA,YACA,UACA,cACA,YACA,gBAGJ,kBAAC,GAAD,CACE+O,MAAM,mBACNhQ,QAASA,EACTmJ,UAAWA,EACXf,oBAAqBA,EACrB/J,KAAK,oBACL4C,MAAO,CACL,QACA,MACA,YACA,UACA,cACA,YACA,gBAGJ,kBAAC,GAAD,CACEjB,QAASA,EACT4Q,WAAYA,IACZrB,IAAKA,KACLsB,UAAWA,IACXnM,QAASA,EACT0D,oBAAqBA,EACrB/J,KAAK,cACLC,MAAOoG,EAAQqN,YACf/B,MAAM,kBACNlP,KAAK,SAEP,kBAAC,KAAD,KACE,kBAACK,EAAA,EAAD,CACEb,QAAQ,YACRc,MAAM,YACNsN,KAAK,SACLE,QAAS5F,GAJX,kBAUJ,kBAAC,IAAD,CAAMvI,MAAI,EAACE,GAAI,EAAGP,UAAWJ,EAAQ8R,mBACnC,kBAAC,IAAD,CAAYxR,QAAQ,aAClB,kBAAC,KAAD,CAAK2P,WAAW,kBAAhB,gBAEF,kBAAC,IAAD,CAAMzP,WAAS,GACb,kBAAC,IAAD,CAAMC,MAAI,EAACuR,IAAK,GAAI5R,UAAWJ,EAAQiS,qBACrC,kBAAC,GAAD,CACEjS,QAASA,EACTsP,KAAMA,IACND,SAAU3K,EAAQwD,OAClBD,eAAgBvD,EAAQuD,eACxBsH,IAAKA,KACLpO,OAAQA,IACR4G,kBAAmBA,EACnBa,yBAA0BA,IAE3BlE,EAAQwD,QAAUxD,EAAQwD,OAAOgK,OAAS,EACzC,kBAAC,KAAD,CAAK9R,UAAWJ,EAAQ8P,qBACtB,kBAAC3O,EAAA,EAAD,CACEb,QAAQ,YACRc,MAAM,UACNhB,UAAWJ,EAAQmS,OACnBzD,KAAK,QACL0D,UAAW,kBAAC,KAAD,OALb,oBASA,2BACEnR,MAAM,cACNH,KAAK,OACLuR,OAAO,wBACPtR,SAAU6G,EACVxH,UAAWJ,EAAQsS,eAGrB,W,yCCzGHC,I,OArBa,SAAC,GAAuC,IAArCzJ,EAAoC,EAApCA,qBAAsB9I,EAAc,EAAdA,QASnD,OACE,oCACE,kBAAC,KAAD,CACEwS,eAAgBxS,EAAQ8Q,UACxB2B,SAAU,SAAA/K,GAZO,IAAAqD,IAaArD,EAAOqK,YAZ5BW,4BAAiB3H,GACdpN,MAAK,SAAAgV,GAAO,OAAIC,qBAAUD,EAAQ,OAClChV,MAAK,YAAmB,IAAhB+E,EAAe,EAAfA,IAAKmQ,EAAU,EAAVA,IAEZ/J,EADoB,CAACpG,EAAKmQ,a,qBCT5BC,GAAS,kBACb,yBACElF,IAAI,mFACJ1C,OAAO,OACPxL,MAAM,OACNmO,IAAI,yBAoBOkF,GAhBH,SAAC,GAAkB,IAAhBrQ,EAAe,EAAfA,IAAKC,EAAU,EAAVA,IAClB,EAAiBlG,mBAAS,CAAEiG,MAAKmQ,IAAKlQ,IAA/BqQ,EAAP,oBACA,EAAevW,mBAAS,IAAjBwW,EAAP,oBACA,OACE,yBAAKC,MAAO,CAAEhI,OAAQ,OAAQxL,MAAO,SACnC,kBAAC,KAAD,CACEyT,iBAAkB,CAAE1D,IAAK,2CACzB2D,cAAeJ,EACfK,YAAaJ,GAEb,kBAAC,GAAD,CAAQvQ,IAAKA,EAAKmQ,IAAKlQ,OCgChB2Q,GAlDe,SAAA9W,GAC5B,MAA4BC,mBAAS,CACnCI,MAAO,KADT,mBAAOG,EAAP,KAAeC,EAAf,KAGQJ,EAAUG,EAAVH,MAEF0W,EAAqB,SAAA1W,GACzBQ,IACGC,KADH,UAEOC,6JAAYC,yBAFnB,oCAGI,CACEX,SAEF,CACEa,QAAS,CACP,eAAgB,qCAIrBC,MAAK,YAAe,IAAZC,EAAW,EAAXA,MACc,IAAjBA,EAAKiC,QACPrD,GAAS,GAETyB,IAAMD,MAAMJ,EAAKmF,SAmBzB,MAAO,CACL7F,aAfgB,uCAAG,WAAMC,GAAN,SAAAuE,EAAA,0DACfvE,EADe,uBAEjBA,EAAMC,iBAFW,SAGXmW,EAAmB1W,GAHR,2CAAH,sDAgBhBqB,kBAVwB,SAAAf,GACxBA,EAAMgB,UACN,IAAM9B,EAAQ,2BACTW,GADS,kBAEXG,EAAMiB,OAAOC,KAAOlB,EAAMiB,OAAOE,QAEpCrB,EAAUZ,IAKVW,SACAuW,uBChCJ,SAAShC,GAASC,GAChB,IAAQxN,EAA2BwN,EAA3BxN,SAAU1F,EAAiBkT,EAAjBlT,MAAOoI,EAAU8K,EAAV9K,MAEzB,OACE,kBAAC,IAAD,CACExG,UAAU,MACVuR,KAAK,WACLC,OAAQpT,IAAUoI,EAClB1F,GAAE,0BAAqB0F,GACvBiL,kBAAA,qBAA+BjL,IAE/B,kBAAC,KAAD,CAAKkL,EAAG,GAAI5N,IAKlB,IA6MewP,GA7MmB,SAAC,GAc5B,IAbLlV,EAaI,EAbJA,MACAoI,EAYI,EAZJA,MACA1G,EAWI,EAXJA,QACA0E,EAUI,EAVJA,QAEA0D,GAQI,EATJe,UASI,EARJf,qBACAY,EAOI,EAPJA,uBACA5B,EAMI,EANJA,UACAlB,EAKI,EALJA,cACA4C,EAII,EAJJA,qBACA2K,EAGI,EAHJA,iBACAC,EAEI,EAFJA,iBACA5J,EACI,EADJA,WAEQyJ,EAAuBD,IAAsB,kBACnDrV,IAAM4B,QAAQ,kDADR0T,mBAIR,OACE,kBAAC,GAAD,CAAUjV,MAAOA,EAAOoI,MAAOA,GAC7B,kBAAC,KAAD,CAAKiN,YAAU,EAACC,aAAa,OAC3B,kBAAC,IAAD,CAAMpT,WAAS,GACb,kBAAC,IAAD,CAAMC,MAAI,EAACE,GAAI,EAAGP,UAAWJ,EAAQ8R,mBACnC,kBAAC,GAAD,CACE9R,QAASA,EACT4Q,WAAYA,IACZrB,IAAKA,KACLsB,UAAWA,IACXnM,QAASA,EACT0D,oBAAqBA,EACrB/J,KAAK,YACLC,MAAOoG,EAAQhI,UACfsT,MAAM,YACNlP,KAAK,SAEP,kBAAC,GAAD,CACEd,QAASA,EACT4Q,WAAYA,IACZrB,IAAKA,KACLsB,UAAWA,IACXnM,QAASA,EACT0D,oBAAqBA,EACrB/J,KAAK,UACLC,MAAOoG,EAAQ/H,QACfqT,MAAM,UACNlP,KAAK,SAEP,kBAAC,GAAD,CACEd,QAASA,EACT4Q,WAAYA,IACZrB,IAAKA,KACLsB,UAAWA,IACXnM,QAASA,EACT0D,oBAAqBA,EACrB/J,KAAK,WACLC,MAAOoG,EAAQ9H,SACfoT,MAAM,WACNlP,KAAK,SAEP,kBAAC,GAAD,CACEd,QAASA,EACT4Q,WAAYA,IACZrB,IAAKA,KACLsB,UAAWA,IACXnM,QAASA,EACT0D,oBAAqBA,EACrB/J,KAAK,QACLC,MAAOoG,EAAQ7H,MACfmT,MAAM,QACNlP,KAAK,UAEP,kBAAC,IAAD,CAAYR,QAAQ,aAClB,kBAAC,KAAD,CAAK2P,WAAW,kBAAhB,aAEF,yBAAK7P,UAAWJ,EAAQmQ,aACrBzL,EAAQ3E,SACP,oCACE,kBAAC,GAAD,CACEC,QAASA,EAET8I,qBAAsBA,IAExB,kBAAC,GAAD,CAAKpG,IAAKgC,EAAQ3E,SAAS,GAAI4C,IAAK+B,EAAQ3E,SAAS,MAErD,MAEN,kBAAC,GAAD,CACEC,QAASA,EACT4Q,WAAYA,IACZrB,IAAKA,KACLsB,UAAWA,IACXnM,QAASA,EACT0D,oBAAqBA,EACrB/J,KAAK,YACLC,MAAOoG,EAAQqB,UAEfiK,MAAM,YACNlP,KAAK,UAGT,kBAAC,IAAD,CAAML,MAAI,EAACE,GAAI,EAAGP,UAAWJ,EAAQ8R,mBACnC,yBAAK1R,UAAWJ,EAAQmQ,aACtB,kBAAC,IAAD,CAAY7P,QAAQ,aAClB,kBAAC,KAAD,CAAK2P,WAAW,kBAAhB,cAEF,yBAAK7P,UAAWJ,EAAQ6T,eACtB,6BACE,kBAACC,GAAA,EAAD,CACEC,UAAQ,EACRC,QAAS9N,EACT+N,eAAgB,SAAAC,GAAM,OAAIA,EAAO7V,MACjC8V,aAAc/M,EAAUoI,KAAI,SAAA4E,GAC1B,MAAO,CAAE/V,KAAM+V,MAEjBlB,MAAO,CAAExT,MAAO,KAChBqB,SAAUqH,EACV/J,KAAK,WACLgW,YAAa,SAAAC,GAAM,OACjB,kBAAC,IAAD,iBACMA,EADN,CAEEhU,QAAQ,WACRiU,YAAY,eACZ3T,WAAS,WAOrB,kBAAC,IAAD,CAAYN,QAAQ,aAClB,kBAAC,KAAD,CAAK2P,WAAW,kBAAhB,kBAEF,kBAACC,GAAA,EAAD,CAAahQ,UAAU,WAAWE,UAAWJ,EAAQmQ,aACnD,kBAACC,GAAA,EAAD,CAAWC,KAAG,GACZ,kBAACE,GAAA,EAAD,CACEC,QACE,kBAACC,GAAA,EAAD,CACEnK,SAA8B,IAArBmN,EACT1S,SAAUqH,EACV/J,KAAK,mBACLC,MAAM,qBAGV2C,MAAM,SAER,kBAACsP,GAAA,EAAD,CACEC,QACE,kBAACC,GAAA,EAAD,CACEnK,SAA8B,IAArBoN,EACT3S,SAAUqH,EACV/J,KAAK,mBACLC,MAAM,qBAGV2C,MAAM,WAIZ,kBAAC,KAAD,KACE,kBAACE,EAAA,EAAD,CACEb,QAAQ,YACRc,MAAM,YACNsN,KAAK,QACLE,QAAS5F,GAJX,iBASF,kBAACwL,GAAA,EAAD,CAAOpU,UAAWJ,EAAQyU,cACxB,kBAAC,IAAD,CAAYnU,QAAQ,KAAKJ,UAAU,MACjC,kBAAC,KAAD,CAAK+P,WAAW,kBAAhB,qBAEF,6BACE,kBAAC,KAAD,CAAK7P,UAAWJ,EAAQ0U,YACtB,kBAACvT,EAAA,EAAD,CACEb,QAAQ,YACRc,MAAM,UACNhB,UAAWJ,EAAQ2U,cACnBjG,KAAK,QACLE,QAAS,kBAAM2E,EAAmB7O,EAAQ7H,SAL5C,oBAUF,kBAAC,KAAD,CAAKuD,UAAWJ,EAAQ0U,YACtB,kBAACvT,EAAA,EAAD,CACEf,UAAWJ,EAAQ2U,cACnBrU,QAAQ,WACRc,MAAM,YACNsN,KAAK,QACLE,QAAS,kBAAM9E,MALjB,6B,6DC5NZ8K,GAAc,SAAA5M,GAAG,OACrB,IAAIpG,SAAQ,SAACC,EAASgT,GACpB,IAAMtK,EAAQ,IAAIuK,MAClBvK,EAAM9C,iBAAiB,QAAQ,kBAAM5F,EAAQ0I,MAC7CA,EAAM9C,iBAAiB,SAAS,SAAAzJ,GAAK,OAAI6W,EAAO7W,MAChDuM,EAAMwK,aAAa,cAAe,aAClCxK,EAAMqD,IAAM5F,MASD,SAAegN,GAA9B,uC,8CAAe,WAA6BC,EAAUC,EAAW/K,GAAlD,yBAAAzI,EAAA,sEACOkT,GAAYK,GADnB,cACP1K,EADO,OAEP4K,EAASC,SAASC,cAAc,UAChCC,EAAMH,EAAOI,WAAW,MAExBC,EAAWtH,KAAKiD,IAAI5G,EAAM7K,MAAO6K,EAAMW,QAIvCuK,IACFvT,UAAUwT,UAAY,mBAAmBC,KAAKzT,UAAUwT,UAC5DP,EAAOzV,MAAQ+V,EAAM,KAAOD,EAC5BL,EAAOjK,OAASuK,EAAM,KAAOD,EAG7BF,EAAIM,UAAUrL,EAAOiL,EAAWjL,EAAM7K,MAAO8V,EAAWjL,EAAMW,QACxDtN,EAAO0X,EAAIO,aAAa,EAAG,EAAGL,EAAUA,GAG9CL,EAAOzV,MAAQwV,EAAUxV,MACzByV,EAAOjK,OAASgK,EAAUhK,OAG1BoK,EAAIQ,aACFlY,EACA,EAAI4X,EAAWjL,EAAM7K,MAAQwV,EAAUa,EACvC,EAAIP,EAAWjL,EAAMW,OAASgK,EAAUc,GA1B7B,kBAiCN,IAAIpU,SAAQ,SAAAC,GACjBsT,EAAOc,QAAO,SAAA3O,GACZ6C,EAAO7C,GACPzF,EAAQqU,IAAIC,gBAAgB7O,MAC3B,kBArCQ,6C,sBCPf,IAAM8O,GAAmB5X,aAAW,iBAAO,CACzC6X,YAAa,CACXhU,SAAU,WACV6I,OAAQ,QAEVoL,cAAe,CACbjU,SAAU,WACVkU,IAAK,IACLC,KAAM,IACNC,MAAO,IACPC,OAAQ,OACR/X,gBAAiB,SAEnBgY,SAAU,CACRtU,SAAU,WACVqU,OAAQ,IACRF,KAAM,MACN9W,MAAO,MACPkX,UAAW,mBACX1L,OAAQ,OACRhM,QAAS,OACTE,WAAY,UAEdyX,OAAQ,CACNC,QAAS,YAEXC,WAAY,CACVC,WAAY,IACZzL,WAAY,UAiGD0L,GA7FI,SAAC,GAOb,IANLjS,EAMI,EANJA,YACAI,EAKI,EALJA,aACAC,EAII,EAJJA,gBACA8E,EAGI,EAHJA,OACA7E,EAEI,EAFJA,WACAsF,EACI,EADJA,uBAEM5K,EAAUoW,KAChB,EAAwB3Z,mBAAS,CAAEsZ,EAAG,EAAGC,EAAG,IAA5C,mBAAOkB,EAAP,KAAaC,EAAb,KACA,EAAwB1a,mBAAS,GAAjC,mBAAOwW,EAAP,KAAamE,EAAb,KACA,EAAkD3a,mBAAS,MAA3D,mBAAO4a,EAAP,KAA0BC,EAA1B,KACMC,EAAiBC,uBAAY,SAACC,EAAaJ,GAC/CC,EAAqBD,KACpB,IAEGK,EAAmBF,sBAAW,sBAAC,sBAAA9V,EAAA,sDACnC,IACEsT,GAAchQ,EAAaqS,EAAmBlN,GAAQxM,MAAK,SAAA4M,GAAK,OAC9DlF,EAAgBkF,MAElB,MAAOoN,GACPlU,QAAQzF,MAAM2Z,GANmB,2CAQlC,CAACtS,EAAiBL,EAAaqS,EAAmBlN,IAE/CyN,EAAkBJ,uBAAY,WAClCnS,EAAgB,QACf,CAACA,IAEJ,OAAKD,EAoCH,yBAAKhF,UAAWJ,EAAQqW,aACtB,yBAAKjW,UAAWJ,EAAQsW,eACtB,yBAAK1I,IAAKxI,EAAc1F,MAAM,OAAOmO,IAAI,gBAE3C,kBAAC1M,EAAA,EAAD,CACEyN,QAASgJ,EACTtX,QAAQ,YACRc,MAAM,UACNpB,QAAS,CAAE6X,KAAM7X,EAAQ+W,aAEzB,kBAAC,KAAD,OAEF,kBAAC5V,EAAA,EAAD,CACEyN,QAAS,WACPgJ,IACAhN,EAAuBtF,IAEzBhF,QAAQ,YACRc,MAAM,YACNpB,QAAS,CAAE6X,KAAM7X,EAAQ+W,aAP3B,eA9CA,yBAAK3W,UAAWJ,EAAQqW,aACtB,yBAAKjW,UAAWJ,EAAQsW,eACtB,kBAAC,KAAD,CACE/L,MAAOvF,EACPkS,KAAMA,EACNjE,KAAMA,EACN6E,OAAQ,EACRC,aAAcZ,EACdI,eAAgBA,EAChBS,aAAcZ,KAGlB,yBAAKhX,UAAWJ,EAAQ2W,UACtB,kBAACsB,GAAA,EAAD,CACE3Z,MAAO2U,EACPhC,IAAK,EACLE,IAAK,EACL+G,KAAM,GACNvG,kBAAgB,OAChB5Q,SAAU,SAAC4W,EAAG1E,GAAJ,OAAamE,EAAQnE,OAGnC,kBAAC9R,EAAA,EAAD,CACEyN,QAAS8I,EACTpX,QAAQ,YACRc,MAAM,UACNpB,QAAS,CAAE6X,KAAM7X,EAAQ+W,aAJ3B,iBChDOoB,I,OAzCG,SAAC,GASZ,IARLjT,EAQI,EARJA,UACAC,EAOI,EAPJA,aACAH,EAMI,EANJA,YACAI,EAKI,EALJA,aACAC,EAII,EAJJA,gBACA8E,EAGI,EAHJA,OACA7E,EAEI,EAFJA,WACAsF,EACI,EADJA,uBAEA,OACE,oCACE,kBAACwN,GAAA,EAAD,CACEC,KAAMnT,EACNoT,OAAQ,WACNnT,GAAa,GACbE,EAAgB,OAElBkT,gBAAgB,YAChB5G,kBAAgB,sCAEhB,kBAACyG,GAAA,EAAMI,OAAP,CAAcC,aAAW,GACvB,kBAACL,GAAA,EAAMM,MAAP,CAAa1X,GAAG,sCAAhB,oBAIF,kBAACoX,GAAA,EAAMO,KAAP,KACE,kBAAC,GAAD,CACE3T,YAAaA,EACbI,aAAcA,EACdC,gBAAiBA,EACjB8E,OAAQA,EACR7E,WAAYA,EACZsF,uBAAwBA,SCrB9BrM,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrC,UAAW,CACTC,KAAM,CACJC,gBAAiBF,EAAMG,QAAQC,OAAOC,QAG1C8Z,SAAU,CACR1N,OAAQ,QACRhM,QAAS,OACTC,cAAe,MACf0Z,eAAgB,SAChBzZ,WAAY,UAEd0Z,eAAgB,CACd5Z,QAAS,OACTC,cAAe,SACfoM,WAAY,OACZwN,YAAa,OACb5Y,SAAU,UAEZpB,MAAO,CACLsD,SAAU,WACV3C,MAAO,IACPf,gBAAiBF,EAAMG,QAAQoa,WAAWja,MAC1Cka,OAAQ,iBACRC,UAAWza,EAAM0a,QAAQ,GACzBrC,QAASrY,EAAMQ,QAAQ,EAAG,EAAG,IAE/BI,OAAQ,CACNC,OAAQb,EAAMQ,QAAQ,GACtBN,gBAAiBF,EAAMG,QAAQW,UAAUC,KACzCgM,SAAU,MACVsL,QAASrY,EAAMQ,QAAQ,IAEzBuO,aAAc,CACZlO,OAAQb,EAAMQ,QAAQ,GACtBC,QAAS,OACTC,cAAe,MACf0Z,eAAgB,UAElBpL,mBAAoB,CAClBtN,SAAU,UAEZwN,uBAAwB,CACtBzO,QAAS,OACTC,cAAe,MACf0Z,eAAgB,cAElB/K,2BAA4B,CAC1B5O,QAAS,OACTC,cAAe,SACf0Z,eAAgB,YAElBvK,wBAAyB,CACvBpP,QAAS,OACTC,cAAe,MACf0Z,eAAgB,YAElBrK,4BAA6B,CAC3BtP,QAAS,OACTC,cAAe,MACf0Z,eAAgB,WAChBzZ,WAAY,YAEd0S,kBAAmB,CACjBgF,QAASrY,EAAMQ,QAAQ,IAEzBgT,oBAAqB,CACnB/S,QAAS,OACTC,cAAe,MACfia,SAAU,QAEZzJ,iBAAkB,CAChBmH,QAASrY,EAAMQ,QAAQ,GACvBoD,SAAU,WACV3C,MAAO,OACPwL,OAAQ,eAEVmO,uBAAwB,CACtBC,SAAU,SACVjX,SAAU,WACV6I,OAAQ,cACRxL,MAAO,QAETkQ,QAAS,CACP2J,UAAW,SAEb1J,oBAAqB,CACnBxN,SAAU,WACVkU,IAAK,OACLE,MAAO,OACPK,QAAS,OAEX7O,eAAgB,CACdgR,OAAQ,YACRO,YAAa/a,EAAMG,QAAQW,UAAUC,KACrCia,UAAW,aACXF,UAAW,SAEbG,KAAM,CACJpa,OAAQb,EAAMQ,QAAQ,IAExB0a,IAAK,CACHC,QAAS,IACT,UAAW,CACTC,QAAS,SAGbC,UAAW,CACTF,QAAS,IACTG,aAAc,YACdC,kBAAmBvb,EAAMG,QAAQW,UAAUC,KAC3C,UAAW,CACTqa,QAAS,SAGbI,QAAS,CACP3a,OAAQb,EAAMQ,QAAQ,IAExB6Q,oBAAqB,CACnB5Q,QAAS,OACToa,SAAU,SACVjX,SAAU,WACVlD,cAAe,SACf0Z,eAAgB,SAChBzZ,WAAY,SAEZ0X,QAASrY,EAAMQ,QAAQ,GACvBib,UAAW,UAGb5H,YAAa,CACX9G,SAAU,QACVnJ,SAAU,WACVmU,KAAM,IACND,IAAK,IACLqD,QAAS,KAEXxI,aAAc,CACZ1R,MAAO,OAETyQ,YAAa,CACXlF,aAAcxM,EAAMQ,QAAQ,IAE9B6R,UAAW,CACT3Q,SAAU,QACVT,MAAO,QAETmU,cAAe,CACb3U,QAAS,OACT2Z,eAAgB,aAChBO,SAAU,OACV,QAAS,CACP9Z,OAAQb,EAAMQ,QAAQ,MAG1BwV,aAAc,CACZzV,UAAWP,EAAMQ,QAAQ,GACzB6X,QAASrY,EAAMQ,QAAQ,EAAG,GAC1BC,QAAS,OACTC,cAAe,SACf0Z,eAAgB,eAChBzZ,WAAY,SACZT,gBAAiBF,EAAMG,QAAQW,UAAU4a,MAE3CzF,WAAY,CACVhV,MAAO,OACPR,QAAS,OACTC,cAAe,SACfC,WAAY,SACZ6L,aAAcxM,EAAMQ,QAAQ,IAE9B0V,cAAe,CACbjV,MAAO,YAIX,SAAS0a,GAAU1T,GACjB,MAAO,CACL1F,GAAG,cAAD,OAAgB0F,GAClB,gBAAgB,mBAAhB,OAAoCA,IAIxC,ICvMe2T,GDuMC,SAAA/F,GACd,IAAMtU,EAAUzB,KACR4F,EAAgBmW,qBAAWzW,IAA3BM,YACFoW,EAAiBjG,EAAOvU,SACxBya,EAAYC,IAAYC,MAAMH,EAAeI,QAEnD,EAqBIlW,GAAeN,EAAYP,SAAUO,EAAYrB,OApBnDsF,EADF,EACEA,oBACAL,EAFF,EAEEA,kBACArD,EAHF,EAGEA,QACAE,EAJF,EAIEA,OACAgD,EALF,EAKEA,iBACAgB,EANF,EAMEA,yBACAE,EAPF,EAOEA,qBACAL,EARF,EAQEA,iBACAO,EATF,EASEA,uBACAG,EAVF,EAUEA,UACAG,EAXF,EAWEA,OACAQ,EAZF,EAYEA,WACA5E,EAbF,EAaEA,UACAC,EAdF,EAcEA,aACAH,EAfF,EAeEA,YACAI,EAhBF,EAgBEA,aACAC,EAjBF,EAiBEA,gBACA8E,EAlBF,EAkBEA,OACA7E,EAnBF,EAmBEA,WACAsF,EApBF,EAoBEA,uBAGAxD,EAIE1C,EAJF0C,UACAqM,EAGE/O,EAHF+O,iBACAC,EAEEhP,EAFFgP,iBACAxN,EACExB,EADFwB,cAIF,EAAgC8G,IAAMvQ,SAAS,GAA/C,mBAAOme,EAAP,KAAiBC,EAAjB,KAKA,EAAyBC,KAAqB,WAC5C,GAA0B,0BAAtBN,EAAUtR,QAAqC,CAIjDjL,YADE,yEACoB,CAAE6C,KAHJ,gBAFjBia,EAAP,oBAYA,OAJAC,qBAAU,WACRD,MACC,CAACA,KAEW,IAAXnW,EAEA,yBAAKxE,UAAWJ,EAAQ4Y,UACtB,kBAACqC,EAAA,EAAD,CAAkB7Z,MAAM,eAM5B,oCACE,kBAAC,GAAD,CACEpB,QAASA,EACT0E,QAASA,EACT4E,OAAQA,EACRb,iBAAkBA,EAClB3H,KAAK,YAEP,kBAACoa,EAAA,EAAD,CAAS9a,UAAWJ,EAAQia,UAC5B,yBAAK7Z,UAAWJ,EAAQ8Y,gBACtB,8BACE,kBAACqC,EAAA,EAAD,CACEzb,MAAM,OACNpB,MAAOsc,EACP7Z,SAvCW,SAAC5D,EAAOie,GAC3BP,EAAYO,IAuCJC,aAAW,sBACXjb,UAAWJ,EAAQ0Z,MAEnB,kBAAC4B,EAAA,EAAD,eACEC,KACe,IAAbX,EACE,kBAAC,IAAD,CAAUxZ,MAAM,cAEhB,kBAAC,IAAD,CAAUA,MAAM,YAGpBhB,UAAwB,IAAbwa,EAAiB5a,EAAQ8Z,UAAY9Z,EAAQ2Z,IACxD1Y,MAAM,YACFmZ,GAAU,KAEhB,kBAACkB,EAAA,EAAD,eACEC,KACe,IAAbX,EACE,kBAAC,IAAD,CAAcxZ,MAAM,cAEpB,kBAAC,IAAD,CAAcA,MAAM,YAGxBhB,UAAwB,IAAbwa,EAAiB5a,EAAQ8Z,UAAY9Z,EAAQ2Z,IACxD1Y,MAAM,cACFmZ,GAAU,MAGlB,kBAAC,GAAD,CACE9b,MAAOsc,EACPlU,MAAO,EACP1G,QAASA,EACT0E,QAASA,EACTyE,UAAWA,EACXf,oBAAqBA,EACrBY,uBAAwBA,EACxBpB,iBAAkBA,EAClBgB,yBAA0BA,EAC1Bb,kBAAmBA,IAErB,kBAAC,GAAD,CACEzJ,MAAOsc,EACPlU,MAAO,EACP1G,QAASA,EACT0E,QAASA,EACTyE,UAAWA,EACXf,oBAAqBA,EACrBY,uBAAwBA,EACxB5B,UAAWA,EACXlB,cAAeA,EACf4C,qBAAsBA,EACtB2K,iBAAkBA,EAClBC,iBAAkBA,EAClB5J,WAAYA,MAIlB,kBAAC,GAAD,CACE5E,UAAWA,EACXC,aAAcA,EACdH,YAAaA,EACbI,aAAcA,EACdC,gBAAiBA,EACjB8E,OAAQA,EACR7E,WAAYA,EACZsF,uBAAwBA,M,qBE/MjB4Q,GAlIc,SAAAC,GAC3B,MAA4Chf,mBAAS,IAArD,mBAAOif,EAAP,KAAuBC,EAAvB,KACA,EAA4Blf,oBAAS,GAArC,mBAAOmI,EAAP,KAAeC,EAAf,KACA,EAA8BpI,oBAAS,GAAvC,mBAAOmf,EAAP,KAAgBC,EAAhB,KAEQ/Y,EADgBwX,qBAAWzW,IAA3BM,YACArB,MA0HR,OAjBI4C,KAAEC,QAAQ+V,KAA+B,IAAZE,IAC/BC,GAAW,GAlBXxe,IACGyE,IADH,UAEOvE,6JAAYC,yBAFnB,0BAE6Die,GACzD,CACE/d,QAAS,CACP,eAAgB,kCAChB,iBAAkBoF,KAIvBnF,MAAK,SAAAoE,GACJ,OAAOA,EAASnE,QAEjB6H,OAAM,SAAAzH,GACiC,SAAlCT,6JAAYiG,mBAA8BC,QAAQC,IAAI1F,MAKxCL,MAAK,SAAAC,IACJ,IAAjBA,EAAKke,SACPH,EAAkB/d,GAClBiH,GAAU,GACVgX,GAAW,KACe,IAAjBje,EAAKiC,QACdC,OAAOC,SAAW,4BACW,IAApBnC,EAAKme,WACdjc,OAAOC,SAAW,0CACQ,IAAjBnC,EAAK4O,UACd1M,OAAOC,SAAW,kCAKjB,CAAE2b,iBAAgB9W,SAAQuH,YAxHb,SAAC6P,EAAWxP,EAASC,GACvCpP,IACGC,KADH,UAEOC,6JAAYC,yBAFnB,gCAEmEwe,GAC/D,GACA,CACEte,QAAS,CACP,eAAgB,kCAChB,iBAAkBoF,KAIvBnF,MAAK,SAAA+J,IACwB,IAAxBA,EAAO9J,KAAKqM,UACdwC,GAAW,GACXxO,IAAM4B,QAAQ,kCAEY,IAAxB6H,EAAO9J,KAAKC,UACd4O,GAAW,GACXxO,IAAM4B,QAAQ,kCAGjB4F,OAAM,SAAAzH,GACiC,SAAlCT,6JAAYiG,mBAA8BC,QAAQC,IAAI1F,OAiGlBoO,aA7FzB,SAAC6P,EAAYtP,EAAUC,GAC1CvP,IACGC,KADH,UAEOC,6JAAYC,yBAFnB,mBAEsDye,GAClD,GACA,CACEve,QAAS,CACP,eAAgB,kCAChB,iBAAkBoF,KAIvBnF,MAAK,SAAA+J,GACAA,EAAO9J,KAAKiC,SACd+M,GAAY,MAGfnH,OAAM,SAAAzH,GACiC,SAAlCT,6JAAYiG,mBAA8BC,QAAQC,IAAI1F,OA2EJqO,WAvEzC,SAAC6P,EAASnP,GAC3B1P,IACGyE,IADH,UAEOvE,6JAAYC,yBAFnB,8BAEiE0e,GAC7D,CACExe,QAAS,CACP,eAAgB,kCAChB,iBAAkBoF,KAIvBnF,MAAK,SAAA+J,IACwB,IAAxBA,EAAO9J,KAAKqM,UACd8C,GAAS,GACT9O,IAAM4B,QAAQ,+BACe,IAAzB6b,EAAepO,OACjBqO,EAAkB,2BAAKD,GAAN,IAAsBpO,OAAO,OAGtB,IAAxB5F,EAAO9J,KAAKC,UACdkP,GAAS,GACT9O,IAAM4B,QAAQ,6BAEa,IAAzB6b,EAAepO,QACuB,IAAtCoO,EAAeS,qBAEfle,IAAMme,KAAK,iBACXT,EAAkB,2BAAKD,GAAN,IAAsBpO,OAAO,UAInD7H,OAAM,SAAAzH,GACiC,SAAlCT,6JAAYiG,mBAA8BC,QAAQC,IAAI1F,S,UC1F5Dqe,GAAkB,SAAAC,GACtB,IAAIrb,EAEJ,OAAQqb,GACN,KAAK,EACHrb,EAAQ,QACR,MACF,KAAK,EACHA,EAAQ,MACR,MACF,KAAK,EACHA,EAAQ,YACR,MACF,KAAK,EACHA,EAAQ,UACR,MACF,KAAK,EACHA,EAAQ,cACR,MACF,KAAK,EACHA,EAAQ,YACR,MACF,KAAK,EACHA,EAAQ,aAIZ,OAAOA,GAwBMsb,GArBG,SAAC,GAA6B,IAA3Bvc,EAA0B,EAA1BA,QAASwc,EAAiB,EAAjBA,KAAM1b,EAAW,EAAXA,KAClC,GAAI0b,EACF,MAAa,WAAT1b,GAA8B,eAATA,EAErB,kBAAC,KAAD,CAAKV,UAAWJ,EAAQyc,aACrBD,EAAKhN,KAAI,SAAA/O,GAAI,OACZ,kBAACic,GAAA,EAAD,CAAMjN,IAAKhP,EAAMQ,MAAOob,GAAgB5b,SAM9C,kBAAC,KAAD,CAAKL,UAAWJ,EAAQyc,aACrBD,EAAKhN,KAAI,SAAA/O,GAAI,OACZ,kBAACic,GAAA,EAAD,CAAMjN,IAAKhP,EAAMQ,MAAOR,SChC5BlC,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrC,UAAW,CACTC,KAAM,CACJC,gBAAiBF,EAAMG,QAAQC,OAAOC,QAG1C8Z,SAAU,CACR1N,OAAQ,QACRhM,QAAS,OACTC,cAAe,MACf0Z,eAAgB,SAChBzZ,WAAY,UAEd0Z,eAAgB,CACd5Z,QAAS,OACTC,cAAe,SACfoM,WAAY,OACZwN,YAAa,OACb5Y,SAAU,UAQZpB,MAAO,CACLsD,SAAU,WACV3C,MAAO,IACPf,gBAAiBF,EAAMG,QAAQoa,WAAWja,MAC1Cka,OAAQ,iBACRC,UAAWza,EAAM0a,QAAQ,GACzBrC,QAASrY,EAAMQ,QAAQ,EAAG,EAAG,IAE/BI,OAAQ,CACNC,OAAQb,EAAMQ,QAAQ,GACtBN,gBAAiBF,EAAMG,QAAQW,UAAUC,KACzCgM,SAAU,MACVsL,QAASrY,EAAMQ,QAAQ,IAEzBuO,aAAc,CACZsJ,QAASrY,EAAMQ,QAAQ,GACvBC,QAAS,OACTC,cAAe,MACf0Z,eAAgB,UAGlBtL,kBAAmB,CACjBuJ,QAASrY,EAAMQ,QAAQ,GACvBC,QAAS,OACTC,cAAe,MACf0Z,eAAgB,SAChB8D,gBAAgB,oEAElBlP,mBAAoB,CAClBtN,SAAU,UAEZwN,uBAAwB,CACtBzO,QAAS,OACTC,cAAe,MACf0Z,eAAgB,cAElB/K,2BAA4B,CAC1B5O,QAAS,OACTC,cAAe,SACf0Z,eAAgB,YAElBvK,wBAAyB,CACvBpP,QAAS,OACTC,cAAe,MACf0Z,eAAgB,YAElBrK,4BAA6B,CAC3BtP,QAAS,OACTC,cAAe,MACf0Z,eAAgB,WAChBzZ,WAAY,YAEdwd,oBAAqB,CACnB9F,QAASrY,EAAMQ,QAAQ,EAAG,IAE5B0Q,iBAAkB,CAChBmH,QAASrY,EAAMQ,QAAQ,GACvBoD,SAAU,WACV3C,MAAO,OACPwL,OAAQ,eAEV0E,QAAS,CACP2J,UAAW,SAEbG,KAAM,CACJpa,OAAQb,EAAMQ,QAAQ,IAExBwB,KAAM,CACJzB,UAAWP,EAAMQ,QAAQ,GACzBgM,aAAcxM,EAAMQ,QAAQ,IAE9B4d,QAAS,CACP/F,QAASrY,EAAMQ,QAAQ,IAEzBwd,YAAa,CACXvd,QAAS,OACT2Z,eAAgB,aAChBO,SAAU,OACV,QAAS,CACP9Z,OAAQb,EAAMQ,QAAQ,MAG1B6d,SAAU,CACRpd,MAAO,OACPS,SAAU,SAEZ4c,MAAO,CACLrd,MAAO,OACPS,SAAU,QACVoZ,UAAW,WAEbyD,YAAa,CACXtd,MAAO,QAETsL,UAAW,CACTtL,MAAO,OACPwL,OAAQ,OACRC,aAAc,MACdxM,gBAAiB,WAEnByM,aAAc,CACZ1L,MAAO,OACPwL,OAAQ,OACRC,aAAc,MACdxM,gBAAiB,eChJNse,GDoJK,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,cACfld,EAAUzB,KACR4F,EAAgBmW,qBAAWzW,IAA3BM,YACFsX,EAAkByB,EAAc5I,OAAO1X,SAC7C,EAAqC6H,GACnCN,EAAYP,SACZO,EAAYrB,OAFN2F,EAAR,EAAQA,iBAAkBa,EAA1B,EAA0BA,OAI1B,EAMIkS,GAAqBC,GALvBC,EADF,EACEA,eACA9W,EAFF,EAEEA,OACAuH,EAHF,EAGEA,YACAC,EAJF,EAIEA,aACAC,EALF,EAKEA,WAGF,OAAe,IAAXzH,EAEA,yBAAKxE,UAAWJ,EAAQ4Y,UACtB,kBAACqC,EAAA,EAAD,CAAkB7Z,MAAM,eAM5B,oCACE,kBAAC,GAAD,CACEpB,QAASA,EACT0E,QAASgX,EACTpS,OAAQA,EACR6C,YAAaA,EACbC,aAAcA,EACd3D,iBAAkBA,EAClB4D,WAAYA,EACZvL,KAAK,WAEP,kBAACoa,EAAA,EAAD,CAAS9a,UAAWJ,EAAQia,UAC5B,yBAAK7Z,UAAWJ,EAAQ8Y,gBACtB,kBAAC,IAAD,CAAMtY,WAAS,GACb,kBAAC,IAAD,CAAMC,MAAI,EAACE,GAAI,EAAGP,UAAWJ,EAAQ4c,qBACnC,kBAAC,IAAD,CAAYtc,QAAQ,YAAYF,UAAWJ,EAAQS,MACjD,kBAAC,KAAD,CAAKwP,WAAW,kBACbyL,EAAehf,UADlB,mBAIDgJ,KAAEC,QAAQ+V,EAAepT,QACxB,uDAEA,kBAAC,GAAD,CACEtI,QAASA,EACTwc,KAAMd,EAAepT,OACrBxH,KAAK,WAGT,kBAAC,IAAD,CAAYR,QAAQ,YAAYF,UAAWJ,EAAQS,MACjD,kBAAC,KAAD,CAAKwP,WAAW,kBACbyL,EAAehf,UADlB,oBAIDgJ,KAAEC,QAAQ+V,EAAenV,mBACxB,2DAEA,kBAAC,GAAD,CACEvG,QAASA,EACTwc,KAAMd,EAAenV,kBACrBzF,KAAK,eAGT,kBAAC,IAAD,CAAYR,QAAQ,YAAYF,UAAWJ,EAAQS,MACjD,kBAAC,KAAD,CAAKwP,WAAW,kBACbyL,EAAehf,UADlB,oBAIF,kBAAC8X,GAAA,EAAD,CAAO2I,UAAW,EAAG/c,UAAWJ,EAAQ6c,SACrCnX,KAAEC,QAAQ+V,EAAe3J,aACxB,4DAEA,2BAAI2J,EAAe3J,eAIzB,kBAAC,IAAD,CAAMtR,MAAI,EAACE,GAAI,EAAGP,UAAWJ,EAAQ4c,qBACnC,kBAAC,IAAD,CAAYtc,QAAQ,YAAYF,UAAWJ,EAAQS,MACjD,kBAAC,KAAD,CAAKwP,WAAW,kBACbyL,EAAehf,UADlB,iBAIDgJ,KAAEC,QAAQ+V,EAAetU,WACxB,0DAEA,kBAAC,GAAD,CACEpH,QAASA,EACTwc,KAAMd,EAAetU,UACrBtG,KAAK,cAGT,kBAAC,IAAD,CAAYR,QAAQ,YAAYF,UAAWJ,EAAQS,MACjD,kBAAC,KAAD,CAAKwP,WAAW,kBACbyL,EAAehf,UADlB,gBAIF,kBAAC,KAAD,CAAgB0D,UAAWJ,EAAQ8c,SAAUM,mBAAiB,GAC3D1X,KAAEC,QAAQ+V,EAAexT,QACxB,0DAEAwT,EAAexT,OAAOsH,KAAI,SAACjF,EAAO7D,GAAR,OACxB,yBAAK+I,IAAK/I,EAAOtG,UAAWJ,EAAQ+c,OAClC,yBACE3c,UAAWJ,EAAQgd,YACnBpP,IAAK8N,EAAexT,OAAOxB,GAC3BmH,IAAI,sBE7PpBwP,GAAc,CAClB,CACE/e,MAAO,GACP2C,MAAO,IAET,CACE3C,MAAO,WACP2C,MAAO,YAET,CACE3C,MAAO,SACP2C,MAAO,oBAET,CACE3C,MAAO,UACP2C,MAAO,oBAET,CACE3C,MAAO,aACP2C,MAAO,cAET,CACE3C,MAAO,YACP2C,MAAO,cAwJIqc,GApJO,SAAC,GAOhB,IANLtd,EAMI,EANJA,QACAud,EAKI,EALJA,cACAC,EAII,EAJJA,mBACAC,EAGI,EAHJA,mBACAC,EAEI,EAFJA,YACAC,EACI,EADJA,WAEA,OACE,yBAAKvd,UAAWJ,EAAQ4d,kBACtB,kBAAC,IAAD,CAAMpd,WAAS,EAACvB,QAAS,EAAGyO,UAAU,MAAMrM,QAAQ,UAClD,kBAAC,IAAD,CAAMZ,MAAI,EAACE,GAAI,EAAGD,GAAI,GACpB,kBAAC,IAAD,CACEM,GAAG,kBACHZ,UAAWJ,EAAQ6d,kBACnBC,MAAM,UAHR,YAOA,kBAAC7F,GAAA,EAAD,CACE9D,aAAc,IACd4J,iBAAkB,SAAAzf,GAAK,gBAAOA,EAAP,SACvBqT,kBAAgB,kBAChBqM,kBAAkB,OAClBjd,SAAU,SAAC5D,EAAO8gB,GAAR,OACRT,EAAmB,cAAeS,IAEpCC,kBAAmB,kBAAMR,KACzBxF,KAAM,GACNiG,OAAK,EACLlN,IAAK,EACLE,IAAK,IACL/Q,UAAWJ,EAAQ6d,kBAAoB,IAAM7d,EAAQ6W,UAGzD,kBAAC,IAAD,CAAMpW,MAAI,EAACE,GAAI,EAAGD,GAAI,GACpB,kBAAC,IAAD,CACEM,GAAG,kBACHZ,UAAWJ,EAAQ6d,kBACnBC,MAAM,UAHR,OAOA,kBAAC7F,GAAA,EAAD,CACE7X,UAAWJ,EAAQ6W,OACnBvY,MAAOif,EAAca,SACrBrd,SAAU,SAAC5D,EAAO8gB,GAAR,OACRT,EAAmB,WAAYS,IAEjCC,kBAAmB,kBAAMR,KACzBM,kBAAkB,OAClBrM,kBAAgB,eAChBoM,iBAAkB,SAAAzf,GAAK,gBAAOA,EAAP,SACvB2S,IAAK,GACLE,IAAK,OAGT,kBAAC,IAAD,CAAM1Q,MAAI,EAACE,GAAI,EAAGD,GAAI,GACpB,kBAAC,IAAD,CACEM,GAAG,kBACHZ,UAAWJ,EAAQ6d,kBACnBC,MAAM,UAHR,cAOA,kBAAC7F,GAAA,EAAD,CACE7X,UAAWJ,EAAQ6W,OACnBvY,MAAOif,EAAcc,gBACrBtd,SAAU,SAAC5D,EAAO8gB,GAAR,OACRT,EAAmB,kBAAmBS,IAExCC,kBAAmB,kBAAMR,KACzBM,kBAAkB,OAClBrM,kBAAgB,eAChBoM,iBAAkB,SAAAzf,GAAK,gBAAOA,EAAP,SACvB2S,IAAK,EACLE,IAAK,OAGT,kBAAC,IAAD,CAAM1Q,MAAI,EAACE,GAAI,EAAGD,GAAI,GACpB,kBAAC,IAAD,CACEM,GAAG,kBACHZ,UAAWJ,EAAQ6d,kBACnBC,MAAM,UAHR,aAOA,yBAAK1d,UAAWJ,EAAQ6T,eACtB,6BACE,kBAACC,GAAA,EAAD,CACE1T,UAAWJ,EAAQ6W,OACnB9C,UAAQ,EACRC,QAASyJ,EAAmBrW,UAAUoI,KAAI,SAAA4E,GACxC,MAAO,CAAE/V,KAAM+V,MAEjBH,eAAgB,SAAAC,GAAM,OAAIA,EAAO7V,MACjC0C,SAAU,SAAC5D,EAAOmB,GAChBkf,EAAmB,YAAalf,IAElCD,KAAK,WACLgW,YAAa,SAAAC,GAAM,OACjB,kBAAC,IAAD,iBACMA,EADN,CAEEhU,QAAQ,WACRiU,YAAY,eACZ3T,WAAS,WAOrB,kBAAC,IAAD,CAAMH,MAAI,EAACE,GAAI,EAAGD,GAAI,GACpB,0BAAMN,UAAWJ,EAAQQ,UAAWmT,YAAU,EAACC,aAAa,OAC1D,kBAAC,IAAD,CACE5S,GAAG,kBACHZ,UAAWJ,EAAQ6d,kBACnBC,MAAM,UAHR,WAOA,kBAAC,IAAD,CACE9c,GAAG,kCACHsd,QAAM,EACNle,UAAWJ,EAAQ8Q,UACnBxS,MAAOif,EAAc9W,KACrB1F,SAAU,SAAA5D,GAAK,OAAIwgB,EAAWxgB,IAC9ByD,WAAS,EACT2d,YAAa,CACXC,QAAQ,EACRC,UAAW,CACTre,UAAWJ,EAAQ0e,OAGvBpe,QAAQ,YAEP+c,GAAY7N,KAAI,SAAA0E,GAAM,OACrB,4BAAQzE,IAAKyE,EAAO5V,MAAOA,MAAO4V,EAAO5V,OACtC4V,EAAOjT,gB,sEC5JpB1C,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCkgB,KAAM,CACJxe,SAAU,IACVT,MAAO,QAETkf,MAAO,CACL1T,OAAQ,IACR7I,SAAU,YAEZwc,iBAAkB,CAChBlC,gBAAgB,oEAElBtd,OAAQ,CACNC,OAAQb,EAAMQ,QAAQ,GACtBN,gBAAiBF,EAAMG,QAAQW,UAAUC,KACzCgM,SAAU,QACVsL,QAASrY,EAAMQ,QAAQ,IAEzB6f,aAAc,CACZngB,gBAAiBF,EAAMG,QAAQmgB,QAAQvf,KACvC2L,aAAc,OACd/J,MAAO,QACP4d,WAAYvgB,EAAMQ,QAAQ,GAC1BggB,cAAexgB,EAAMQ,QAAQ,GAC7BigB,YAAazgB,EAAMQ,QAAQ,GAC3BkgB,aAAc1gB,EAAMQ,QAAQ,GAC5BC,QAAS,OACTC,cAAe,SACfC,WAAY,SACZiD,SAAU,WACVkU,IAAK,OACLE,MAAO,OACPyC,UAAW,yBAEb2E,kBAAmB,CACjB5S,aAAcxM,EAAMQ,QAAQ,QAIjB,SAASmgB,GAAT,GAA0D,IAArCC,EAAoC,EAApCA,MAAO3a,EAA6B,EAA7BA,QAAS2H,EAAoB,EAApBA,WAAYvL,EAAQ,EAARA,KACxDd,EAAUzB,KAGd7B,EAcE2iB,EAdF3iB,UACAE,EAaEyiB,EAbFziB,SACAmJ,EAYEsZ,EAZFtZ,UACAhG,EAWEsf,EAXFtf,SACA4O,EAUE0Q,EAVF1Q,eACA1G,EASEoX,EATFpX,eACAqX,EAQED,EARFC,KACAC,EAOEF,EAPFE,OACAzS,EAMEuS,EANFvS,MACA0S,EAKEH,EALFG,QACA7T,EAIE0T,EAJF1T,eACA0C,EAGEgR,EAHFhR,UACAf,EAEE+R,EAFF/R,MACAmS,EACEJ,EADFI,MAwBIC,EAAY7T,KAAOyT,GAAMxT,UAE/B,OACE,kBAAC6T,GAAA,EAAD,CAAMvf,UAAWJ,EAAQ2e,MACvB,kBAACiB,GAAA,EAAD,CACEhR,QAAS,WACP9O,OAAOC,SAAP,mBAA8BnD,KAGhC,kBAACijB,GAAA,EAAD,CACEzf,UAAWJ,EAAQ4e,MACnBrU,MACEtC,GACA,kFAEF+H,MAAOtT,IAEC,eAAToE,EACC,kBAAC,KAAD,CAAKV,UAAWJ,EAAQ8e,cACtB,kBAAC,IAAD,mBACA,kBAAC,IAAD,KAAa5Q,KAAKC,MAAc,IAARsR,GAAe,IAAvC,MAEA,KACJ,kBAACK,GAAA,EAAD,CACE1f,WAAqB,IAAVkN,EAAiBtN,EAAQ6e,iBAAmB,MAEvD,kBAAC,GAAD,CAAWnT,YAAa2C,EAAW1C,eAAgBA,IACnD,kBAAC,IAAD,CACErL,QAAQ,KACRJ,UAAU,KACV4d,MAAM,SACN1d,UAAWJ,EAAQ6d,mBAElBnhB,EAAW,IACXoQ,EACC,kBAACiT,GAAA,EAAD,CACE/P,MAAM,sBACNqL,aAAW,uBAEX,0BAAM5J,KAAK,MAAM4J,aAAW,eAA5B,iBAIA,MAEN,kBAAC,IAAD,CAAY/a,QAAQ,QAAQJ,UAAU,KAAK4d,MAAM,UAC9C/X,EAnEI,SAAAwD,GACb,IAAMC,EAAQ,IAAIpG,KACZ2C,EAAY,IAAI3C,KAAKmG,GACvBE,EAAMD,EAAME,cAAgB3D,EAAU2D,cACpCC,EAAIH,EAAMI,WAAa7D,EAAU6D,WAIvC,OAHID,EAAI,GAAY,IAANA,GAAWH,EAAMK,UAAY9D,EAAU8D,aACnDJ,GAAO,GAEH,GAAN,OAAUA,EAAV,SA4DYH,CAAO,IAAIlG,KAAK2C,GAAWC,cAAcC,MAAM,KAAK,IACpD,mBACHlG,EA3DM,WACf,IAAkBgO,EAAoBrJ,EAA9B3E,SACJiO,EAAOC,uBACT,CAAEjM,SAAUjC,EAAS,GAAIkC,UAAWlC,EAAS,IAC7C,CAAEiC,SAAU+L,EAAgB,GAAI9L,UAAW8L,EAAgB,KAG7D,OADAC,EAAOE,KAAKC,MAAMH,EAAO,KACnB,MAAN,OAAaA,EAAb,OAoDoBI,GAAa,IAEjB,WAATtN,EAAoB,KACnB,kBAAC,IAAD,CAAYR,QAAQ,QAAQJ,UAAU,KAAK4d,MAAM,UAC9C4B,KAKT,kBAAC,KAAD,CAAKxgB,QAAQ,OAAOC,cAAc,MAAM0Z,eAAe,UACrD,kBAACxY,EAAA,EAAD,CAAQD,UAAWJ,EAAQX,QAASsP,EAApC,KACA,kBAACqR,GAAA,EAAD,CACE3E,aAAW,mBACXja,MAAOme,EAAS,YAAc,UAC9BC,QAASA,EACT5Q,QAAS,kBAAMvC,EAAWmT,KAE1B,kBAAC,KAAD,SCxJV,IA6DeS,GA7DM,SAAC,GAMf,IALLjgB,EAKI,EALJA,QACAkgB,EAII,EAJJA,SACAzC,EAGI,EAHJA,mBACApR,EAEI,EAFJA,WACAvL,EACI,EADJA,KAEA,EAAkDrE,mBAAS,IAA3D,mBAAO0jB,EAAP,KAA0BC,EAA1B,KACMC,EAAsB,WAC1BD,EAAqBF,EAASI,MAAM,EAAGH,EAAkBjO,OAAS,MAMpE,OAJA8I,qBAAU,WACRqF,MAEC,CAACH,KACAxa,KAAEC,QAAQua,IAAuB,SAATpf,GAA4B,UAATA,EAQ7C,yBAAKV,UAAWJ,EAAQugB,SACtB,kBAACtgB,EAAA,EAAD,KACE,kBAAC,KAAD,CACEugB,WAAYL,EAAkBjO,OAC9BuO,KAAMJ,EACNK,SAAO,EACPC,OACE,yBAAKvgB,UAAWJ,EAAQ4Y,UACtB,kBAACqC,EAAA,EAAD,CAAkB7Z,MAAM,gBAI5B,kBAAC,IAAD,CAAMZ,WAAS,EAACvB,QAAS,GACtByG,KAAE8J,IAAI2Q,GAAmB,SAAAzb,GAAO,OAC/B,kBAAC,IAAD,CACEjE,MAAI,EACJC,GAAI,GACJC,GAAI,EACJigB,GAAI,EACJC,GAAI,EACJzgB,UAAWJ,EAAQgT,OACnBvD,IAAK/K,EAAQ9H,UAEb,kBAACwiB,GAAD,CACEC,MAAO3a,EACPA,QAAS+Y,EACTpR,WAAYA,EACZvL,KAAMA,YAjClB,kBAAC,KAAD,CAAKV,UAAWJ,EAAQ8gB,kBACtB,kBAAC,IAAD,CAAY1gB,UAAWJ,EAAQ+gB,cAAezgB,QAAQ,MAAtD,0CAAkG,0BAAMmR,KAAK,MAAM4J,aAAW,aAA5B,gBAAlG,sCCxBF9c,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCuiB,KAAM,CACJriB,gBAAiB,UACjBe,MAAO,OACP0B,MAAO,QACPlC,QAAS,OACT2Z,eAAgB,SAChBmG,WAAYvgB,EAAMQ,QAAQ,GAC1BggB,cAAexgB,EAAMQ,QAAQ,GAC7BgM,aAAcxM,EAAMQ,QAAQ,QAgBjByZ,GAZD,SAAC,GAAmB,IAAjBuI,EAAgB,EAAhBA,UACTjhB,EAAUzB,KAEhB,OACE,yBAAK6B,UAAWJ,EAAQghB,MACtB,kBAAC,IAAD,CAAY1gB,QAAQ,KAAKc,MAAM,WAC5B6f,KC+IMC,GAhKS,WACtB,MAA4BzkB,oBAAS,GAArC,mBAAOmI,EAAP,KAAeC,EAAf,KACA,EAAoDpI,mBAAS,IAA7D,mBAAOghB,EAAP,KAA2B0D,EAA3B,KACA,EAAwC1kB,mBAAS,IAAjD,mBAAO2kB,EAAP,KAAqBC,EAArB,KACA,EAA0C5kB,mBAAS,CACjD2hB,SAAU,CAAC,GAAI,IACfC,gBAAiB,CAAC,EAAG,KACrBjX,UAAW,GACXka,YAAa,IACb7a,KAAM,KALR,mBAAO8W,EAAP,KAAsBgE,EAAtB,KAOQpd,EAAgBmW,qBAAWzW,IAA3BM,YACAP,EAAoBO,EAApBP,SAAUd,EAAUqB,EAAVrB,MAwCZ6a,EAAa,SAACxgB,GAAoC,IAA7B+iB,EAA4B,uDAAjBkB,EAChCI,EAAa,GAMbC,EAAQ,GACZ,OALED,EADErkB,EACWA,EAAMiB,OAAOE,MAEbif,EAAc9W,MAI3B,IAAK,WAGL,IAAK,SACHgb,EAAQ,MACR,MACF,IAAK,UAGL,IAAK,aACHA,EAAQ,OACR,MACF,IAAK,YACHA,EAAQ,MAIZ,IAAMC,EAAgB,2BAAQnE,GAAR,IAAuB9W,KAAM+a,IACnDD,EAAiBG,GACjBL,EACE3b,KAAEic,QACAzB,EACA,CACE,SAAAxb,GACE,OAAQ8c,GACN,IAAK,WACH,OAAO9c,EAAQ0J,SACjB,IAAK,SAEL,IAAK,UACH,OAAO1J,EAAQ+E,IACjB,IAAK,aACH,OAAO/E,EAAQiK,eACjB,IAAK,YACH,OAAOjK,EAAQ0C,UAAU,GAAK1C,EAAQ0C,UAAU,GAAK,UAK7D,CAACqa,MAmBD/D,EAAc,WAAkC,IAAjCkE,EAAgC,uDAAlBrE,EACjClgB,IACGC,KADH,UAEOC,6JAAYC,yBAFnB,iBAGIokB,EACA,CACElkB,QAAS,CACP,eAAgB,kCAChB,iBAAkBoF,KAIvBnF,MAAK,SAAA+J,IAC2B,IAA3BA,EAAO9J,KAAKme,WAIhB4B,EAAW,KAAMjW,EAAO9J,MAHtBkC,OAAOC,SAAW,6CAc1B,OAPI2F,KAAEC,QAAQ8X,KAAkC,IAAX7Y,GACnChB,EAASjG,MAAK,SAAAW,GACZ6iB,EAAsB7iB,EAAMV,MAC5B8f,IACA7Y,GAAU,MAGP,CACL4Y,qBACA7Y,SACAwc,eACA7D,gBACAC,mBA/CyB,SAAC1c,EAAMmd,GAChC,GAAa,cAATnd,EAAsB,CACxBmd,EAAWA,EAASzO,KAAI,SAAA4E,GACtB,OAAOA,EAAS/V,QAElB,IAAMqjB,EAAgB,2BAAQnE,GAAR,kBAAwBzc,EAAOmd,IAGrD,OAFAsD,EAAiBG,QACjBhE,EAAYgE,GAGd,IAAMA,EAAgB,2BAAQnE,GAAR,kBAAwBzc,EAAOmd,IACrDsD,EAAiBG,IAqCjBH,mBACA7D,cACArR,WA7IiB,SAAA6P,GACjB7e,IACGyE,IADH,UAEOvE,6JAAYC,yBAFnB,8BAEiE0e,GAC7D,CACExe,QAAS,CACP,eAAgB,kCAChB,iBAAkBoF,KAIvBnF,MAAK,SAAA+J,GACJ,GAAIA,EAAO9J,KAAK4O,QACdvO,IAAMD,MAAM0J,EAAO9J,KAAKsL,aACnB,CACL,IAAM2Y,EAAgBnc,KAAEoc,KACtBpc,KAAEqc,OAAOX,EAAc,CAAE5B,QAAStD,KAG9B8F,EAAkBZ,EACxBS,EAAc9jB,SAAQ,SAAA2I,GACpBsb,EAAgB3b,SAASK,EAAO,KAAhC,2BACKsb,EAAgB3b,SAASK,EAAO,MADrC,IAEE6Y,QAAS6B,EAAa/a,SAASK,EAAO,KAAK6Y,YAG/CnK,SACG6M,iBADH,qBACkC/F,EADlC,OAEGne,SAAQ,SAAAmkB,GACHA,EAAQC,UAAUC,SAAS,gCAC7BF,EAAQC,UAAUE,OAAO,gCACtBH,EAAQ9hB,WAAa,mCAE9BihB,EAAgBW,QA6GtBrE,eCzJEpf,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrC8hB,QAAS,CACPrhB,QAAS,OACTC,cAAe,MACf0Z,eAAgB,SAChBtN,WAAY,OACZwN,YAAa,OACb5Y,SAAU,SACVnB,UAAW,QAEbgU,OAAQ,CACN9T,QAAS,OACTC,cAAe,SACf0Z,eAAgB,SAChBzZ,WAAY,UAEdwZ,SAAU,CACR1N,OAAQ,QACRhM,QAAS,OACTC,cAAe,MACf0Z,eAAgB,SAChBzZ,WAAY,UAEdwe,iBAAkB,CAChBle,MAAO,OACPR,QAAS,OACTC,cAAe,SACf0Z,eAAgB,gBAChB/B,QAAS,QAEXwL,uBAAwB,CACtB5iB,MAAO,OACPR,QAAS,OACTC,cAAe,MACf0Z,eAAgB,eAChBxW,SAAU,YAEZkgB,gBAAiB,CACflgB,SAAU,WACV1D,gBAAiB,OAEnBkY,OAAQ,CACNnX,MAAO,QAET8iB,SAAU,CACR9iB,MAAO,QACPwL,OAAQ,QACRuX,eAAgB,QAElB5E,kBAAmB,CACjB5S,aAAcxM,EAAMQ,QAAQ,QCzDjByjB,GD6DA,WACb,MASIxB,KARFzD,EADF,EACEA,mBACA7Y,EAFF,EAEEA,OACAwc,EAHF,EAGEA,aACA7D,EAJF,EAIEA,cACAC,EALF,EAKEA,mBACAE,EANF,EAMEA,YACArR,EAPF,EAOEA,WACAsR,EARF,EAQEA,WAEI3d,EAAUzB,KAEhB,OAAe,IAAXqG,EAEA,yBAAKxE,UAAWJ,EAAQ4Y,UACtB,kBAACqC,EAAA,EAAD,CAAkB7Z,MAAM,eAM5B,oCACE,kBAAC,GAAD,CAAO6f,UAAU,WACjB,kBAAC,GAAD,CACEjhB,QAASA,EACTud,cAAeA,EACfC,mBAAoBA,EACpBC,mBAAoBA,EACpBC,YAAaA,EACbC,WAAYA,IAEd,kBAACzC,EAAA,EAAD,CAASyH,OAAK,IACd,kBAAC,GAAD,CACE3iB,QAASA,EACTkgB,SAAUkB,EACV3D,mBAAoBA,EACpBpR,WAAYA,EACZvL,KAAK,aE9FPuc,GAAc,CAClB,CACE/e,MAAO,QACP2C,MAAO,kBAET,CACE3C,MAAO,WACP2C,MAAO,YAET,CACE3C,MAAO,SACP2C,MAAO,oBAET,CACE3C,MAAO,UACP2C,MAAO,oBAET,CACE3C,MAAO,aACP2C,MAAO,cAET,CACE3C,MAAO,YACP2C,MAAO,cAwJI2hB,GApJY,SAAC,GAOrB,IANL5iB,EAMI,EANJA,QACA6iB,EAKI,EALJA,mBACArF,EAII,EAJJA,mBACAC,EAGI,EAHJA,mBACAqF,EAEI,EAFJA,iBACAnF,EACI,EADJA,WAEA,OACE,yBAAKvd,UAAWJ,EAAQ4d,kBACtB,kBAAC,IAAD,CAAMpd,WAAS,EAACvB,QAAS,EAAGyO,UAAU,MAAMrM,QAAQ,UAClD,kBAAC,IAAD,CAAMZ,MAAI,EAACE,GAAI,EAAGD,GAAI,GACpB,kBAAC,IAAD,CACEM,GAAG,kBACHZ,UAAWJ,EAAQ6d,kBACnBC,MAAM,UAHR,YAOA,kBAAC7F,GAAA,EAAD,CACE9D,aAAc,IACd4J,iBAAkB,SAAAzf,GAAK,gBAAOA,EAAP,SACvBqT,kBAAgB,kBAChBqM,kBAAkB,OAClBjd,SAAU,SAAC5D,EAAO8gB,GAAR,OACRT,EAAmB,cAAeS,IAEpCC,kBAAmB,kBAAM4E,KACzB5K,KAAM,GACNiG,OAAK,EACLlN,IAAK,EACLE,IAAK,IACL/Q,UAAWJ,EAAQ6d,kBAAoB,IAAM7d,EAAQ6W,UAGzD,kBAAC,IAAD,CAAMpW,MAAI,EAACE,GAAI,EAAGD,GAAI,GACpB,kBAAC,IAAD,CACEM,GAAG,kBACHZ,UAAWJ,EAAQ6d,kBACnBC,MAAM,UAHR,OAOA,kBAAC7F,GAAA,EAAD,CACE7X,UAAWJ,EAAQ6W,OACnBvY,MAAOukB,EAAmBzE,SAC1Brd,SAAU,SAAC5D,EAAO8gB,GAAR,OACRT,EAAmB,WAAYS,IAEjCC,kBAAmB,kBAAM4E,KACzB9E,kBAAkB,OAClBrM,kBAAgB,eAChBoM,iBAAkB,SAAAzf,GAAK,gBAAOA,EAAP,SACvB2S,IAAK,GACLE,IAAK,OAGT,kBAAC,IAAD,CAAM1Q,MAAI,EAACE,GAAI,EAAGD,GAAI,GACpB,kBAAC,IAAD,CACEM,GAAG,kBACHZ,UAAWJ,EAAQ6d,kBACnBC,MAAM,UAHR,cAOA,kBAAC7F,GAAA,EAAD,CACE7X,UAAWJ,EAAQ6W,OACnBvY,MAAOukB,EAAmBxE,gBAC1Btd,SAAU,SAAC5D,EAAO8gB,GAAR,OACRT,EAAmB,kBAAmBS,IAExCC,kBAAmB,kBAAM4E,KACzB9E,kBAAkB,OAClBrM,kBAAgB,eAChBoM,iBAAkB,SAAAzf,GAAK,gBAAOA,EAAP,SACvB2S,IAAK,EACLE,IAAK,OAGT,kBAAC,IAAD,CAAM1Q,MAAI,EAACE,GAAI,EAAGD,GAAI,GACpB,kBAAC,IAAD,CACEM,GAAG,kBACHZ,UAAWJ,EAAQ6d,kBACnBC,MAAM,UAHR,aAOA,yBAAK1d,UAAWJ,EAAQ6T,eACtB,6BACE,kBAACC,GAAA,EAAD,CACE1T,UAAWJ,EAAQ6W,OACnB9C,UAAQ,EACRC,QAASyJ,EAAmBrW,UAAUoI,KAAI,SAAA4E,GACxC,MAAO,CAAE/V,KAAM+V,MAEjBH,eAAgB,SAAAC,GAAM,OAAIA,EAAO7V,MACjC0C,SAAU,SAAC5D,EAAOmB,GAChBkf,EAAmB,YAAalf,IAElCD,KAAK,WACLgW,YAAa,SAAAC,GAAM,OACjB,kBAAC,IAAD,iBACMA,EADN,CAEEhU,QAAQ,WACRiU,YAAY,eACZ3T,WAAS,WAOrB,kBAAC,IAAD,CAAMH,MAAI,EAACE,GAAI,EAAGD,GAAI,GACpB,0BAAMN,UAAWJ,EAAQQ,UAAWmT,YAAU,EAACC,aAAa,OAC1D,kBAAC,IAAD,CACE5S,GAAG,kBACHZ,UAAWJ,EAAQ6d,kBACnBC,MAAM,UAHR,WAOA,kBAAC,IAAD,CACE9c,GAAG,kCACHsd,QAAM,EACNle,UAAWJ,EAAQ8Q,UACnBxS,MAAOukB,EAAmBpc,KAC1B1F,SAAU,SAAA5D,GAAK,OAAIwgB,EAAWxgB,IAC9ByD,WAAS,EACT2d,YAAa,CACXC,QAAQ,EACRC,UAAW,CACTre,UAAWJ,EAAQ0e,OAGvBpe,QAAQ,YAEP+c,GAAY7N,KAAI,SAAA0E,GAAM,OACrB,4BAAQzE,IAAKyE,EAAO5V,MAAOA,MAAO4V,EAAO5V,OACtC4V,EAAOjT,gBCEX8hB,GAxKc,WAC3B,MAA4BtmB,oBAAS,GAArC,mBAAOmI,EAAP,KAAeC,EAAf,KACA,EAAoDpI,mBAAS,IAA7D,mBAAOghB,EAAP,KAA2B0D,EAA3B,KACA,EAAkD1kB,mBAAS,IAA3D,mBAAOumB,EAAP,KAA0BC,EAA1B,KACA,EAAoDxmB,mBAAS,CAC3D2hB,SAAU,CAAC,GAAI,IACfC,gBAAiB,CAAC,EAAG,KACrBjX,UAAW,GACXka,YAAa,IACb7a,KAAM,UALR,mBAAOoc,EAAP,KAA2BK,EAA3B,KAOQ/e,EAAgBmW,qBAAWzW,IAA3BM,YACAP,EAAoBO,EAApBP,SAAUd,EAAUqB,EAAVrB,MAwCZ6a,EAAa,SAACxgB,GAAyC,IAAlC+iB,EAAiC,uDAAtB8C,EAChCxB,EAAa,GAMbC,EAAQ,GACZ,OALED,EADErkB,EACWA,EAAMiB,OAAOE,MAEbukB,EAAmBpc,MAIhC,IAAK,QACHgb,EAAQ,OACR,MACF,IAAK,WAGL,IAAK,SACHA,EAAQ,MACR,MACF,IAAK,UAGL,IAAK,aACHA,EAAQ,OACR,MACF,IAAK,YACHA,EAAQ,MAIZ,IAAM0B,EAAqB,2BACtBN,GADsB,IAEzBpc,KAAM+a,IAER0B,EAAsBC,GACtBF,EACEvd,KAAEic,QACAzB,EACA,CACE,SAAAxb,GACE,OAAQ8c,GACN,IAAK,QACH,OAAO9c,EAAQ+a,MACjB,IAAK,WACH,OAAO/a,EAAQ0J,SACjB,IAAK,SAEL,IAAK,UACH,OAAO1J,EAAQ+E,IACjB,IAAK,aACH,OAAO/E,EAAQiK,eACjB,IAAK,YACH,OAAOjK,EAAQ0C,UAAU,GAAK1C,EAAQ0C,UAAU,GAAK,UAK7D,CAACqa,MAmBDqB,EAAmB,WAA4C,IAA3CM,EAA0C,uDAAvBP,EAC3CxlB,IACGC,KADH,UAEOC,6JAAYC,yBAFnB,sBAGI4lB,EACA,CACE1lB,QAAS,CACP,eAAgB,kCAChB,iBAAkBoF,KAIvBnF,MAAK,SAAA+J,IAC2B,IAA3BA,EAAO9J,KAAKme,WAIhB4B,EAAW,KAAMjW,EAAO9J,MAHtBkC,OAAOC,SAAW,6CAc1B,OAPI2F,KAAEC,QAAQ8X,KAAkC,IAAX7Y,GACnChB,EAASjG,MAAK,SAAAW,GACZ6iB,EAAsB7iB,EAAMV,MAC5BklB,IACAje,GAAU,MAGP,CACL4Y,qBACA7Y,SACAoe,oBACAH,qBACArF,mBA/CyB,SAAC1c,EAAMmd,GAChC,GAAa,cAATnd,EAAsB,CACxBmd,EAAWA,EAASzO,KAAI,SAAA4E,GACtB,OAAOA,EAAS/V,QAElB,IAAM8kB,EAAqB,2BAAQN,GAAR,kBAA6B/hB,EAAOmd,IAG/D,OAFAiF,EAAsBC,QACtBL,EAAiBK,GAGnB,IAAMA,EAAqB,2BAAQN,GAAR,kBAA6B/hB,EAAOmd,IAC/DiF,EAAsBC,IAqCtBD,wBACAJ,mBACAzW,WArJiB,SAAA6P,GACjB7e,IACGyE,IADH,UAEOvE,6JAAYC,yBAFnB,8BAEiE0e,GAC7D,CACExe,QAAS,CACP,eAAgB,kCAChB,iBAAkBoF,KAIvBnF,MAAK,SAAA+J,GACJ,GAAIA,EAAO9J,KAAK4O,QACdvO,IAAMD,MAAM0J,EAAO9J,KAAKsL,aACnB,CACL,IAAM2Y,EAAgBnc,KAAEoc,KACtBpc,KAAEqc,OAAOiB,EAAmB,CAAExD,QAAStD,KAGnCmH,EAAuBL,EAC7BnB,EAAc9jB,SAAQ,SAAA2I,GACpB2c,EAAqBhd,SAASK,EAAO,KAArC,2BACK2c,EAAqBhd,SAASK,EAAO,MAD1C,IAEE6Y,QAASyD,EAAkB3c,SAASK,EAAO,KAAK6Y,YAGpDnK,SACG6M,iBADH,qBACkC/F,EADlC,OAEGne,SAAQ,SAAAmkB,GACHA,EAAQC,UAAUC,SAAS,gCAC7BF,EAAQC,UAAUE,OAAO,gCACtBH,EAAQ9hB,WAAa,mCAE9B6iB,EAAqBI,QAqH3B1F,eCjKEpf,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrC8hB,QAAS,CACPrhB,QAAS,OACTC,cAAe,MACf0Z,eAAgB,SAChBtN,WAAY,OACZwN,YAAa,OACb5Y,SAAU,SACVnB,UAAW,QAEbgU,OAAQ,CACN9T,QAAS,OACTC,cAAe,SACf0Z,eAAgB,SAChBzZ,WAAY,UAEdwZ,SAAU,CACR1N,OAAQ,QACRhM,QAAS,OACTC,cAAe,MACf0Z,eAAgB,SAChBzZ,WAAY,UAEdwe,iBAAkB,CAChBle,MAAO,OACPR,QAAS,OACTC,cAAe,SACf0Z,eAAgB,gBAChB/B,QAAS,QAEXwL,uBAAwB,CACtB5iB,MAAO,OACPR,QAAS,OACTC,cAAe,MACf0Z,eAAgB,eAChBxW,SAAU,YAEZkgB,gBAAiB,CACflgB,SAAU,WACV1D,gBAAiB,OAEnBkY,OAAQ,CACNnX,MAAO,QAET8iB,SAAU,CACR9iB,MAAO,QACPwL,OAAQ,QACRuX,eAAgB,QAElB5E,kBAAmB,CACjB5S,aAAcxM,EAAMQ,QAAQ,QCzDjBqkB,GD6DK,WAClB,MASIP,KARFtF,EADF,EACEA,mBACA7Y,EAFF,EAEEA,OACAoe,EAHF,EAGEA,kBACAH,EAJF,EAIEA,mBACArF,EALF,EAKEA,mBACAsF,EANF,EAMEA,iBACAzW,EAPF,EAOEA,WACAsR,EARF,EAQEA,WAEI3d,EAAUzB,KAEhB,OAAe,IAAXqG,EAEA,yBAAKxE,UAAWJ,EAAQ4Y,UACtB,kBAACqC,EAAA,EAAD,CAAkB7Z,MAAM,eAM5B,oCACE,kBAAC,GAAD,CAAO6f,UAAU,gBACjB,kBAAC,GAAD,CACEjhB,QAASA,EACT6iB,mBAAoBA,EACpBrF,mBAAoBA,EACpBC,mBAAoBA,EACpBqF,iBAAkBA,EAClBnF,WAAYA,IAEd,kBAACzC,EAAA,EAAD,CAASyH,OAAK,IACd,kBAAC,GAAD,CACE3iB,QAASA,EACTkgB,SAAU8C,EACVvF,mBAAoBA,EACpBpR,WAAYA,EACZvL,KAAK,iBExBEyiB,GAvEQ,WACrB,MAA4B9mB,oBAAS,GAArC,mBAAOmI,EAAP,KAAeC,EAAf,KACA,EAA4CpI,mBAAS,IAArD,mBAAOif,EAAP,KAAuBC,EAAvB,KACA,EAA4Clf,mBAAS,IAArD,mBAAO+mB,EAAP,KAAuBC,EAAvB,KACQtf,EAAgBmW,qBAAWzW,IAA3BM,YACAP,EAAoBO,EAApBP,SAAUd,EAAUqB,EAAVrB,MA+DlB,OARI4C,KAAEC,QAAQ+V,KAA8B,IAAX9W,GAC/BhD,QAAQgE,IAAI,CAAChC,EAfbvG,IACGyE,IADH,UACUvE,6JAAYC,yBADtB,YAC0D,CACtDE,QAAS,CACP,eAAgB,kCAChB,iBAAkBoF,KAGrBnF,MAAK,SAAAoE,GACJ,OAAOA,EAASnE,QAEjB6H,OAAM,SAAAzH,GACiC,SAAlCT,6JAAYiG,mBAA8BC,QAAQC,IAAI1F,QAIjBL,MAAK,SAAAkI,GAChD8V,EAAkB9V,EAAO,IACzB4d,EAAkB5d,EAAO,GAAGjI,MAC5BiH,GAAU,MAIP,CAAE6W,iBAAgB8H,iBAAgB5e,SAAQyH,WA7D9B,SAAA6P,GACjB7e,IACGyE,IADH,UAEOvE,6JAAYC,yBAFnB,8BAEiE0e,GAC7D,CACExe,QAAS,CACP,eAAgB,kCAChB,iBAAkBoF,KAIvBnF,MAAK,SAAA+J,GACJ,GAAIA,EAAO9J,KAAK4O,QACdvO,IAAMD,MAAM0J,EAAO9J,KAAKsL,aACnB,CACL,IAAM2Y,EAAgBnc,KAAEoc,KACtBpc,KAAEqc,OAAOrG,EAAgB,CAAE8D,QAAStD,KAGhCwH,EAAoBhI,EAC1BmG,EAAc9jB,SAAQ,SAAA2I,GACpBgd,EAAkBrd,SAASK,EAAO,KAAlC,2BACKgd,EAAkBrd,SAASK,EAAO,MADvC,IAEE6Y,QAAS7D,EAAerV,SAASK,EAAO,KAAK6Y,YAGjDnK,SACG6M,iBADH,qBACkC/F,EADlC,OAEGne,SAAQ,SAAAmkB,GACHA,EAAQC,UAAUC,SAAS,gCAC7BF,EAAQC,UAAUE,OAAO,gCACtBH,EAAQ9hB,WAAa,mCAE9Bub,EAAkB+H,UCvCtBnlB,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrC8hB,QAAS,CACPrhB,QAAS,OACTC,cAAe,MACf0Z,eAAgB,SAChBtN,WAAY,OACZwN,YAAa,OACb5Y,SAAU,SACVnB,UAAW,QAEbgU,OAAQ,CACN9T,QAAS,OACTC,cAAe,SACf0Z,eAAgB,SAChBzZ,WAAY,UAEdwZ,SAAU,CACR1N,OAAQ,QACRhM,QAAS,OACTC,cAAe,MACf0Z,eAAgB,SAChBzZ,WAAY,UAEd0hB,iBAAkB,CAChB5hB,QAAS,OACTC,cAAe,MACf0Z,eAAgB,UAElBkI,cAAe,CACb5gB,SAAU,QACVb,OAAQb,EAAMQ,QAAQ,QCnCX0kB,GDuCD,SAAC,GAAuB,IAC9BlI,EAD6B,EAApByB,cACuB5I,OAAO1X,SAE7C,EAA+D2mB,GAC7D9H,GADMC,EAAR,EAAQA,eAAgB8H,EAAxB,EAAwBA,eAAgB5e,EAAxC,EAAwCA,OAAQyH,EAAhD,EAAgDA,WAG1CrM,EAAUzB,KAEhB,OAAe,IAAXqG,EAEA,yBAAKxE,UAAWJ,EAAQ4Y,UACtB,kBAACqC,EAAA,EAAD,CAAkB7Z,MAAM,eAM5B,oCACE,kBAAC,GAAD,CAAO6f,UAAU,sBACjB,kBAAC,GAAD,CACEjhB,QAASA,EACTkgB,SAAUxE,EACV+B,mBAAoB+F,EACpBnX,WAAYA,EACZvL,KAAK,YEYE8iB,GAvEO,WACpB,MAA4BnnB,oBAAS,GAArC,mBAAOmI,EAAP,KAAeC,EAAf,KACA,EAAwCpI,mBAAS,MAAjD,mBAAOonB,EAAP,KAAqBC,EAArB,KACA,EAAwCrnB,mBAAS,IAAjD,mBAAOsnB,EAAP,KAAqBC,EAArB,KACQ7f,EAAgBmW,qBAAWzW,IAA3BM,YACAP,EAAoBO,EAApBP,SAAUd,EAAUqB,EAAVrB,MA+DlB,OARqB,OAAjB+gB,IAAoC,IAAXjf,GAC3BhD,QAAQgE,IAAI,CAAChC,EAfbvG,IACGyE,IADH,UACUvE,6JAAYC,yBADtB,WACyD,CACrDE,QAAS,CACP,eAAgB,kCAChB,iBAAkBoF,KAGrBnF,MAAK,SAAAoE,GACJ,OAAOA,EAASnE,QAEjB6H,OAAM,SAAAzH,GACiC,SAAlCT,6JAAYiG,mBAA8BC,QAAQC,IAAI1F,QAIlBL,MAAK,SAAAkI,GAC/Cie,EAAgBje,EAAO,IACvBme,EAAgBne,EAAO,GAAGjI,MAC5BiH,GAAU,MAIL,CAAEgf,eAAcE,eAAcnf,SAAQyH,WA7D1B,SAAA6P,GACjB7e,IACGyE,IADH,UAEOvE,6JAAYC,yBAFnB,8BAEiE0e,GAC7D,CACExe,QAAS,CACP,eAAgB,kCAChB,iBAAkBoF,KAIvBnF,MAAK,SAAA+J,GACJ,GAAIA,EAAO9J,KAAK4O,QACdvO,IAAMD,MAAM0J,EAAO9J,KAAKsL,aACnB,CACL,IAAM2Y,EAAgBnc,KAAEoc,KACtBpc,KAAEqc,OAAO8B,EAAc,CAAErE,QAAStD,KAG9B+H,EAAmBJ,EACzBhC,EAAc9jB,SAAQ,SAAA2I,GACpBud,EAAiB5d,SAASK,EAAO,KAAjC,2BACKud,EAAiB5d,SAASK,EAAO,MADtC,IAEE6Y,QAASsE,EAAaxd,SAASK,EAAO,KAAK6Y,YAG/CnK,SACG6M,iBADH,qBACkC/F,EADlC,OAEGne,SAAQ,SAAAmkB,GACHA,EAAQC,UAAUC,SAAS,gCAC7BF,EAAQC,UAAUE,OAAO,gCACtBH,EAAQ9hB,WAAa,mCAE9B0jB,EAAgBG,UCvCpB1lB,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrC8hB,QAAS,CACPrhB,QAAS,OACTC,cAAe,MACf0Z,eAAgB,SAChBtN,WAAY,OACZwN,YAAa,OACb5Y,SAAU,SACVnB,UAAW,QAEbgU,OAAQ,CACN9T,QAAS,OACTC,cAAe,SACf0Z,eAAgB,SAChBzZ,WAAY,UAEdwZ,SAAU,CACR1N,OAAQ,QACRhM,QAAS,OACTC,cAAe,MACf0Z,eAAgB,SAChBzZ,WAAY,UAEd0hB,iBAAkB,CAChB5hB,QAAS,OACTC,cAAe,MACf0Z,eAAgB,UAElBkI,cAAe,CACb5gB,SAAU,QACVb,OAAQb,EAAMQ,QAAQ,QCnCXilB,GDuCF,SAAC,GAAuB,IAC7BC,EAD4B,EAApBjH,cACsB5I,OAAO1X,SAE3C,EAA2DgnB,GACzDO,GADMN,EAAR,EAAQA,aAAcE,EAAtB,EAAsBA,aAAcnf,EAApC,EAAoCA,OAAQyH,EAA5C,EAA4CA,WAGtCrM,EAAUzB,KAEhB,OAAe,IAAXqG,EAEA,yBAAKxE,UAAWJ,EAAQ4Y,UACtB,kBAACqC,EAAA,EAAD,CAAkB7Z,MAAM,eAM5B,oCACE,kBAAC,GAAD,CAAO6f,UAAU,qBACjB,kBAAC,GAAD,CACEjhB,QAASA,EACTkgB,SAAU2D,EACVpG,mBAAoBsG,EACpB1X,WAAYA,EACZvL,KAAK,W,sKEkBAsjB,GAAe,WAG1BnmB,YADuB,yCACD,CAAE6C,KAFJ,WClFPujB,GCeC,SAAC,GAAmB,IAAjB7J,EAAgB,EAAhBA,UACjB,EAAyBM,KAAqB,SAAAN,GAC5C,OAAQA,EAAUtR,SAChB,IAAK,gBFdTjL,YAFuB,8BAED,CAAE6C,KAHJ,YEmBd,MACF,IAAK,iBFVT7C,YAFuB,+BAED,CAAE6C,KAHJ,YEed,MACF,IAAK,iBFNT7C,YAFuB,kDAED,CAAE6C,KAHJ,YEWd,MACF,IAAK,iBFFT7C,YAFuB,8BAED,CAAE6C,KAHJ,YEOd,MACF,IAAK,mBFET7C,YAFuB,6BAED,CAAE6C,KAHJ,YEGd,MACF,IAAK,iBFaT7C,YAFuB,0CAED,CAAE6C,KAHJ,YERd,MACF,IAAK,qBFgBT7C,YAFuB,oCAED,CAAE6C,KAHJ,YEXd,MACF,IAAK,yBFmBT7C,YAFuB,kDAED,CAAE6C,KAHJ,YEdd,MACF,IAAK,yBFuBT7C,YAFuB,2CAED,CAAE6C,KAHJ,YElBd,MACF,IAAK,iBFNT7C,YAFuB,2BAED,CAAE6C,KAHJ,YEWd,MACF,IAAK,wBFwBT7C,YADE,yEACoB,CAAE6C,KAHJ,YEnBd,MACF,IAAK,mBF2BT7C,YADuB,sCACD,CAAE6C,KAFJ,YEvBd,MACF,IAAK,gBAGL,IAAK,mBACHsjB,QAKH,KA/CIrJ,EAAP,oBAoDA,YAHoBuJ,IAAd9J,QAAiD8J,IAAtB9J,EAAUtR,SACvC6R,EAAeP,GAEZ,M,qBCrCM+J,GA7BO,SAAC3gB,EAAUd,GAC/B,MAA4BrG,oBAAS,GAArC,mBAAOmI,EAAP,KAAeC,EAAf,KACA,EAAgCpI,mBAAS,IAAzC,mBAAO+nB,EAAP,KAAiBC,EAAjB,KAwBA,OAJI/e,KAAEC,QAAQ6e,KAAwB,IAAX5f,GAjBzBvH,IACGyE,IADH,UACUvE,6JAAYC,yBADtB,kBACgE,CAC5DE,QAAS,CACP,eAAgB,kCAChB,iBAAkBoF,KAGrBnF,MAAK,SAAAoE,GAGJ,OAFA0iB,EAAY1iB,EAASnE,MACrBiH,GAAU,GACH9C,EAASnE,QAEjB6H,OAAM,SAAAzH,GAC+B,SAAlCT,6JAAYiG,mBAA8BC,QAAQC,IAAI1F,MAQvD,CAAEwmB,WAAU5f,WCDfrG,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCma,SAAU,CACR1N,OAAQ,QACRhM,QAAS,OACTC,cAAe,MACf0Z,eAAgB,SAChBzZ,WAAY,UAEdslB,YAAa,CACXxZ,OAAQ,qBACRxL,MAAO,QACPoX,QAASrY,EAAMQ,QAAQ,IAEzB0lB,QAAS,CACPzZ,OAAQ,OACRxL,MAAO,OACPid,gBAAgB,OAAD,OAASiI,KAAT,KACfC,eAAgB,QAChB3lB,QAAS,OACTC,cAAe,SACf0Z,eAAgB,SAChBzZ,WAAY,UAEd0lB,YAAa,CACX5lB,QAAS,OACTC,cAAe,SACf0Z,eAAgB,SAChBzZ,WAAY,SACZT,gBAAiB,0BACjBmY,QAASrY,EAAMQ,QAAQ,GACvBkM,aAAc,OAEhB4Z,IAAK,CACH/lB,UAAWP,EAAMQ,QAAQ,GACzBsM,WAAY9M,EAAMQ,QAAQ,GAC1B8Z,YAAata,EAAMQ,QAAQ,IAE7B+lB,OAAQ,CACNrmB,gBAAiB,qBACjBsa,OAAQ,YACRO,YAAa/a,EAAMG,QAAQW,UAAUC,MAEvCylB,WAAY,CACV/lB,QAAS,OACTC,cAAe,MACf0Z,eAAgB,SAChBzZ,WAAY,UAEd8lB,UAAW,CACTha,OAAQ,sBAEVia,aAAc,CACZjmB,QAAS,OACTC,cAAe,MACfC,WAAY,WACZ0X,QAASrY,EAAMQ,QAAQ,IAEzBI,OAAQ,CACNK,MAAOjB,EAAMQ,QAAQ,GACrBiM,OAAQzM,EAAMQ,QAAQ,GACtB8Z,YAAata,EAAMQ,QAAQ,IAE7BmmB,YAAa,CACXla,OAAQ,QAEVma,WAAY,CACV1mB,gBAAiBF,EAAMG,QAAQmgB,QAAQvf,MAEzC8lB,eAAgB,CACdlkB,MAAO3C,EAAMG,QAAQW,UAAUC,MAEjC+lB,eAAgB,CACdnkB,MAAO,SAETokB,WAAY,CACV7mB,gBAAiB,UACjB8mB,UAAW,OACX3O,QAASrY,EAAMQ,QAAQ,IAEzBymB,YAAa,CACXxmB,QAAS,OACTC,cAAe,MACf0Z,eAAgB,UAElB8M,SAAU,CACRzmB,QAAS,OACTC,cAAe,SACf0Z,eAAgB,SAChBzZ,WAAY,SACZ0X,QAASrY,EAAMQ,QAAQ,GACvBkB,SAAU,SAEZylB,UAAW,CACT5mB,UAAWP,EAAMQ,QAAQ,GACzBgM,aAAcxM,EAAMQ,QAAQ,IAE9B4mB,eAAgB,CACd5a,aAAcxM,EAAMQ,QAAQ,QC5HjB6mB,GDgIF,SAAC,GAAkB,IAAhB/lB,EAAe,EAAfA,SACRC,EAAUzB,KACR4F,EAAgBmW,qBAAWzW,IAA3BM,YACFgQ,EAAqC,OAAtBhQ,EAAYrB,MACjC,EAAoCrG,mBAAS0X,GAA7C,mBAAO4R,EAAP,KAAmBC,EAAnB,KAEMxL,EAAYC,IAAYC,MAAM3a,EAAS4a,QAE7C,EAA6B4J,GAC3BpgB,EAAYP,SACZO,EAAYrB,OAFN0hB,EAAR,EAAQA,SAAU5f,EAAlB,EAAkBA,OAclB,OATmB,IAAfmhB,GACF5hB,EAAYP,SAASjG,MAAK,SAAAC,GACX,OAATA,IACFkC,OAAOC,SAAW,UAEpBimB,EAAcpoB,EAAKiC,YAInBkmB,GACa,IAAXnhB,EAEA,yBAAKxE,UAAWJ,EAAQ4Y,UACtB,kBAACqC,EAAA,EAAD,CAAkB7Z,MAAM,eAM5B,kBAAC,KAAD,CAAKhB,UAAWJ,EAAQklB,WACtB,kBAAC,KAAD,CAAK9kB,UAAWJ,EAAQmlB,cACtB,kBAAC9kB,EAAA,EAAD,CACEwN,IAAI,aACJD,IAAK4W,EAAS,GAAGvc,eACjB7H,UAAWJ,EAAQX,SAErB,kBAAC,IAAD,CAAYiB,QAAQ,KAAKc,MAAM,WAA/B,WACWojB,EAAS,GAAG9nB,YAGzB,kBAAC,IAAD,CAAM8D,WAAS,EAACJ,UAAWJ,EAAQolB,aACjC,kBAAC,IAAD,CAAM3kB,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGkgB,GAAI,EAAGzgB,UAAWJ,EAAQqlB,YAClD,kBAACY,GAAA,EAAD,KACE,kBAACC,GAAA,EAAD,CAAU/T,QAAM,EAACjS,UAAU,IAAIqB,KAAK,YAClC,kBAAC4kB,GAAA,EAAD,KACE,kBAAC,KAAD,CAAmB/lB,UAAWJ,EAAQslB,kBAExC,kBAACc,GAAA,EAAD,CACErH,QAAQ,aACR3e,UAAWJ,EAAQulB,kBAGvB,kBAACW,GAAA,EAAD,CAAU/T,QAAM,EAACjS,UAAU,IAAIqB,KAAK,SAClC,kBAAC4kB,GAAA,EAAD,KACE,kBAAC,KAAD,CAAU/lB,UAAWJ,EAAQslB,kBAE/B,kBAACc,GAAA,EAAD,CACErH,QAAQ,WACR3e,UAAWJ,EAAQulB,kBAGvB,kBAACW,GAAA,EAAD,CAAU/T,QAAM,EAACjS,UAAU,IAAIqB,KAAK,WAClC,kBAAC4kB,GAAA,EAAD,KACE,kBAAC,KAAD,CAAgB/lB,UAAWJ,EAAQslB,kBAErC,kBAACc,GAAA,EAAD,CACErH,QAAQ,SACR3e,UAAWJ,EAAQulB,kBAGvB,kBAACW,GAAA,EAAD,CAAU/T,QAAM,EAACjS,UAAU,IAAIqB,KAAK,UAClC,kBAAC4kB,GAAA,EAAD,KACE,kBAAC,KAAD,CAAgB/lB,UAAWJ,EAAQslB,kBAErC,kBAACc,GAAA,EAAD,CACErH,QAAQ,gBACR3e,UAAWJ,EAAQulB,oBAK3B,kBAAC,IAAD,CAAM9kB,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGkgB,GAAI,GAAIzgB,UAAWJ,EAAQwlB,YACnD,kBAAC,IAAD,CACEllB,QAAQ,KACRc,MAAM,UACNilB,cAAY,EACZvI,MAAM,SACN1d,UAAWJ,EAAQ6lB,gBALrB,2BASA,kBAAC,IAAD,CAAMrlB,WAAS,EAACvB,QAAS,GACvB,kBAAC,IAAD,CAAMwB,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGP,UAAWJ,EAAQ0lB,aAC3C,kBAAClR,GAAA,EAAD,CAAO2I,UAAW,EAAG/c,UAAWJ,EAAQ2lB,UACtC,kBAAC,KAAD,CAAcna,SAAS,QAAQpK,MAAM,cACrC,kBAAC,IAAD,CAAYd,QAAQ,KAAKc,MAAM,WAA/B,eAGA,kBAAC,IAAD,CAAYhB,UAAWJ,EAAQ4lB,WAA/B,yEAIA,kBAACnX,GAAA,EAAD,CACEC,KAAK,QACLtN,MAAM,YACNia,aAAW,MACX9Z,KAAK,gBAEL,kBAAC,KAAD,SAIN,kBAAC,IAAD,CAAMd,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGP,UAAWJ,EAAQ0lB,aAC3C,kBAAClR,GAAA,EAAD,CAAO2I,UAAW,EAAG/c,UAAWJ,EAAQ2lB,UACtC,kBAAC,KAAD,CAAYna,SAAS,QAAQpK,MAAM,cACnC,kBAAC,IAAD,CAAYd,QAAQ,KAAKc,MAAM,WAA/B,UAGA,kBAAC,IAAD,CAAYhB,UAAWJ,EAAQ4lB,WAA/B,gFAIA,kBAACnX,GAAA,EAAD,CACEC,KAAK,QACLtN,MAAM,YACNia,aAAW,MACX9Z,KAAK,WAEL,kBAAC,KAAD,aAWhB,oCACE,kBAAC,KAAD,CAAKnB,UAAWJ,EAAQ0kB,aACtB,kBAAC,KAAD,CAAKtkB,UAAWJ,EAAQ2kB,SACtB,kBAAC,KAAD,CAAKvkB,UAAWJ,EAAQ8kB,aACtB,kBAAC,IAAD,CAAYxkB,QAAQ,KAAKc,MAAM,UAAUilB,cAAY,GAArD,uBAGA,kBAAC,IAAD,sGAIA,yBAAKjmB,UAAWJ,EAAQilB,YACtB,kBAACxW,GAAA,EAAD,CACEnO,QAAQ,WACRc,MAAM,YACNia,aAAW,MACXjb,UAAWJ,EAAQ+kB,IACnBxjB,KAAK,WALP,WASA,kBAACkN,GAAA,EAAD,CACEnO,QAAQ,WACR+a,aAAW,MACXjb,UAAWJ,EAAQglB,OAAS,IAAMhlB,EAAQ+kB,IAC1CxjB,KAAK,UAJP,eAYR,kBAAC,GAAD,CAASiZ,UAAWA,M,2BE9QX8L,GA7BK,SAAC,GAAuC,IAA1BC,EAAyB,EAApCrmB,UAAyBsmB,EAAW,mBACjDriB,EAAgBmW,qBAAWzW,IAA3BM,YACFgQ,EAAqC,OAAtBhQ,EAAYrB,MACjC,EAAoCrG,mBAAS0X,GAA7C,mBAAO4R,EAAP,KAAmBC,EAAnB,KAUA,OATmB,IAAfD,GACF5hB,EAAYP,SAASjG,MAAK,SAAAC,GACX,OAATA,IACFkC,OAAOC,SAAW,UAEpBimB,EAAcpoB,EAAKiC,YAKrB,kBAAC,IAAD,iBACM2mB,EADN,CAEEC,OAAQ,SAAAjV,GACN,OAAIuU,EACK,kBAACQ,EAAD,iBAAe/U,EAAWgV,IAE5B,kBAAC,IAAD,CAAUE,GAAG,gB,iBCJbC,GAhBQ,SAAC,GAAuC,IAA1BJ,EAAyB,EAApCrmB,UAAyBsmB,EAAW,mBACpDriB,EAAgBmW,qBAAWzW,IAA3BM,YACFgQ,EACkB,OAAtBhQ,EAAYrB,QAAmBI,EAAeiB,EAAYrB,OAC5D,EAAoCrG,mBAAS0X,GAA7C,mBAAO4R,EAAP,KAAmBC,EAAnB,KAKA,OAJmB,IAAfD,IACF5hB,EAAYP,SAASjG,MAAK,SAAAC,GAAI,OAAIooB,EAAcpoB,EAAKiC,YACrDC,OAAOC,SAAW,8BAEb,kBAACwmB,EAAcC,I,0HCuETI,GAzEY,SAAC,GAA8C,IAA5C5mB,EAA2C,EAA3CA,QAAS6mB,EAAkC,EAAlCA,aAAcC,EAAoB,EAApBA,cAC7CC,EAAmB,SAACC,EAAQ7pB,GAChC,IAAI+L,EAAU,GAEd,GAAI/L,EAAO,CACT,OAAQA,GACN,IAAK,UACH+L,EAAO,UAAM8d,EAAN,2BACP,MACF,IAAK,OACH9d,EAAO,UAAM8d,EAAN,cACP,MACF,IAAK,QACH9d,EAAO,UAAM8d,EAAN,0BACP,MACF,IAAK,QACH9d,EAAO,UAAM8d,EAAN,kCACP,MACF,IAAK,UACH9d,EAAO,UAAM8d,EAAN,uCAIX,OAAO9d,IAIX,OACE,yBACE9I,UAAWJ,EAAQwc,KACnB/K,KAAK,eACL7C,QAASiY,GAAa,GACtBI,UAAWJ,GAAa,IAEvBnhB,KAAEC,QAAQmhB,GACT,kBAAC,IAAD,CAAY1mB,UAAWJ,EAAQknB,uBAC7B,0BAAMzV,KAAK,MAAM4J,aAAW,SAA5B,+EAKF,kBAAC4K,GAAA,EAAD,KACGa,EAActX,KAAI,SAAA2X,GACjB,IAAMC,EAAS,mBAAeD,EAAavqB,UAC3C,OACE,kBAAC,WAAD,CAAU6S,IAAK0X,EAAanmB,IAC1B,kBAACklB,GAAA,EAAD,CACE/T,QAAM,EACNjS,UAAU,IACVqB,KAAM6lB,EACNhnB,UAAW+mB,EAAaE,KAAO,KAAOrnB,EAAQsnB,cAE9C,kBAACC,GAAA,EAAD,KACE,kBAAClnB,EAAA,EAAD,CAAQwN,IAAI,SAASD,IAAKuZ,EAAalf,kBAEzC,kBAACme,GAAA,EAAD,CACErH,QAASgI,EACPI,EAAazqB,UACbyqB,EAAahqB,OAEfoC,UAAWsM,KAAOsb,EAAa7H,MAAMxT,aAGzC,kBAACoP,EAAA,EAAD,aCrDV3c,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCoZ,KAAM,CACJ2P,SAAU,GAEZC,WAAY,CACV1O,YAAata,EAAMQ,QAAQ,IAE7ByoB,WAAY,CACVF,SAAU,GAEZG,QAAS,CACPvmB,MAAO,QACP,UAAW,CACTqhB,eAAgB,QAElB,UAAW,CACTA,eAAgB,OAChBrhB,MAAO3C,EAAMG,QAAQW,UAAUC,MAEjC,YAAa,CACXijB,eAAgB,QAElB,SAAU,CACRA,eAAgB,QAElB,WAAY,CACVA,eAAgB,SAGpB6E,aAAc,CACZ3oB,gBAAiB,WAEnBuoB,sBAAuB,CACrB5nB,OAAQb,EAAMQ,QAAQ,QCtDX2oB,GD0DH,WACV,IAAM5nB,EAAUzB,KAChB,EAAuC+b,qBAAWzW,IAA1CM,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,cACbtB,EAAUqB,EAAVrB,MACR,EAAoCrG,oBAAS,GAA7C,mBAAOorB,EAAP,KAAmBC,EAAnB,KACA,EAA0CrrB,mBAAS,IAAnD,mBAAOqqB,EAAP,KAAsBiB,EAAtB,KACA,EAAoDtrB,mBAAS,GAA7D,mBAAOurB,EAAP,KAA2BC,EAA3B,KACA,EAA0CxrB,mBAAS,GAAnD,mBAAOyrB,EAAP,KAAsBC,EAAtB,KACA,EAAkCnb,IAAMvQ,SAAS,CAC/Cga,OAAO,IADT,mBAAO2R,EAAP,KAAkBC,EAAlB,KAIArN,qBAAU,WACR,IAAMsN,EAAuB,uCAAG,sBAAA5mB,EAAA,sEACxBrE,IACHyE,IADG,UAECvE,6JAAYC,yBAFb,uBAGF,CACEE,QAAS,CACP,eAAgB,kCAChB,iBAAkBoF,KAIvBnF,MAAK,SAAA+J,GACJugB,EAAsB5hB,SAASqB,EAAO9J,KAAM,QAE7C6H,OAAM,SAAAzH,GACiC,SAAlCT,6JAAYiG,mBAA8BC,QAAQC,IAAI1F,MAfhC,2CAAH,qDAmBvBuqB,EAAkB,uCAAG,sBAAA7mB,EAAA,sEACnBrE,IACHyE,IADG,UACIvE,6JAAYC,yBADhB,eACuD,CACzDE,QAAS,CACP,eAAgB,kCAChB,iBAAkBoF,KAGrBnF,MAAK,SAAA+J,GACJygB,EAAiB9hB,SAASqB,EAAO9J,KAAM,QAExC6H,OAAM,SAAAzH,GACiC,SAAlCT,6JAAYiG,mBAA8BC,QAAQC,IAAI1F,MAZrC,2CAAH,qDAexBsqB,IACA9lB,YAAW,kBAAM+lB,MAAsB,OACtC,CAACzlB,IAEJ,IAAM0lB,EAAkB,uCAAG,sBAAA9mB,EAAA,sEACnBrE,IACHyE,IADG,UACIvE,6JAAYC,yBADhB,iBACyD,CAC3DE,QAAS,CACP,eAAgB,kCAChB,iBAAkBoF,KAGrBnF,MAAK,SAAA+J,GACJqgB,EAAiBrgB,EAAO9J,SAEzB6H,OAAM,SAAAzH,GACiC,SAAlCT,6JAAYiG,mBAA8BC,QAAQC,IAAI1F,MAZrC,2CAAH,qDAgBlB6oB,EAAe,SAAA9X,GAAI,8CAAI,WAAM5R,GAAN,SAAAuE,EAAA,0DAEzBvE,GACe,YAAfA,EAAM2D,MACS,QAAd3D,EAAMsS,KAA+B,UAAdtS,EAAMsS,IAJL,qDAQvBV,EARuB,gCASnByZ,IATmB,OAUzBP,EAAsB,GAVG,OAY3BI,EAAa,2BAAKD,GAAN,IAAiB3R,MAAO1H,KAZT,2CAAJ,uDAezB,EAAyB+L,KAAqB,SAACkM,EAAQlmB,GACrD,OAAQA,GACN,IAAK,UACH7C,YAAM,wCACN,MACF,IAAK,QACHA,YAAM,sCACN,MACF,IAAK,UACHA,YAAM,4CACN,MACF,IAAK,OACHA,YAAM,mCACN,MACF,IAAK,QACHA,YAAM,iDAIT,KAnBI8c,EAAP,oBAqCA,OAjBI8M,GACFzjB,EAAcC,OAAOokB,GAAG,oBAAoB,SAACzB,EAAQlmB,GACtC,YAATA,GACFqnB,EAAiBD,EAAgB,GAEnCnN,EAAeiM,EAAQlmB,MAI3BqD,EAAYP,SAASjG,MAAK,SAAAC,GAEtBkqB,IADElqB,GACYA,EAAKiC,YAOrB,kBAAC6oB,GAAA,EAAD,CAAQrmB,SAAS,UACf,kBAACsmB,GAAA,EAAD,KACE,kBAAC,IAAD,CAAYroB,QAAQ,KAAKF,UAAWJ,EAAQ0nB,YAC1C,kBAACpmB,EAAA,EAAD,CACEC,KAAK,IACL2R,MAAO,CAAEuP,eAAgB,QACzBriB,UAAWJ,EAAQ2nB,SAHrB,WAQDE,EACC,oCACE,kBAAC7H,GAAA,EAAD,CAAY5e,MAAM,UAAUG,KAAK,SAC/B,kBAACqnB,GAAA,EAAD,CAAOxnB,MAAM,YAAYynB,aAAcX,EAAeY,UAAQ,GAC5D,kBAAC,KAAD,CAAgB1oB,UAAWJ,EAAQ2nB,YAGvC,kBAAC3H,GAAA,EAAD,CAAYpR,QAASiY,GAAa,GAAOzlB,MAAM,WAC7C,kBAACwnB,GAAA,EAAD,CACExnB,MAAM,YACNynB,aAAcb,EACdc,UAAQ,GAER,kBAAC,KAAD,CAAmB1oB,UAAWJ,EAAQ2nB,YAI1C,kBAAC3H,GAAA,EAAD,CAAY5e,MAAM,UAAUG,KAAK,WAC/B,kBAAC,KAAD,CAAmBnB,UAAWJ,EAAQ2nB,WAExC,kBAAC3H,GAAA,EAAD,CACE5e,MAAM,UACNwN,QAAS,SAAA+I,IhD7KD,SAACA,EAAGmQ,GACxBnQ,EAAEva,iBACFwF,aAAasH,WAAW,SACxB4d,GAAc,GACdhoB,OAAOC,SAAW,2BgD0KJgpB,CAAOpR,EAAGmQ,KAGZ,kBAAC,KAAD,CAAe1nB,UAAWJ,EAAQ2nB,WAEpC,kBAACqB,GAAA,EAAD,CACEC,OAAO,QACPla,KAAMqZ,EAAU3R,MAChBxH,QAAS4X,GAAa,GACtBqC,OAAQrC,GAAa,IAErB,kBAAC,GAAD,CACE7mB,QAASA,EACT6mB,aAAcA,EACdC,cAAeA,MAKrB,oCACE,kBAAC3lB,EAAA,EAAD,CAAQC,MAAM,UAAUG,KAAK,WAA7B,UAEU,IACV,kBAACJ,EAAA,EAAD,CAAQC,MAAM,UAAUG,KAAK,UAA7B,aE3OG4nB,GCEQ,SAAC,GAAuB,IACrCrmB,EADoC,EAApBoa,cACQ5I,OAAxBxR,MAiBR,OAhBAzF,IACGyE,IADH,UAEOvE,6JAAYC,yBAFnB,kCAEqEsF,GACjE,CACEpF,QAAS,CACP,eAAgB,qCAIrBC,MAAK,SAAAC,GACAA,EAAKA,KAAKiC,QACZC,OAAOC,SAAW,2BAElBD,OAAOC,SAAW,kCAGjB,oDCiCMqpB,GAnDS,SAAC5sB,EAAUsG,GACjC,MAA4BrG,mBAAS,CACnCK,UAAW,GACXC,UAAW,KAFb,mBAAOC,EAAP,KAAeC,EAAf,KAIQH,EAAyBE,EAAzBF,UAAWC,EAAcC,EAAdD,UAuCnB,MAAO,CACLG,aAtCmB,SAAAC,GACnB,GAAIA,EAAO,CAET,GADAA,EAAMC,iBACFN,IAAcC,EAEhB,YADAkB,IAAMD,MAAM,+BAGdX,IACGC,KADH,UAEOC,6JAAYC,yBAFnB,4CAE+EsF,GAC3E,CACErF,SAAUX,GAEZ,CACEY,QAAS,CACP,eAAgB,qCAIrBC,MAAK,YAAe,IAAZC,EAAW,EAAXA,MACc,IAAjBA,EAAKiC,QACPrD,GAAS,GAETyB,IAAMD,MAAMJ,EAAKmF,UAgBzB7E,kBAVwB,SAAAf,GACxBA,EAAMgB,UACN,IAAM9B,EAAQ,2BACTW,GADS,kBAEXG,EAAMiB,OAAOC,KAAOlB,EAAMiB,OAAOE,QAEpCrB,EAAUZ,IAKVW,WCvCEuB,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrC,UAAW,CACTC,KAAM,CACJC,gBAAiBF,EAAMG,QAAQC,OAAOC,QAG1CC,MAAO,CACLC,UAAWP,EAAMQ,QAAQ,GACzBC,QAAS,OACTC,cAAe,SACfC,WAAY,UAEdC,OAAQ,CACNC,OAAQb,EAAMQ,QAAQ,GACtBN,gBAAiBF,EAAMG,QAAQW,UAAUC,MAE3CC,KAAM,CACJC,MAAO,OACPV,UAAWP,EAAMQ,QAAQ,IAE3BU,OAAQ,CACNL,OAAQb,EAAMQ,QAAQ,EAAG,EAAG,QC/BjBoqB,GDmCa,SAAC,GAAuB,IAArBnM,EAAoB,EAApBA,cACvBld,EAAUzB,KAMRuE,EAAUoa,EAAc5I,OAAxBxR,MACR,EAAoDsmB,IANnC,SAAAvpB,GACXA,IACFC,OAAOC,SAAW,sCAMpB+C,GAFM9F,EAAR,EAAQA,OAAQkB,EAAhB,EAAgBA,kBAAmBhB,EAAnC,EAAmCA,aAInC,EAAoCT,oBAAS,GAA7C,mBAAO6sB,EAAP,KAAmBC,EAAnB,KAmBA,OAlBKD,GACHjsB,IACGyE,IADH,UAEOvE,6JAAYC,yBAFnB,sCAEyEsF,GACrE,CACEpF,QAAS,CACP,eAAgB,qCAIrBC,MAAK,SAAAC,GACAA,EAAKA,KAAKiC,QACZ0pB,GAAc,GAEdzpB,OAAOC,SAAW,mCAIP,IAAfupB,EAEA,kBAACrpB,EAAA,EAAD,CAAWC,UAAU,OAAOC,SAAS,MACnC,yBAAKC,UAAWJ,EAAQjB,OACtB,kBAACsB,EAAA,EAAD,CAAQD,UAAWJ,EAAQX,QACzB,kBAAC,IAAD,OAEF,kBAAC,IAAD,CAAYa,UAAU,KAAKI,QAAQ,MAAnC,wBAGA,0BAAMF,UAAWJ,EAAQP,KAAMc,SAAUrD,GACvC,kBAAC,IAAD,CACE0D,WAAS,EACTtB,OAAO,SACPuB,QAAQ,YACRC,KAAK,WACLzC,KAAK,YACL0C,SAAU7C,EACVI,MAAOtB,EAAOF,UACdkE,GAAG,YACHV,QAAQ,WACRY,UAAQ,EACR+B,WAAS,EACThC,MAAM,uBAER,kBAAC,IAAD,CACEL,WAAS,EACTtB,OAAO,SACPuB,QAAQ,YACRC,KAAK,WACLzC,KAAK,YACL0C,SAAU7C,EACVI,MAAOtB,EAAOD,UACduD,QAAQ,WACRU,GAAG,YACHE,UAAQ,EACR+B,WAAS,EACThC,MAAM,yBAER,kBAACE,EAAA,EAAD,CACEL,KAAK,SACLR,QAAQ,YACRc,MAAM,UACNR,WAAS,EACTR,UAAWJ,EAAQL,QALrB,4BAcH,oDE7GHpB,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrC,UAAW,CACTC,KAAM,CACJC,gBAAiBF,EAAMG,QAAQC,OAAOC,QAG1CC,MAAO,CACLC,UAAWP,EAAMQ,QAAQ,GACzBC,QAAS,OACTC,cAAe,SACfC,WAAY,UAEdC,OAAQ,CACNC,OAAQb,EAAMQ,QAAQ,GACtBN,gBAAiBF,EAAMG,QAAQW,UAAUC,MAE3CC,KAAM,CACJC,MAAO,OACPV,UAAWP,EAAMQ,QAAQ,IAE3BU,OAAQ,CACNL,OAAQb,EAAMQ,QAAQ,EAAG,EAAG,QC/BjBuqB,GDmCQ,WACrB,IAKA,EAAoDlW,IAL7B,SAAAzT,GACjBA,IACFC,OAAOC,SAAW,uCAGd/C,EAAR,EAAQA,OAAQkB,EAAhB,EAAgBA,kBAAmBhB,EAAnC,EAAmCA,aAG7B8C,EAAUzB,KAEhB,OACE,kBAAC0B,EAAA,EAAD,CAAWC,UAAU,OAAOC,SAAS,MACnC,yBAAKC,UAAWJ,EAAQjB,OACtB,kBAACsB,EAAA,EAAD,CAAQD,UAAWJ,EAAQX,QACzB,kBAAC,IAAD,OAEF,kBAAC,IAAD,CAAYa,UAAU,KAAKI,QAAQ,MAAnC,yBAGA,0BAAMF,UAAWJ,EAAQP,KAAMc,SAAUrD,GACvC,kBAAC,IAAD,CACE0D,WAAS,EACTtB,OAAO,SACPuB,QAAQ,QACRC,KAAK,QACLzC,KAAK,QACL0C,SAAU7C,EACVI,MAAOtB,EAAOH,MACdmE,GAAG,QACHV,QAAQ,WACRY,UAAQ,EACR+B,WAAS,EACThC,MAAM,uBAER,kBAACE,EAAA,EAAD,CACEL,KAAK,SACLR,QAAQ,YACRc,MAAM,UACNR,WAAS,EACTR,UAAWJ,EAAQL,QALrB,kBASA,kBAAC,IAAD,CAAMa,WAAS,GACb,kBAAC,IAAD,CAAMC,MAAI,EAACC,IAAE,GACX,kBAACY,EAAA,EAAD,CAAMC,KAAK,SAASjB,QAAQ,SAA5B,UAIF,kBAAC,IAAD,CAAMG,MAAI,GACR,kBAACa,EAAA,EAAD,CAAMC,KAAK,UAAUjB,QAAQ,SAC1B,wCEtDFmpB,GA9BO,WACpB,MAA4BhtB,oBAAS,GAArC,mBAAOmI,EAAP,KAAeC,EAAf,KAEQ/B,EADgBwX,qBAAWzW,IAA3BM,YACArB,MACR,EAAkCrG,mBAAS,IAA3C,mBAAOitB,EAAP,KAAkBC,EAAlB,KAuBA,OAJIjkB,KAAEC,QAAQ+jB,KAAyB,IAAX9kB,IAhB1BvH,IACGyE,IADH,UACUvE,6JAAYC,yBADtB,UACwD,CACpDE,QAAS,CACP,eAAgB,kCAChB,iBAAkBoF,KAGrBnF,MAAK,SAAAoE,GAEJ,OADA4nB,EAAa5nB,EAASnE,MACfmE,EAASnE,QAEjB6H,OAAM,SAAAzH,GACiC,SAAlCT,6JAAYiG,mBAA8BC,QAAQC,IAAI1F,MAM9D6G,GAAU,IAEL,CAAE6kB,cCnBLnrB,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrCmrB,eAAgB,CACdlqB,MAAO,OACPwL,OAAQ,OACR2e,cAAe,OACf/S,QAAS,KAEXgT,eAAgB,CACdnrB,gBAAiB,WAEnBorB,UAAW,CACT7qB,QAAS,OACTC,cAAe,SACf0Z,eAAgB,SAChBzZ,WAAY,UAEd4qB,eAAgB,CACd1qB,OAAQb,EAAMQ,QAAQ,QC5BXgrB,GDgCF,WACX,IAAMjqB,EAAUzB,KACRmrB,EAAcD,KAAdC,UACR,OAAIhkB,KAAEC,QAAQ+jB,GAEV,kBAAC,KAAD,CAAKtpB,UAAWJ,EAAQ+pB,WACtB,0BAAMtY,KAAK,MAAM4J,aAAW,QAAQjb,UAAWJ,EAAQgqB,gBAAvD,wEAEQ,IACR,yBAAKpc,IAAI,wDAAwDC,IAAI,2BAKzE,kBAACoY,GAAA,EAAD,CAAM7lB,UAAWJ,EAAQ6X,MACtBnS,KAAE8J,IAAIka,GAAW,SAAAQ,GAChB,IAAMC,EAAY,oBAAgBD,EAAeE,SACjD,OACE,kBAAC,WAAD,CAAU3a,IAAKya,EAAeE,SAC5B,kBAACjpB,EAAA,EAAD,CACEf,UAAWJ,EAAQ4pB,eACnBtpB,QAAQ,OACRiB,KAAM4oB,GAEN,kBAACjE,GAAA,EAAD,CACE9mB,WAAW,aACXgB,WAC0B,IAAxB8pB,EAAe7C,KAAiBrnB,EAAQ8pB,eAAiB,MAG3D,kBAACvC,GAAA,EAAD,KACE,kBAAClnB,EAAA,EAAD,CAAQwN,IAAI,SAASD,IAAKsc,EAAejiB,kBAE3C,kBAACme,GAAA,EAAD,CACErH,QAASmL,EAAextB,UACxB6C,UAAW2qB,EAAeG,YAIhC,kBAACnP,EAAA,EAAD,CAAS5a,QAAQ,QAAQJ,UAAU,a,qBEShCoqB,GA7EW,SAAAjd,GACxB,MAA4B5Q,oBAAS,GAArC,mBAAOmI,EAAP,KAAeC,EAAf,KACA,EAA8BpI,oBAAS,GAAvC,mBAAOmf,EAAP,KAAgBC,EAAhB,KACA,EAAuCvB,qBAAWzW,IAA1CM,EAAR,EAAQA,YAAaC,EAArB,EAAqBA,cACbR,EAAoBO,EAApBP,SAAUd,EAAUqB,EAAVrB,MAClB,EAAwCrG,mBAAS,IAAjD,mBAAO8tB,EAAP,KAAqBC,EAArB,KACA,EAAgD/tB,mBAAS,IAAzD,mBAAOguB,EAAP,KAAyBC,EAAzB,KACA,EAAsCjuB,mBAAS,MAA/C,mBAAOkuB,EAAP,KAAoBC,EAApB,KACA,EAA8BnuB,mBAAS,IAAvC,mBAAOyM,EAAP,KAAgB2hB,EAAhB,KAEAzmB,EAAcC,OAAOokB,GAAG,gBAAgB,SAAAqC,GACtCJ,EAAoBD,EAAiBM,OAAOD,OAG9C1mB,EAAcC,OAAOokB,GAAG,YAAY,SAAAqC,GAClChrB,OAAOC,SAAP,oBAA+B+qB,MAiDjC,OAJIplB,KAAEC,QAAQ4kB,KAA4B,IAAX3lB,IAAgC,IAAZgX,IACjDC,GAAW,GA/BXxe,IACGyE,IADH,UACUvE,6JAAYC,yBADtB,iBACuD6P,GAAW,CAC9D3P,QAAS,CACP,eAAgB,kCAChB,iBAAkBoF,KAGrBnF,MAAK,SAAAoE,IAC0B,IAA1BA,EAASnE,KAAKiC,SAIlB2qB,EAAgB,CACdviB,eAAgBlG,EAASnE,KAAKqK,eAC9BvL,UAAWqF,EAASnE,KAAKlB,UACzBE,SAAUmF,EAASnE,KAAKhB,WAE1B8tB,EAAoB3oB,EAASnE,KAAKotB,UAClCpnB,EAASjG,MAAK,SAAAC,GACZgtB,EAAehtB,EAAKA,KAAKoD,IACzBoD,EAAcC,OAAO4mB,KAAK,eAAgB5d,MAE5CxI,GAAU,GACVgX,GAAW,IAdT/b,OAAOC,SAAW,6BAgBrB0F,OAAM,SAAAzH,GACiC,SAAlCT,6JAAYiG,mBAA8BC,QAAQC,IAAI1F,OAQzD,CACLusB,eACAE,mBACAD,kBACAE,sBACA9lB,SACA+lB,cACAO,cArDoB,SAAA/tB,GACpB0tB,EAAW1tB,EAAMiB,OAAOE,QAqDxB6sB,YAlDkB,WACF,KAAZjiB,IACF9E,EAAcC,OAAO4mB,KAAK,eAAgB/hB,EAASmE,GACnDwd,EAAW,MAgDb3hB,YC/DE3K,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACrC2sB,YAAa,CAAE/oB,SAAU,YACzBuW,SAAU,CACR1N,OAAQ,QACRhM,QAAS,OACTC,cAAe,MACf0Z,eAAgB,SAChBzZ,WAAY,UAEdisB,gBAAiB,CACfvU,QAASrY,EAAMQ,QAAQ,GACvBN,gBAAiB,UACjBO,QAAS,OACTC,cAAe,MACf0Z,eAAgB,iBAElBxZ,OAAQ,CACN0Z,YAAata,EAAMQ,QAAQ,IAE7BqsB,sBAAuB,CACrBpsB,QAAS,OACTC,cAAe,MACfC,WAAY,SACZ,UAAW,CACTqjB,eAAgB,QAElB,UAAW,CACTA,eAAgB,OAChBrhB,MAAO3C,EAAMG,QAAQW,UAAUC,MAEjC,YAAa,CACXijB,eAAgB,QAElB,SAAU,CACRA,eAAgB,QAElB,WAAY,CACVA,eAAgB,SAGpB8I,YAAa,CACX7rB,MAAO,OACPwf,YAAazgB,EAAMQ,QAAQ,GAC3BkgB,aAAc1gB,EAAMQ,QAAQ,GAC5B+f,WAAYvgB,EAAMQ,QAAQ,GAC1BggB,cAAexgB,EAAMQ,QAAQ,GAC7BiM,OAAQ,OACRsgB,UAAW,OACXtsB,QAAS,OACTC,cAAe,UAEjBssB,gBAAiB,CACfvsB,QAAS,OACTC,cAAe,OAEjBusB,aAAc,CACZxsB,QAAS,OACTC,cAAe,MACf0Z,eAAgB,YAElB8S,gBAAiB,CACfhtB,gBAAiB,UACjBwM,aAAc,QACd2L,QAAS,YACTvL,WAAY9M,EAAMQ,QAAQ,GAC1BgM,aAAcxM,EAAMQ,QAAQ,GAC5BkB,SAAU,SAEZyrB,aAAc,CACZjtB,gBAAiBF,EAAMG,QAAQmgB,QAAQvf,KACvC2L,aAAc,QACd2L,QAAS,YACT3W,SAAU,QACViB,MAAO,QACP6J,aAAcxM,EAAMQ,QAAQ,IAE9B4sB,aAAc,CACZnsB,MAAO,OACPR,QAAS,OACTC,cAAe,MACfC,WAAY,SACZiD,SAAU,QACVqU,OAAQ,IACRwI,YAAazgB,EAAMQ,QAAQ,GAC3BkgB,aAAc1gB,EAAMQ,QAAQ,GAC5B+f,WAAYvgB,EAAMQ,QAAQ,GAC1BggB,cAAexgB,EAAMQ,QAAQ,GAC7BN,gBAAiB,WAEnBmS,UAAW,CACTnS,gBAAiB,eCvGNmtB,GD2GE,WACf,IAAM9rB,EAAUzB,KACV8O,EAAY0e,cAAZ1e,QACNA,EAAUhH,SAASgH,EAAS,IAC5B,MAQIid,GAAkBjd,GAPpBkd,EADF,EACEA,aACAE,EAFF,EAEEA,iBACA7lB,EAHF,EAGEA,OACA+lB,EAJF,EAIEA,YACAO,EALF,EAKEA,cACAC,EANF,EAMEA,YACAjiB,EAPF,EAOEA,QAEE8iB,GAAW,EACT9J,EAAU9M,SAAS6W,eAAe,QAexC,GAPI/J,GACFA,EAAQza,iBAAiB,UAAU,WACjCukB,GAAW,MAPRA,GAAY9J,IACfA,EAAQgK,UAAYhK,EAAQiK,eAWjB,IAAXvnB,EACF,OACE,yBAAKxE,UAAWJ,EAAQ4Y,UACtB,kBAACqC,EAAA,EAAD,CAAkB7Z,MAAM,eAI9B,IAAMgrB,EAAW,mBAAe7B,EAAa3tB,UAC7C,OACE,oCACE,kBAAC,KAAD,CAAKwD,UAAWJ,EAAQorB,aACtB,kBAAC,KAAD,CAAKhrB,UAAWJ,EAAQqrB,iBACtB,kBAAClqB,EAAA,EAAD,CACEb,QAAQ,YACRc,MAAM,YACNhB,UAAWJ,EAAQmS,OACnB5Q,KAAK,QACL6Q,UAAW,kBAAC,KAAD,OALb,OASA,kBAAC,KAAD,KACE,kBAAC9Q,EAAA,EAAD,CAAMC,KAAM6qB,EAAahsB,UAAWJ,EAAQsrB,uBAC1C,kBAACjrB,EAAA,EAAD,CACEwN,IAAI,SACJD,IAAK2c,EAAatiB,eAClB7H,UAAWJ,EAAQX,SAErB,kBAAC,IAAD,CAAYiB,QAAQ,MAAMiqB,EAAa7tB,aAG3C,kBAAC,KAAD,OAEF,kBAAC,KAAD,CAAK0D,UAAWJ,EAAQurB,YAAavqB,GAAG,QACrC0E,KAAE8J,IAAIib,GAAkB,SAAAvhB,GACvB,OAAIyhB,IAAgBzhB,EAAQmjB,OAExB,kBAAC,KAAD,CAAK5c,IAAKvG,EAAQlI,GAAIZ,UAAWJ,EAAQyrB,iBACvC,kBAACprB,EAAA,EAAD,CAAQwN,IAAI,SAASD,IAAK1E,EAAQjB,iBAClC,yBAAK7H,UAAWJ,EAAQ2rB,iBACtB,8BAAOziB,EAAQmhB,WAMrB,kBAAC,KAAD,CAAK5a,IAAKvG,EAAQlI,GAAIZ,UAAWJ,EAAQ0rB,cACvC,yBAAKtrB,UAAWJ,EAAQ4rB,cACtB,8BAAO1iB,EAAQmhB,gBAO3B,kBAAC,KAAD,CAAKjqB,UAAWJ,EAAQ6rB,cACtB,kBAAC,IAAD,CAAMrrB,WAAS,EAACvB,QAAS,GACvB,kBAAC,IAAD,CAAMwB,MAAI,EAACE,GAAI,GAAID,GAAI,IACrB,kBAAC,IAAD,CACEK,SAAUmqB,EACV5sB,MAAO4K,EACPtI,WAAS,EACTE,KAAK,OACLzC,KAAK,UACLiC,QAAQ,WACRF,UAAWJ,EAAQ8Q,aAGvB,kBAAC,IAAD,CAAMrQ,MAAI,EAACE,GAAI,EAAGD,GAAI,IACpB,kBAACS,EAAA,EAAD,CAAQyN,QAASuc,EAAa7qB,QAAQ,YAAYc,MAAM,aAAxD,qBEpJGkrB,OAlCf,WACE,OACE,kBAAC,GAAD,KACE,kBAAC,IAAD,KACE,kBAAC,GAAD,MACA,kBAAC,IAAD,KACE,kBAAC,GAAD,CAAgBC,KAAK,UAAUrsB,UAAWN,IAC1C,kBAAC,GAAD,CAAgB2sB,KAAK,SAASrsB,UAAW8C,IACzC,kBAAC,GAAD,CACEupB,KAAK,gCACLrsB,UAAWipB,KAEb,kBAAC,GAAD,CAAgBoD,KAAK,kBAAkBrsB,UAAWspB,KAClD,kBAAC,GAAD,CACE+C,KAAK,oCACLrsB,UAAWmpB,KAEb,kBAAC,GAAD,CAAakD,KAAK,UAAUrsB,UAAWwiB,KACvC,kBAAC,GAAD,CAAa6J,KAAK,eAAersB,UAAWojB,KAC5C,kBAAC,GAAD,CAAaiJ,KAAK,qBAAqBrsB,UAAW+c,KAClD,kBAAC,GAAD,CAAasP,KAAK,WAAWrsB,UAAWma,KACxC,kBAAC,GAAD,CAAakS,KAAK,UAAUrsB,UAAWyjB,KACvC,kBAAC,GAAD,CAAa4I,KAAK,SAASrsB,UAAWgkB,KACtC,kBAAC,GAAD,CAAaqI,KAAK,QAAQrsB,UAAW+pB,KACrC,kBAAC,GAAD,CAAasC,KAAK,qBAAqBrsB,UAAW4rB,KAClD,kBAAC,IAAD,CAAOS,KAAK,IAAIrsB,UAAW4lB,OAG/B,kBAAC,GAAD,MACA,kBAAC,IAAD,QCvCc9W,QACW,cAA7BlP,OAAOC,SAASysB,UAEe,UAA7B1sB,OAAOC,SAASysB,UAEhB1sB,OAAOC,SAASysB,SAASlf,MACvB,2DCdNmf,IAAShG,OAAO,kBAAC,GAAD,MAASrR,SAAS6W,eAAe,SDkI3C,kBAAmB/pB,WACrBA,UAAUwqB,cAAcC,MAAMhvB,MAAK,SAAAivB,GACjCA,EAAaC,kB","file":"static/js/main.b8fa4d41.chunk.js","sourcesContent":["module.exports = \"data:image/jpeg;base64,aHR0cHM6Ly9yYXdjZG4uZ2l0aGFjay5jb20vU2Vnb2xlbmUtQWxxdWllci9EYXRpbmctYXBwX05vZGUtUmVhY3QvZGY1NWU5MGQzN2Q4OTU0ZjFlMzhlMDQyYTgwNTY1NzFiNzgxYWI3Zi9zcmMvYXNzZXRzL2ltYWdlcy9ob21lLWJnLTEuanBn\"","import axios from 'axios';\nimport { useState } from 'react';\nimport _ from 'lodash';\nimport { toast } from 'react-toastify';\n// import ModalCrop from './components/modal';\n\nlet newInput;\nlet newChangedFields;\n\nconst UseProfileForm = (userData, token) => {\n  const [profile, setProfile] = useState({});\n  const [loaded, setLoaded] = useState(false);\n  const [changedFields, setChangedFields] = useState({});\n  const [imageToSave, setImageToSave] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [croppedImage, setCroppedImage] = useState(null);\n  const [finalImage, setFinalImage] = useState(null);\n\n  const fetchInterests = () =>\n    axios\n      .get(`${process.env.REACT_APP_PUBLIC_API_URL}/interests`, {\n        headers: {\n          'Content-type': 'application/json; charset=UTF-8',\n          'x-access-token': token,\n        },\n      })\n      .then(response => {\n        return response.data;\n      })\n      .catch(error => {\n        if (process.env.REACT_APP_VERBOSE === 'true') console.log(error);\n      });\n\n  if (_.isEmpty(profile)) {\n    Promise.all([userData, fetchInterests()]).then(values => {\n      const tempUserData = values[0].data;\n      tempUserData.birthDate = new Date(tempUserData.birthDate)\n        .toISOString()\n        .split('T')[0];\n      tempUserData.interestNames = values[1];\n      setProfile(tempUserData);\n      setLoaded(true);\n    });\n  }\n\n  const handleTextParametersChange = event => {\n    newInput = {\n      ...profile,\n      [event.target.name]: event.target.value,\n    };\n    newChangedFields = {\n      ...changedFields,\n      [event.target.name]: event.target.value,\n    };\n  };\n\n  const isChecked = (fieldId, type) => {\n    if (type === 'gender' && profile.gender) {\n      const isCkecked = ('includes', profile.gender.includes(fieldId));\n      return isCkecked;\n    }\n    if (type === 'sexualOrientation' && profile.sexualOrientation) {\n      const isCkecked =\n        ('includes', profile.sexualOrientation.includes(fieldId));\n      return isCkecked;\n    }\n    return false;\n  };\n\n  const getAge = dateString => {\n    const today = new Date();\n    const birthDate = new Date(dateString);\n    let age = today.getFullYear() - birthDate.getFullYear();\n    const m = today.getMonth() - birthDate.getMonth();\n    if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {\n      age--;\n    }\n    return `${age} ans `;\n  };\n\n  const handleNotifChange = event => {\n    newInput = {\n      ...profile,\n      [event.target.name]: event.target.checked,\n    };\n    newChangedFields = {\n      ...changedFields,\n      [event.target.name]: event.target.checked,\n    };\n  };\n\n  const handleChangeCity = cityToChange => {\n    newInput = {\n      ...profile,\n      city: cityToChange,\n    };\n    setProfile(newInput);\n  };\n\n  const handleSexualOrientationChange = event => {\n    const checkboxValue = parseInt(event.target.value, 10);\n    if (event.target.checked === true) {\n      profile.sexualOrientation.push(checkboxValue);\n      profile.sexualOrientation.sort();\n    } else {\n      const index = profile.sexualOrientation.indexOf(checkboxValue);\n      if (index > -1) {\n        profile.sexualOrientation.splice(index, 1);\n      }\n    }\n    newInput = {\n      ...profile,\n      [event.target.name]: profile.sexualOrientation,\n    };\n    newChangedFields = {\n      ...changedFields,\n      [event.target.name]: profile.sexualOrientation,\n    };\n  };\n\n  const handleSummaryChange = event => {\n    newInput = {\n      ...profile,\n      [event.target.name]: event.target.value,\n    };\n    newChangedFields = {\n      ...changedFields,\n      [event.target.name]: event.target.value,\n    };\n  };\n\n  const handleInterestChange = event => {\n    if (event.target.textContent === '') {\n      const interestToDelete = event.currentTarget.closest('div').textContent;\n      const newInterests = profile.interests;\n      newInterests.splice(profile.interests.indexOf(interestToDelete), 1);\n      newInput = {\n        ...profile,\n        interests: newInterests,\n      };\n      newChangedFields = {\n        ...changedFields,\n        interests: newInterests,\n      };\n    } else {\n      newInput = {\n        ...profile,\n        interests: [...profile.interests, event.target.textContent],\n      };\n      newChangedFields = {\n        ...changedFields,\n        interests: [...profile.interests, event.target.textContent],\n      };\n    }\n  };\n\n  const handleGenderChange = event => {\n    const checkboxValue = parseInt(event.target.value, 10);\n    if (event.target.checked === true) {\n      profile.gender.push(checkboxValue);\n      profile.gender.sort();\n    } else {\n      const index = profile.gender.indexOf(checkboxValue);\n      if (index > -1) {\n        profile.gender.splice(index, 1);\n      }\n    }\n    newInput = {\n      ...profile,\n      [event.target.name]: profile.gender,\n    };\n    newChangedFields = {\n      ...changedFields,\n      [event.target.name]: profile.gender,\n    };\n  };\n\n  const handleProfileChange = event => {\n    event.persist();\n\n    if (event.target.type !== 'checkbox') {\n      if (event.target.name === 'description') {\n        handleSummaryChange(event);\n      }\n      if (event.type === 'click') {\n        handleInterestChange(event);\n      } else {\n        handleTextParametersChange(event);\n      }\n    } else {\n      if (event.target.name === 'gender') {\n        handleGenderChange(event);\n      }\n      if (\n        event.target.name === 'notificationMail' ||\n        event.target.name === 'notificationPush'\n      ) {\n        handleNotifChange(event);\n      }\n      if (event.target.name === 'sexualOrientation') {\n        handleSexualOrientationChange(event);\n      }\n    }\n\n    setProfile(newInput);\n    setChangedFields(newChangedFields);\n  };\n\n  const handleSubmitParameters = event => {\n    event.persist();\n    if (_.isEmpty(changedFields)) {\n      toast.error(\"You didn't make any changes!\");\n    } else if (event) {\n      event.preventDefault();\n      axios\n        .put(\n          `${process.env.REACT_APP_PUBLIC_API_URL}/users`,\n          changedFields,\n          {\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'x-access-token': token,\n            },\n          },\n        )\n        .then(response => {\n          if (response.data.success === true) {\n            toast.success(response.data.message);\n            setChangedFields({});\n          } else {\n            response.data.errors.forEach(error => {\n              toast.error(error);\n            });\n          }\n        });\n    }\n  };\n\n  const readFile = file => {\n    return new Promise(resolve => {\n      const reader = new FileReader();\n      reader.addEventListener('load', () => resolve(reader.result), false);\n      reader.readAsDataURL(file);\n    });\n  };\n\n  const blobToFile = (theBlob, fileName) => {\n    theBlob.lastModifiedDate = new Date();\n    theBlob.name = fileName;\n    return theBlob;\n  };\n\n  const sendCroppedImageServer = formData => {\n    axios\n      .post(\n        `${process.env.REACT_APP_PUBLIC_API_URL}/images/upload`,\n        formData,\n        {\n          headers: {\n            'Content-Type': 'multipart/form-data',\n            'x-access-token': token,\n          },\n        },\n      )\n      .then(response => {\n        if (profile.profilePicture === null) {\n          const newInput = {\n            ...profile,\n            images: [...profile.images, response.data.Location],\n            profilePicture: response.data.Location,\n          };\n          setProfile(newInput);\n        } else {\n          const newInput = {\n            ...profile,\n            images: [...profile.images, response.data.Location],\n          };\n          setProfile(newInput);\n        }\n      })\n      .catch(error => {\n        if (process.env.REACT_APP_VERBOSE === 'true') console.log(error);\n      });\n    setShowModal(false);\n  };\n\n  const upload = imageBlob => {\n    const image = blobToFile(imageBlob, 'coucou.png');\n    const formData = new FormData();\n    formData.append('file', image);\n    setFinalImage(formData);\n  };\n\n  const handleFileUpload = async event => {\n    if (event.target.files[0]) {\n      const imageDataUrl = await readFile(event.target.files[0]);\n      setShowModal(true);\n      setImageToSave(imageDataUrl);\n    }\n  };\n\n  const handleDeleteImage = url => {\n    axios\n      .post(\n        `${process.env.REACT_APP_PUBLIC_API_URL}/images/delete`,\n        { url },\n        {\n          headers: {\n            'Content-Type': 'application/json; charset=UTF-8',\n            'x-access-token': token,\n          },\n        },\n      )\n      .then(response => {\n        if (response.data.success === true) {\n          if (url === profile.profilePicture) {\n            const newInput = {\n              ...profile,\n              images: _.without(profile.images, url),\n              profilePicture:\n                _.without(profile.images, url)[0] ||\n                'https://abs.twimg.com/sticky/default_profile_images/default_profile_400x400.png',\n            };\n            setProfile(newInput);\n          } else {\n            const newInput = {\n              ...profile,\n              images: _.without(profile.images, url),\n            };\n            setProfile(newInput);\n          }\n        }\n      })\n      .catch(error => {\n        if (process.env.REACT_APP_VERBOSE === 'true') console.log(error);\n      });\n  };\n\n  const handleChangeProfileImage = pictureUrl => {\n    const newInput = {\n      ...profile,\n      profilePicture: pictureUrl,\n    };\n    const newChangedFields = {\n      ...changedFields,\n      profilePicture: pictureUrl,\n    };\n    setProfile(newInput);\n    setChangedFields(newChangedFields);\n  };\n\n  const handleChangeLocation = newLocation => {\n    const newInput = {\n      ...profile,\n      location: newLocation,\n    };\n    const newChangedFields = {\n      ...changedFields,\n      location: newLocation,\n    };\n    setProfile(newInput);\n    setChangedFields(newChangedFields);\n  };\n\n  const deleteUser = () => {\n    const confirmation = window.confirm(\n      'Are you sure you want to delete your account ?',\n    );\n    if (confirmation) {\n      axios\n        .delete(`${process.env.REACT_APP_PUBLIC_API_URL}/users/`, {\n          headers: {\n            'Content-Type': 'application/json; charset=UTF-8',\n            'x-access-token': token,\n          },\n        })\n        .then(response => {\n          if (response.data.deleted === true) {\n            localStorage.removeItem('token');\n            window.location = '/?message=delete_success';\n          } else {\n            if (process.env.REACT_APP_VERBOSE === 'true')\n              console.log(response.data);\n          }\n        });\n    }\n  };\n\n  return {\n    handleFileUpload,\n    handleDeleteImage,\n    handleProfileChange,\n    handleChangeCity,\n    handleSexualOrientationChange,\n    handleSummaryChange,\n    profile,\n    loaded,\n    handleChangeProfileImage,\n    handleInterestChange,\n    handleChangeLocation,\n    handleSubmitParameters,\n    isChecked,\n    getAge,\n    fetchInterests,\n    deleteUser,\n    showModal,\n    setShowModal,\n    imageToSave,\n    setImageToSave,\n    croppedImage,\n    setCroppedImage,\n    upload,\n    finalImage,\n    sendCroppedImageServer,\n  };\n};\n\nexport default UseProfileForm;\n","import { useState } from 'react';\nimport { toast } from 'react-toastify';\nimport axios from 'axios';\n\nconst useSignUpForm = callback => {\n  const [inputs, setInputs] = useState({\n    firstname: '',\n    surname: '',\n    username: '',\n    email: '',\n    password1: '',\n    password2: '',\n  });\n  const { firstname, surname, username, email, password1 } = inputs;\n  const handleSubmit = event => {\n    if (event) {\n      event.preventDefault();\n      axios\n        .post(\n          `${process.env.REACT_APP_PUBLIC_API_URL}/users`,\n          {\n            firstname,\n            surname,\n            username,\n            email,\n            password: password1,\n          },\n          {\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n            },\n          },\n        )\n        .then(({ data }) => {\n          if (data.created === true) {\n            callback(true);\n          } else {\n            data.errors.forEach(error => {\n              toast.error(error);\n            });\n          }\n        });\n    }\n  };\n  const handleInputChange = event => {\n    event.persist();\n    const newInput = {\n      ...inputs,\n      [event.target.name]: event.target.value,\n    };\n    setInputs(newInput);\n  };\n  return {\n    handleSubmit,\n    handleInputChange,\n    inputs,\n  };\n};\n\nexport default useSignUpForm;\n","import React from 'react';\nimport Container from '@material-ui/core/Container';\nimport Avatar from '@material-ui/core/Avatar';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport Link from '@material-ui/core/Link';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport useSignUpForm from './signup-container';\n\nconst useStyles = makeStyles(theme => ({\n  '@global': {\n    body: {\n      backgroundColor: theme.palette.common.white,\n    },\n  },\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nconst Signup = () => {\n  const signup = success => {\n    if (success) {\n      window.location = '/?message=signup_success';\n    }\n  };\n  const { inputs, handleInputChange, handleSubmit } = useSignUpForm(signup);\n  const classes = useStyles();\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign up\n        </Typography>\n        <form className={classes.form} onSubmit={handleSubmit}>\n          <Grid container spacing={2}>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                fullWidth\n                margin=\"normal\"\n                htmlFor=\"firstname\"\n                type=\"text\"\n                name=\"firstname\"\n                onChange={handleInputChange}\n                value={inputs.firstname}\n                id=\"firstname\"\n                variant=\"outlined\"\n                label=\"First Name\"\n                required\n              />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                fullWidth\n                margin=\"normal\"\n                htmlFor=\"surname\"\n                type=\"text\"\n                name=\"surname\"\n                onChange={handleInputChange}\n                value={inputs.surname}\n                id=\"surname\"\n                label=\"Last Name\"\n                variant=\"outlined\"\n                required\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                fullWidth\n                margin=\"normal\"\n                htmlFor=\"username\"\n                type=\"text\"\n                name=\"username\"\n                onChange={handleInputChange}\n                value={inputs.username}\n                id=\"username\"\n                variant=\"outlined\"\n                required\n                label=\"Username\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                fullWidth\n                margin=\"normal\"\n                htmlFor=\"email\"\n                type=\"email\"\n                name=\"email\"\n                onChange={handleInputChange}\n                value={inputs.email}\n                id=\"email\"\n                variant=\"outlined\"\n                label=\"Email Address\"\n                required\n              />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                fullWidth\n                margin=\"normal\"\n                htmlFor=\"password1\"\n                type=\"password\"\n                name=\"password1\"\n                label=\"Password\"\n                onChange={handleInputChange}\n                value={inputs.password1}\n                id=\"password1\"\n                variant=\"outlined\"\n                required\n              />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                fullWidth\n                margin=\"normal\"\n                htmlFor=\"password2\"\n                type=\"password\"\n                name=\"password2\"\n                onChange={handleInputChange}\n                value={inputs.password2}\n                id=\"password2\"\n                variant=\"outlined\"\n                label=\"Re-enter password\"\n                required\n              />\n            </Grid>\n          </Grid>\n          <Button\n            type=\"submit\"\n            variant=\"contained\"\n            color=\"primary\"\n            fullWidth\n            className={classes.submit}\n          >\n            Sign Up\n          </Button>\n          <Grid container justify=\"flex-end\">\n            <Grid item>\n              <Link href=\"/login\" variant=\"body2\">\n                Already have an account? Sign in\n              </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n    </Container>\n  );\n};\n\nexport default Signup;\n","import Signup from './signup-view';\n\nexport default Signup;\n","import { useState } from 'react';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\n\nconst useLoginForm = callback => {\n  const [inputs, setInputs] = useState({\n    username: '',\n    password: '',\n  });\n  const { username, password } = inputs;\n\n  const ipLocation = () => {\n    return new Promise(resolve => {\n      const locationApi = axios.get('https://ipapi.co/json').then(response => {\n        return [response.data.latitude, response.data.longitude];\n      });\n      resolve(locationApi);\n    });\n  };\n  const geoLocation = () => {\n    return new Promise(resolve => {\n      navigator.geolocation.getCurrentPosition(position => {\n        const currentLocation = [0.0, 0.0];\n        currentLocation[0] = position.coords.latitude;\n        currentLocation[1] = position.coords.longitude;\n        resolve(currentLocation);\n      });\n      setTimeout(resolve, 2000);\n    });\n  };\n\n  const userLocation = async () => {\n    const ip = ipLocation();\n    const geo = await geoLocation();\n    return geo || ip;\n  };\n\n  const handleSubmit = async event => {\n    if (event) {\n      event.preventDefault();\n      const location = await userLocation();\n      axios\n        .post(\n          `${process.env.REACT_APP_PUBLIC_API_URL}/auth/login`,\n          {\n            username,\n            password,\n            lat: location[1],\n            lon: location[0],\n          },\n          {\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n            },\n          },\n        )\n        .then(({ data }) => {\n          if (data.success === true) {\n            localStorage.setItem('token', data.token);\n            callback(true);\n          } else {\n            toast.error(data.err);\n          }\n        });\n    }\n  };\n\n  const handleInputChange = event => {\n    event.persist();\n    const newInput = {\n      ...inputs,\n      [event.target.name]: event.target.value,\n    };\n    setInputs(newInput);\n  };\n  return {\n    handleSubmit,\n    handleInputChange,\n    inputs,\n  };\n};\n\nexport default useLoginForm;\n","import React from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Container from '@material-ui/core/Container';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Link from '@material-ui/core/Link';\nimport { makeStyles } from '@material-ui/core/styles';\nimport useLoginForm from './login-container';\n\nconst useStyles = makeStyles(theme => ({\n  '@global': {\n    body: {\n      backgroundColor: theme.palette.common.white,\n    },\n  },\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%',\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nconst Login = () => {\n  const login = success => {\n    if (success) {\n      window.location = '/?message=login_success';\n    }\n  };\n  const { inputs, handleInputChange, handleSubmit } = useLoginForm(login);\n  const classes = useStyles();\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign in\n        </Typography>\n        <form className={classes.form} onSubmit={handleSubmit}>\n          <TextField\n            fullWidth\n            margin=\"normal\"\n            htmlFor=\"username\"\n            type=\"text\"\n            name=\"username\"\n            onChange={handleInputChange}\n            value={inputs.username}\n            id=\"username\"\n            variant=\"outlined\"\n            required\n            autoFocus\n            label=\"Username\"\n          />\n\n          <TextField\n            fullWidth\n            margin=\"normal\"\n            htmlFor=\"password\"\n            type=\"password\"\n            name=\"password\"\n            onChange={handleInputChange}\n            value={inputs.password}\n            variant=\"outlined\"\n            id=\"password\"\n            required\n            label=\"Password\"\n          />\n          <Button\n            type=\"submit\"\n            variant=\"contained\"\n            color=\"primary\"\n            fullWidth\n            className={classes.submit}\n          >\n            Log In\n          </Button>\n          <Grid container>\n            <Grid item xs>\n              <Link href=\"/forgotpassword\" variant=\"body2\">\n                Forgot password?\n              </Link>\n            </Grid>\n            <Grid item>\n              <Link href=\"/signup\" variant=\"body2\">\n                Don't have an account? Sign Up\n              </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n    </Container>\n  );\n};\n\nexport default Login;\n","import Login from './login-view'\n\nexport default Login","/* eslint-disable no-console */\nimport decode from 'jwt-decode';\nimport axios from 'axios';\n\nexport const getToken = () => {\n  return localStorage.getItem('token');\n};\n\nexport const isTokenExpired = token => {\n  const currentTime = Date.now() / 1000;\n  try {\n    const decoded = decode(token);\n    if (decoded.exp < currentTime) {\n      if (process.env.REACT_APP_VERBOSE === 'true')\n        console.log('Your token is expired');\n      return true;\n    }\n    return false;\n  } catch (err) {\n    if (process.env.REACT_APP_VERBOSE === 'true') console.log(err);\n    return true;\n  }\n};\n\nexport const getUserData = async token => {\n  if (!token || isTokenExpired(token)) {\n    return null;\n  }\n  const userData = await axios.get(\n    `${process.env.REACT_APP_PUBLIC_API_URL}/auth/checkToken`,\n    {\n      headers: {\n        'Content-type': 'application/json; charset=UTF-8',\n        'x-access-token': token,\n      },\n    },\n  );\n  return userData.data;\n};\n\nexport const logout = (e, setIsLoggedIn) => {\n  e.preventDefault();\n  localStorage.removeItem('token');\n  setIsLoggedIn(false);\n  window.location = '/?message=logout_success';\n};\n","import React, { createContext, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport io from 'socket.io-client';\nimport { getToken, getUserData } from '../auth/AuthContainer';\n\nexport const AuthContext = createContext();\n\nexport const AuthProvider = ({ children }) => {\n  const currentToken = getToken();\n  const [token] = useState(currentToken);\n  const [userData] = useState(getUserData(currentToken));\n\n  const authContext = {\n    token,\n    userData,\n  };\n\n  const socket = io(`${process.env.REACT_APP_PUBLIC_API_URL}`, {\n    query: { token },\n  });\n  const socketContext = { socket };\n\n  return (\n    <AuthContext.Provider\n      value={{\n        authContext,\n        socketContext,\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n};\nAuthProvider.propTypes = {\n  // eslint-disable-next-line react/forbid-prop-types\n  children: PropTypes.array.isRequired,\n};\n","import axios from 'axios';\n\nconst CityGuess = ({ lat, lon, profile, handleChangeCity }) => {\n  if (!profile.city)\n    axios\n      .get(\n        `https://eu1.locationiq.com/v1/reverse.php?key=9ade280ec73aeb&lat=${lat}&lon=${lon}&format=json`,\n      )\n      .then(data => {\n        handleChangeCity(data.data.address.city);\n      });\n  return ` | ${profile.city}` || 'Location undefined';\n};\n\nexport default CityGuess;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport moment from 'moment';\n\nconst useStyles = makeStyles(theme => ({\n  loggedDot: {\n    marginTop: '10px',\n    marginBottom: '3px',\n    width: '10px',\n    height: '10px',\n    borderRadius: '50%',\n    backgroundColor: '#64dd17',\n  },\n  notLoggedDot: {\n    marginTop: '10px',\n    marginBottom: '3px',\n    width: '10px',\n    height: '10px',\n    borderRadius: '50%',\n    backgroundColor: '#b0bec5',\n  },\n  dotDateWrapper: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'flex-end',\n  },\n  lastConnectionDate: {\n    marginLeft: theme.spacing(1),\n    fontSize: '0.7em',\n  },\n}));\n\nconst LoggedDot = ({ loggedState, lastConnection, displayLast }) => {\n  const classes = useStyles();\n  if (loggedState === true) {\n    return (\n      <span>\n        <div className={classes.loggedDot} />\n      </span>\n    );\n  }\n  return (\n    <span className={classes.dotDateWrapper}>\n      <div className={classes.notLoggedDot} />\n      {displayLast ? (\n        <div className={classes.lastConnectionDate}>\n          Disconnected {moment(lastConnection).fromNow()}\n        </div>\n      ) : null}\n    </span>\n  );\n};\n\nexport default LoggedDot;\n","import React, { useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Box from '@material-ui/core/Box';\nimport Grid from '@material-ui/core/Grid';\nimport FavoriteBorderIcon from '@material-ui/icons/FavoriteBorder';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport MailOutlineIcon from '@material-ui/icons/MailOutline';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Fab from '@material-ui/core/Fab';\nimport ReportProblemIcon from '@material-ui/icons/ReportProblem';\nimport BlockIcon from '@material-ui/icons/Block';\nimport { getDistance } from 'geolib';\nimport CityGuess from './location/cityGuess';\nimport LoggedDot from '../../profileshow/components/loggedDot';\n\nconst useStyles = makeStyles(theme => ({\n  fabUpBox: {\n    margin: '0px 5px',\n  },\n  profileImg: {\n    position: 'relative',\n  },\n  blockedIcon: {\n    position: 'absolute',\n  },\n}));\n\nconst UpperBoxProfile = ({\n  classes,\n  profile,\n  getAge,\n  handleBlock,\n  handleReport,\n  handleChangeCity,\n  handleLike,\n  type,\n}) => {\n  const upBoxClasses = useStyles();\n  const [blocked, setBlocked] = useState(profile.alreadyBlocked);\n  const [reported, setReported] = useState(profile.alreadyReported);\n  const [liked, setLiked] = useState(profile.visitorlikevisited);\n  const [anchorEl, setAnchorEl] = React.useState(null);\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget);\n  };\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const distance = () => {\n    const { location: visitorLocation } = profile;\n    let dist = getDistance(\n      { latitude: profile.location[0], longitude: profile.location[1] },\n      { latitude: visitorLocation[0], longitude: visitorLocation[1] },\n    );\n    dist = Math.round(dist / 1000);\n    return ` | ${dist} km`;\n  };\n\n  const chatroomLink = `/chatroom/${profile.matchId}`;\n\n  return (\n    <Box\n      className={\n        profile.match === true\n          ? classes.boxUpProfileMatch\n          : classes.boxUpProfile\n      }\n    >\n      <Grid container className={classes.containerUpProfile} direction=\"row\">\n        <Grid item xs={12} sm={6} className={classes.containerUpProfileLeft}>\n          <Grid item xs={6} sm={5}>\n            <img\n              className={upBoxClasses.profileImg}\n              src={\n                profile.profilePicture ||\n                'https://abs.twimg.com/sticky/default_profile_images/default_profile_400x400.png'\n              }\n              alt=\"My profile\"\n              width=\"90%\"\n            />\n            {blocked ? (\n              <BlockIcon\n                className={upBoxClasses.blockedIcon}\n                color=\"secondary\"\n                fontSize=\"large\"\n              />\n            ) : null}\n          </Grid>\n          <Grid\n            item\n            xs={6}\n            sm={7}\n            className={classes.containerUpProfileLeftInfo}\n          >\n            <div>\n              <span>{profile.firstname}</span>\n            </div>\n            <div>\n              <span>\n                {profile.birthDate &&\n                profile.birthDate !== '1970-01-01' &&\n                profile.birthDate !== '1970-01-01T00:00:00.000Z'\n                  ? getAge(\n                      new Date(profile.birthDate).toISOString().split('T')[0],\n                    )\n                  : 'Age undefined '}\n              </span>\n              <span>\n                {profile.location ? (\n                  type === 'public' ? (\n                    distance()\n                  ) : (\n                    <CityGuess\n                      handleChangeCity={handleChangeCity}\n                      lat={profile.location[0]}\n                      lon={profile.location[1]}\n                      profile={profile}\n                    />\n                  )\n                ) : null}\n              </span>\n              {type === 'public' ? (\n                <LoggedDot\n                  loggedState={profile.connected}\n                  lastConnection={profile.lastConnection}\n                  displayLast\n                />\n              ) : null}\n            </div>\n          </Grid>\n        </Grid>\n        <Grid item sm={6} xs={12} className={classes.containerUpProfileRight}>\n          <Grid\n            item\n            bgcolor=\"secondary.main\"\n            xs={12}\n            sm={4}\n            className={classes.containerUpProfileRightFabs}\n          >\n            <Fab\n              color=\"secondary\"\n              size=\"small\"\n              className={upBoxClasses.fabUpBox}\n            >\n              {profile.popularityRate}%\n            </Fab>\n          </Grid>\n          {type === 'public' ? (\n            <Grid\n              item\n              xs={12}\n              sm={8}\n              className={classes.containerUpProfileRightFabs}\n            >\n              {profile.match ? (\n                <Fab\n                  color=\"primary\"\n                  size=\"small\"\n                  className={upBoxClasses.fabUpBox}\n                  href={chatroomLink}\n                >\n                  <MailOutlineIcon />\n                </Fab>\n              ) : null}\n              {liked ? (\n                <Fab\n                  onClick={() => handleLike(profile.id, setLiked)}\n                  color=\"primary\"\n                  size=\"small\"\n                  className={upBoxClasses.fabUpBox}\n                >\n                  <FavoriteIcon />\n                </Fab>\n              ) : (\n                <Fab\n                  onClick={() => handleLike(profile.id, setLiked)}\n                  color=\"primary\"\n                  size=\"small\"\n                  className={upBoxClasses.fabUpBox}\n                >\n                  <FavoriteBorderIcon />\n                </Fab>\n              )}\n              <div>\n                <Fab\n                  onClick={handleClick}\n                  color=\"secondary\"\n                  size=\"small\"\n                  className={upBoxClasses.fabUpBox}\n                >\n                  <ReportProblemIcon />\n                </Fab>\n                <Menu\n                  id=\"simple-menu\"\n                  anchorEl={anchorEl}\n                  keepMounted\n                  open={Boolean(anchorEl)}\n                  onClose={handleClose}\n                >\n                  <MenuItem\n                    onClick={() => handleBlock(profile.id, blocked, setBlocked)}\n                  >\n                    {blocked ? 'Unblock' : 'Block'}\n                  </MenuItem>\n                  {reported ? (\n                    <MenuItem disabled onClick={handleClose}>\n                      You reported this user\n                    </MenuItem>\n                  ) : (\n                    <MenuItem\n                      onClick={() =>\n                        handleReport(profile.id, reported, setReported)\n                      }\n                    >\n                      Report\n                    </MenuItem>\n                  )}\n                </Menu>\n              </div>\n            </Grid>\n          ) : null}\n        </Grid>\n      </Grid>\n    </Box>\n  );\n};\n\nexport default UpperBoxProfile;\n","import React from 'react';\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\nimport Fab from '@material-ui/core/Fab';\n\nconst CurrentPictures = ({\n  pictures,\n  classes,\n  Grid,\n  Box,\n  handleDeleteImage,\n  handleChangeProfileImage,\n  profilePicture,\n}) => {\n  if (pictures) {\n    return pictures.map(pictureUrl => (\n      <Grid\n        key={pictureUrl}\n        item\n        xs={6}\n        sm={4}\n        xl={4}\n        className={classes.pictureContainer}\n      >\n        <img\n          src={pictureUrl}\n          alt=\"My profile\"\n          width=\"100%\"\n          className={\n            profilePicture === pictureUrl\n              ? classes.profilePicture\n              : classes.picture\n          }\n          onClick={() => handleChangeProfileImage(pictureUrl)}\n        />\n        <Fab\n          color=\"secondary\"\n          size=\"small\"\n          className={classes.deleteButtonPicture}\n          onClick={() => handleDeleteImage(pictureUrl)}\n        >\n          <HighlightOffIcon name={pictureUrl} value={pictureUrl} />\n        </Fab>\n      </Grid>\n    ));\n  }\n  return (\n    <Grid container xs={6} sm={6} className={classes.pictureContainer}>\n      <Box\n        bgcolor=\"secondary.main\"\n        width=\"100%\"\n        className={classes.modifyPictureButton}\n      >\n        <p>Aucune photo</p>\n      </Box>\n    </Grid>\n  );\n};\nexport default CurrentPictures;\n","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport Checkbox from '@material-ui/core/Checkbox';\n\nconst formCheckBox = ({\n  title,\n  classes,\n  isChecked,\n  handleProfileChange,\n  name,\n  label,\n}) => {\n  if (label) {\n    return (\n      <>\n        <Typography variant=\"subtitle1\">\n          <Box fontWeight=\"fontWeightBold\">{title}</Box>\n        </Typography>\n        <FormControl component=\"fieldset\" className={classes.formControl}>\n          <FormGroup row>\n            {label.map((checkbox, index) => (\n              <FormControlLabel\n                key={index}\n                control={\n                  <Checkbox\n                    checked={isChecked(index + 1, name)}\n                    onChange={handleProfileChange}\n                    name={name}\n                    value={(index + 1).toString(10)}\n                  />\n                }\n                label={label[index]}\n              />\n            ))}\n          </FormGroup>\n        </FormControl>\n      </>\n    );\n  }\n};\n\nexport default formCheckBox;\n","import React from 'react';\nimport moment from 'moment';\n\nconst InputTextShort = ({\n  classes,\n  Typography,\n  Box,\n  TextField,\n  profile,\n  handleProfileChange,\n  name,\n  value,\n  title,\n  type,\n}) => {\n  if (type === 'date') {\n    return (\n      <div className={classes.formControl}>\n        <Typography variant=\"subtitle1\">\n          <Box fontWeight=\"fontWeightBold\">{title}</Box>\n        </Typography>\n        <TextField\n          className={classes.textField}\n          margin=\"normal\"\n          variant=\"outlined\"\n          name={name}\n          value={value}\n          onChange={handleProfileChange}\n          type={type}\n          InputProps={{\n            inputProps: {\n              min: moment()\n                .subtract(150, 'years')\n                .toISOString()\n                .split('T')[0],\n              max: moment()\n                .subtract(18, 'years')\n                .toISOString()\n                .split('T')[0],\n            },\n          }}\n        />\n      </div>\n    );\n  }\n  if (name === 'description') {\n    return (\n      <div className={classes.formControl}>\n        <Typography variant=\"subtitle1\">\n          <Box fontWeight=\"fontWeightBold\">{title}</Box>\n        </Typography>\n        <TextField\n          className={classes.summaryField}\n          margin=\"normal\"\n          variant=\"outlined\"\n          name={name}\n          value={value}\n          onChange={handleProfileChange}\n          type={type}\n          multiline\n          rows=\"4\"\n        />\n      </div>\n    );\n  }\n  return (\n    <div className={classes.formControl}>\n      <Typography variant=\"subtitle1\">\n        <Box fontWeight=\"fontWeightBold\">{title}</Box>\n      </Typography>\n      <TextField\n        className={classes.textField}\n        margin=\"normal\"\n        variant=\"outlined\"\n        name={name}\n        value={value}\n        onChange={handleProfileChange}\n        type={type}\n      />\n    </div>\n  );\n};\n\nexport default InputTextShort;\n","import React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport AddAPhotoIcon from '@material-ui/icons/AddAPhoto';\nimport CurrentPictures from './current-pictures';\nimport FormCheckBox from './formCheckBox';\nimport InputTextShort from './inputTextShort';\n\nfunction TabPanel(props) {\n  const { children, value, index } = props;\n\n  return (\n    <Typography\n      component=\"div\"\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n    >\n      <Box p={3}>{children}</Box>\n    </Typography>\n  );\n}\n\nconst TabPanelProfileAbout = ({\n  value,\n  index,\n  classes,\n  profile,\n  isChecked,\n  handleProfileChange,\n  handleSubmitParameters,\n  handleFileUpload,\n  handleChangeProfileImage,\n  handleDeleteImage,\n}) => {\n  return (\n    <TabPanel value={value} index={index}>\n      <Grid container>\n        <Grid item sm={8} className={classes.gridColumnProfile}>\n          <FormCheckBox\n            title=\"Gender\"\n            classes={classes}\n            isChecked={isChecked}\n            handleProfileChange={handleProfileChange}\n            name=\"gender\"\n            label={[\n              'Woman',\n              'Man',\n              'Cis Woman',\n              'Cis Man',\n              'Trans Woman',\n              'Trans Man',\n              'Non-binary',\n            ]}\n          />\n          <FormCheckBox\n            title=\"I am looking for\"\n            classes={classes}\n            isChecked={isChecked}\n            handleProfileChange={handleProfileChange}\n            name=\"sexualOrientation\"\n            label={[\n              'Woman',\n              'Man',\n              'Cis Woman',\n              'Cis Man',\n              'Trans Woman',\n              'Trans Man',\n              'Non-binary',\n            ]}\n          />\n          <InputTextShort\n            classes={classes}\n            Typography={Typography}\n            Box={Box}\n            TextField={TextField}\n            profile={profile}\n            handleProfileChange={handleProfileChange}\n            name=\"description\"\n            value={profile.description}\n            title=\"My self-summary\"\n            type=\"text\"\n          />\n          <Box>\n            <Button\n              variant=\"contained\"\n              color=\"secondary\"\n              size=\"medium\"\n              onClick={handleSubmitParameters}\n            >\n              Save changes\n            </Button>\n          </Box>\n        </Grid>\n        <Grid item sm={4} className={classes.gridColumnProfile}>\n          <Typography variant=\"subtitle1\">\n            <Box fontWeight=\"fontWeightBold\">My pictures</Box>\n          </Typography>\n          <Grid container>\n            <Grid item xsm={12} className={classes.gridPicturesWrapper}>\n              <CurrentPictures\n                classes={classes}\n                Grid={Grid}\n                pictures={profile.images}\n                profilePicture={profile.profilePicture}\n                Box={Box}\n                Button={Button}\n                handleDeleteImage={handleDeleteImage}\n                handleChangeProfileImage={handleChangeProfileImage}\n              />\n              {profile.images && profile.images.length < 5 ? (\n                <Box className={classes.modifyPictureButton}>\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={classes.button}\n                    size=\"large\"\n                    startIcon={<AddAPhotoIcon />}\n                  >\n                    Upload a picture\n                  </Button>\n                  <input\n                    label=\"upload file\"\n                    type=\"file\"\n                    accept=\"image/png, image/jpeg\"\n                    onChange={handleFileUpload}\n                    className={classes.uploadInput}\n                  />\n                </Box>\n              ) : null}\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n    </TabPanel>\n  );\n};\n\nexport default TabPanelProfileAbout;\n","import React from 'react';\nimport GooglePlacesAutocomplete, {\n  getLatLng,\n  geocodeByAddress,\n} from 'react-google-places-autocomplete';\nimport 'react-google-places-autocomplete/dist/assets/index.css';\n\nconst AddressAutocomplete = ({ handleChangeLocation, classes }) => {\n  const changeLocation = address => {\n    geocodeByAddress(address)\n      .then(results => getLatLng(results[0]))\n      .then(({ lat, lng }) => {\n        const newLocation = [lat, lng];\n        handleChangeLocation(newLocation);\n      });\n  };\n  return (\n    <>\n      <GooglePlacesAutocomplete\n        inputClassName={classes.textField}\n        onSelect={result => {\n          changeLocation(result.description);\n        }}\n      />\n    </>\n  );\n};\n\nexport default AddressAutocomplete;\n","import React, { useState } from 'react';\nimport GoogleMapReact from 'google-map-react';\n\nconst Marker = () => (\n  <img\n    src=\"https://cdn0.iconfinder.com/data/icons/small-n-flat/24/678111-map-marker-512.png\"\n    height=\"30px\"\n    width=\"30px\"\n    alt=\"My current location\"\n  />\n);\n\nconst Map = ({ lat, lon }) => {\n  const [center] = useState({ lat, lng: lon });\n  const [zoom] = useState(11);\n  return (\n    <div style={{ height: '40vh', width: '100%' }}>\n      <GoogleMapReact\n        bootstrapURLKeys={{ key: 'AIzaSyDHIKeUdcN25O94GvkSr4ZbzB6kWdo31Ys' }}\n        defaultCenter={center}\n        defaultZoom={zoom}\n      >\n        <Marker lat={lat} lng={lon} />\n      </GoogleMapReact>\n    </div>\n  );\n};\n\nexport default Map;\n","import { useState } from 'react';\nimport { toast } from 'react-toastify';\nimport axios from 'axios';\n\nconst useForgotPasswordForm = callback => {\n  const [inputs, setInputs] = useState({\n    email: '',\n  });\n  const { email } = inputs;\n\n  const sendForgotPassword = email => {\n    axios\n      .post(\n        `${process.env.REACT_APP_PUBLIC_API_URL}/validation/forgotpasswordcreate`,\n        {\n          email,\n        },\n        {\n          headers: {\n            'Content-type': 'application/json; charset=UTF-8',\n          },\n        },\n      )\n      .then(({ data }) => {\n        if (data.success === true) {\n          callback(true);\n        } else {\n          toast.error(data.err);\n        }\n      });\n  };\n\n  const handleSubmit = async event => {\n    if (event) {\n      event.preventDefault();\n      await sendForgotPassword(email);\n    }\n  };\n  const handleInputChange = event => {\n    event.persist();\n    const newInput = {\n      ...inputs,\n      [event.target.name]: event.target.value,\n    };\n    setInputs(newInput);\n  };\n  return {\n    handleSubmit,\n    handleInputChange,\n    inputs,\n    sendForgotPassword,\n  };\n};\n\nexport default useForgotPasswordForm;\n","import React from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Paper from '@material-ui/core/Paper';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormGroup from '@material-ui/core/FormGroup';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { toast } from 'react-toastify';\nimport InputTextShort from './inputTextShort';\nimport AddressAutocomplete from './location/address-autocomplete';\nimport Map from './location/map';\nimport useForgotPasswordForm from '../../forgotpassword/forgotpassword-container';\n\nfunction TabPanel(props) {\n  const { children, value, index } = props;\n\n  return (\n    <Typography\n      component=\"div\"\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n    >\n      <Box p={3}>{children}</Box>\n    </Typography>\n  );\n}\n\nconst TabPanelProfileParameters = ({\n  value,\n  index,\n  classes,\n  profile,\n  isChecked,\n  handleProfileChange,\n  handleSubmitParameters,\n  interests,\n  interestNames,\n  handleChangeLocation,\n  notificationMail,\n  notificationPush,\n  deleteUser,\n}) => {\n  const { sendForgotPassword } = useForgotPasswordForm(() =>\n    toast.success('You received a reset password link by Email'),\n  );\n\n  return (\n    <TabPanel value={value} index={index}>\n      <Box noValidate autoComplete=\"off\">\n        <Grid container>\n          <Grid item sm={6} className={classes.gridColumnProfile}>\n            <InputTextShort\n              classes={classes}\n              Typography={Typography}\n              Box={Box}\n              TextField={TextField}\n              profile={profile}\n              handleProfileChange={handleProfileChange}\n              name=\"firstname\"\n              value={profile.firstname}\n              title=\"Firstname\"\n              type=\"text\"\n            />\n            <InputTextShort\n              classes={classes}\n              Typography={Typography}\n              Box={Box}\n              TextField={TextField}\n              profile={profile}\n              handleProfileChange={handleProfileChange}\n              name=\"surname\"\n              value={profile.surname}\n              title=\"Surname\"\n              type=\"text\"\n            />\n            <InputTextShort\n              classes={classes}\n              Typography={Typography}\n              Box={Box}\n              TextField={TextField}\n              profile={profile}\n              handleProfileChange={handleProfileChange}\n              name=\"username\"\n              value={profile.username}\n              title=\"Username\"\n              type=\"text\"\n            />\n            <InputTextShort\n              classes={classes}\n              Typography={Typography}\n              Box={Box}\n              TextField={TextField}\n              profile={profile}\n              handleProfileChange={handleProfileChange}\n              name=\"email\"\n              value={profile.email}\n              title=\"Email\"\n              type=\"email\"\n            />\n            <Typography variant=\"subtitle1\">\n              <Box fontWeight=\"fontWeightBold\">Location</Box>\n            </Typography>\n            <div className={classes.formControl}>\n              {profile.location ? (\n                <>\n                  <AddressAutocomplete\n                    classes={classes}\n                    // className={classes.textField}\n                    handleChangeLocation={handleChangeLocation}\n                  />\n                  <Map lat={profile.location[0]} lon={profile.location[1]} />\n                </>\n              ) : null}\n            </div>\n            <InputTextShort\n              classes={classes}\n              Typography={Typography}\n              Box={Box}\n              TextField={TextField}\n              profile={profile}\n              handleProfileChange={handleProfileChange}\n              name=\"birthDate\"\n              value={profile.birthDate}\n              // value={new Date(profile.birthDate).toISOString().split('T')[0]}\n              title=\"Birthdate\"\n              type=\"date\"\n            />\n          </Grid>\n          <Grid item sm={6} className={classes.gridColumnProfile}>\n            <div className={classes.formControl}>\n              <Typography variant=\"subtitle1\">\n                <Box fontWeight=\"fontWeightBold\">Interests</Box>\n              </Typography>\n              <div className={classes.interestChips}>\n                <div>\n                  <Autocomplete\n                    multiple\n                    options={interestNames}\n                    getOptionLabel={option => option.name}\n                    defaultValue={interests.map(interest => {\n                      return { name: interest };\n                    })}\n                    style={{ width: 300 }}\n                    onChange={handleProfileChange}\n                    name=\"interest\"\n                    renderInput={params => (\n                      <TextField\n                        {...params}\n                        variant=\"outlined\"\n                        placeholder=\"Add interest\"\n                        fullWidth\n                      />\n                    )}\n                  />\n                </div>\n              </div>\n            </div>\n            <Typography variant=\"subtitle1\">\n              <Box fontWeight=\"fontWeightBold\">Notifications</Box>\n            </Typography>\n            <FormControl component=\"fieldset\" className={classes.formControl}>\n              <FormGroup row>\n                <FormControlLabel\n                  control={\n                    <Checkbox\n                      checked={notificationMail === true}\n                      onChange={handleProfileChange}\n                      name=\"notificationMail\"\n                      value=\"notificationMail\"\n                    />\n                  }\n                  label=\"Mail\"\n                />\n                <FormControlLabel\n                  control={\n                    <Checkbox\n                      checked={notificationPush === true}\n                      onChange={handleProfileChange}\n                      name=\"notificationPush\"\n                      value=\"notificationPush\"\n                    />\n                  }\n                  label=\"Push\"\n                />\n              </FormGroup>\n            </FormControl>\n            <Box>\n              <Button\n                variant=\"contained\"\n                color=\"secondary\"\n                size=\"large\"\n                onClick={handleSubmitParameters}\n              >\n                Save changes\n              </Button>\n            </Box>\n            <Paper className={classes.paperAccount}>\n              <Typography variant=\"h5\" component=\"h5\">\n                <Box fontWeight=\"fontWeightBold\">Account security</Box>\n              </Typography>\n              <div>\n                <Box className={classes.divAccount}>\n                  <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={classes.buttonAccount}\n                    size=\"large\"\n                    onClick={() => sendForgotPassword(profile.email)}\n                  >\n                    Change password\n                  </Button>\n                </Box>\n                <Box className={classes.divAccount}>\n                  <Button\n                    className={classes.buttonAccount}\n                    variant=\"outlined\"\n                    color=\"secondary\"\n                    size=\"large\"\n                    onClick={() => deleteUser()}\n                  >\n                    Delete my account\n                  </Button>\n                </Box>\n              </div>\n            </Paper>\n          </Grid>\n        </Grid>\n      </Box>\n    </TabPanel>\n  );\n};\n\nexport default TabPanelProfileParameters;\n","const createImage = url =>\n  new Promise((resolve, reject) => {\n    const image = new Image();\n    image.addEventListener('load', () => resolve(image));\n    image.addEventListener('error', error => reject(error));\n    image.setAttribute('crossOrigin', 'anonymous'); // needed to avoid cross-origin issues on CodeSandbox\n    image.src = url;\n  });\n\n/**\n * This function was adapted from the one in the ReadMe of https://github.com/DominicTobias/react-image-crop\n * @param {File} image - Image File url\n * @param {Object} pixelCrop - pixelCrop Object provided by react-easy-crop\n * @param {number} rotation - optional rotation parameter\n */\nexport default async function getCroppedImg(imageSrc, pixelCrop, upload) {\n  const image = await createImage(imageSrc);\n  const canvas = document.createElement('canvas');\n  const ctx = canvas.getContext('2d');\n\n  const safeArea = Math.max(image.width, image.height);\n\n  // set each dimensions to double largest dimension to allow for a safe area for the\n  // image to rotate in without being clipped by canvas context\n  const ios =\n    !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform);\n  canvas.width = ios ? 4096 : safeArea;\n  canvas.height = ios ? 4096 : safeArea;\n\n  // draw rotated image and store data.\n  ctx.drawImage(image, safeArea - image.width, safeArea - image.height);\n  const data = ctx.getImageData(0, 0, safeArea, safeArea);\n\n  // set canvas width to final desired crop size - this will clear existing context\n  canvas.width = pixelCrop.width;\n  canvas.height = pixelCrop.height;\n\n  // paste generated rotate image with correct offsets for x,y crop values.\n  ctx.putImageData(\n    data,\n    0 - safeArea + image.width - pixelCrop.x,\n    0 - safeArea + image.height - pixelCrop.y,\n  );\n\n  // As Base64 string\n  // return canvas.toDataURL('image/jpeg');\n\n  // As a blob\n  return new Promise(resolve => {\n    canvas.toBlob(file => {\n      upload(file);\n      resolve(URL.createObjectURL(file));\n    }, 'image/jpeg');\n  });\n}\n","import React, { useState, useCallback } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Slider from '@material-ui/core/Slider';\nimport Cropper from 'react-easy-crop';\nimport Button from '@material-ui/core/Button';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport getCroppedImg from './cropImage';\n\nconst useCropperStyles = makeStyles(() => ({\n  cropWrapper: {\n    position: 'relative',\n    height: '60vh',\n  },\n  cropContainer: {\n    position: 'absolute',\n    top: '0',\n    left: '0',\n    right: '0',\n    bottom: '80px',\n    backgroundColor: 'white',\n  },\n  controls: {\n    position: 'absolute',\n    bottom: '0',\n    left: '50%',\n    width: '50%',\n    transform: 'translateX(-50%)',\n    height: '80px',\n    display: 'flex',\n    alignItems: 'center',\n  },\n  slider: {\n    padding: '22px 0px',\n  },\n  cropButton: {\n    flexShrink: '0',\n    marginLeft: '16',\n  },\n}));\n\nconst CropperImg = ({\n  imageToSave,\n  croppedImage,\n  setCroppedImage,\n  upload,\n  finalImage,\n  sendCroppedImageServer,\n}) => {\n  const classes = useCropperStyles();\n  const [crop, setCrop] = useState({ x: 0, y: 0 });\n  const [zoom, setZoom] = useState(1);\n  const [croppedAreaPixels, setCroppedAreaPixels] = useState(null);\n  const onCropComplete = useCallback((croppedArea, croppedAreaPixels) => {\n    setCroppedAreaPixels(croppedAreaPixels);\n  }, []);\n\n  const showCroppedImage = useCallback(async () => {\n    try {\n      getCroppedImg(imageToSave, croppedAreaPixels, upload).then(image =>\n        setCroppedImage(image),\n      );\n    } catch (e) {\n      console.error(e);\n    }\n  }, [setCroppedImage, imageToSave, croppedAreaPixels, upload]);\n\n  const closeCroppedImg = useCallback(() => {\n    setCroppedImage(null);\n  }, [setCroppedImage]);\n\n  if (!croppedImage) {\n    return (\n      <div className={classes.cropWrapper}>\n        <div className={classes.cropContainer}>\n          <Cropper\n            image={imageToSave}\n            crop={crop}\n            zoom={zoom}\n            aspect={1 / 1}\n            onCropChange={setCrop}\n            onCropComplete={onCropComplete}\n            onZoomChange={setZoom}\n          />\n        </div>\n        <div className={classes.controls}>\n          <Slider\n            value={zoom}\n            min={1}\n            max={3}\n            step={0.1}\n            aria-labelledby=\"Zoom\"\n            onChange={(e, zoom) => setZoom(zoom)}\n          />\n        </div>\n        <Button\n          onClick={showCroppedImage}\n          variant=\"contained\"\n          color=\"primary\"\n          classes={{ root: classes.cropButton }}\n        >\n          Show Result\n        </Button>\n      </div>\n    );\n  }\n  return (\n    <div className={classes.cropWrapper}>\n      <div className={classes.cropContainer}>\n        <img src={croppedImage} width=\"100%\" alt=\"croppedImg\"></img>\n      </div>\n      <Button\n        onClick={closeCroppedImg}\n        variant=\"contained\"\n        color=\"primary\"\n        classes={{ root: classes.cropButton }}\n      >\n        <ArrowBackIcon />\n      </Button>\n      <Button\n        onClick={() => {\n          closeCroppedImg();\n          sendCroppedImageServer(finalImage);\n        }}\n        variant=\"contained\"\n        color=\"secondary\"\n        classes={{ root: classes.cropButton }}\n      >\n        Save image\n      </Button>\n    </div>\n  );\n};\n\nexport default CropperImg;\n","import React from 'react';\nimport Modal from 'react-bootstrap/Modal';\nimport CropperImg from './cropper/cropper';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nconst ModalCrop = ({\n  showModal,\n  setShowModal,\n  imageToSave,\n  croppedImage,\n  setCroppedImage,\n  upload,\n  finalImage,\n  sendCroppedImageServer,\n}) => {\n  return (\n    <>\n      <Modal\n        show={showModal}\n        onHide={() => {\n          setShowModal(false);\n          setCroppedImage(null);\n        }}\n        dialogClassName=\"modal-90w\"\n        aria-labelledby=\"example-custom-modal-styling-title\"\n      >\n        <Modal.Header closeButton>\n          <Modal.Title id=\"example-custom-modal-styling-title\">\n            Crop your image\n          </Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <CropperImg\n            imageToSave={imageToSave}\n            croppedImage={croppedImage}\n            setCroppedImage={setCroppedImage}\n            upload={upload}\n            finalImage={finalImage}\n            sendCroppedImageServer={sendCroppedImageServer}\n          />\n        </Modal.Body>\n      </Modal>\n    </>\n  );\n};\n\nexport default ModalCrop;\n","import React, { useContext, useEffect } from 'react';\nimport Divider from '@material-ui/core/Divider';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Tabs, Tab } from '@material-ui/core';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport InfoIcon from '@material-ui/icons/Info';\nimport queryString from 'query-string';\nimport { toast } from 'react-toastify';\nimport useDebouncedCallback from 'use-debounce/lib/useDebouncedCallback';\nimport { AuthContext } from '../app/AuthContext';\nimport UseProfileForm from './profile-container';\nimport UpperBoxProfile from './components/upperBoxProfile';\nimport TabPanelProfileAbout from './components/tabPanelProfileAbout';\nimport TabPanelProfileParameters from './components/tabPanelProfileParameters';\nimport ModalCrop from './components/modal';\n\nconst useStyles = makeStyles(theme => ({\n  '@global': {\n    body: {\n      backgroundColor: theme.palette.common.white,\n    },\n  },\n  progress: {\n    height: '100vh',\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  wrapperProfile: {\n    display: 'flex',\n    flexDirection: 'column',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    maxWidth: '1500px',\n  },\n  paper: {\n    position: 'absolute',\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n    fontSize: '1em',\n    padding: theme.spacing(1),\n  },\n  boxUpProfile: {\n    margin: theme.spacing(1),\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n  },\n  containerUpProfile: {\n    maxWidth: '1500px',\n  },\n  containerUpProfileLeft: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'flex-start',\n  },\n  containerUpProfileLeftInfo: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'flex-end',\n  },\n  containerUpProfileRight: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n  },\n  containerUpProfileRightFabs: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    alignItems: 'flex-end',\n  },\n  gridColumnProfile: {\n    padding: theme.spacing(1),\n  },\n  gridPicturesWrapper: {\n    display: 'flex',\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n  },\n  pictureContainer: {\n    padding: theme.spacing(1),\n    position: 'relative',\n    width: '100%',\n    height: 'fit-content',\n  },\n  pictureButtonContainer: {\n    overflow: 'hidden',\n    position: 'relative',\n    height: 'fit-content',\n    width: '100%',\n  },\n  picture: {\n    objectFit: 'cover',\n  },\n  deleteButtonPicture: {\n    position: 'absolute',\n    top: '10px',\n    right: '10px',\n    padding: '0px',\n  },\n  profilePicture: {\n    border: '3px solid',\n    borderColor: theme.palette.secondary.main,\n    boxSizing: 'border-box',\n    objectFit: 'cover',\n  },\n  tabs: {\n    margin: theme.spacing(1),\n  },\n  tab: {\n    opacity: '1',\n    '&:focus': {\n      outline: 'none',\n    },\n  },\n  activeTab: {\n    opacity: '1',\n    borderBottom: '3px solid',\n    borderBottomColor: theme.palette.secondary.main,\n    '&:focus': {\n      outline: 'none',\n    },\n  },\n  divider: {\n    margin: theme.spacing(1),\n  },\n  modifyPictureButton: {\n    display: 'flex',\n    overflow: 'hidden',\n    position: 'relative',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    // color: 'white',\n    padding: theme.spacing(1),\n    textAlign: 'center',\n    // fontSize: '1em',\n  },\n  uploadInput: {\n    fontSize: '100px',\n    position: 'absolute',\n    left: '0',\n    top: '0',\n    opacity: '0',\n  },\n  summaryField: {\n    width: '90%',\n  },\n  formControl: {\n    marginBottom: theme.spacing(3),\n  },\n  textField: {\n    maxWidth: '400px',\n    width: '100%',\n  },\n  interestChips: {\n    display: 'flex',\n    justifyContent: 'flex-start',\n    flexWrap: 'wrap',\n    '& > *': {\n      margin: theme.spacing(0.5),\n    },\n  },\n  paperAccount: {\n    marginTop: theme.spacing(3),\n    padding: theme.spacing(5, 2),\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-around',\n    alignItems: 'center',\n    backgroundColor: theme.palette.secondary.A300,\n  },\n  divAccount: {\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    marginBottom: theme.spacing(2),\n  },\n  buttonAccount: {\n    width: '100%',\n  },\n}));\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`,\n  };\n}\n\nconst Profile = params => {\n  const classes = useStyles();\n  const { authContext } = useContext(AuthContext);\n  const locationParams = params.location;\n  const getParams = queryString.parse(locationParams.search);\n\n  const {\n    handleProfileChange,\n    handleDeleteImage,\n    profile,\n    loaded,\n    handleFileUpload,\n    handleChangeProfileImage,\n    handleChangeLocation,\n    handleChangeCity,\n    handleSubmitParameters,\n    isChecked,\n    getAge,\n    deleteUser,\n    showModal,\n    setShowModal,\n    imageToSave,\n    croppedImage,\n    setCroppedImage,\n    upload,\n    finalImage,\n    sendCroppedImageServer,\n  } = UseProfileForm(authContext.userData, authContext.token);\n  const {\n    interests,\n    notificationMail,\n    notificationPush,\n    interestNames,\n  } = profile;\n\n  // change tabs\n  const [valueTab, setValueTab] = React.useState(0);\n  const handleChange = (event, newValueTab) => {\n    setValueTab(newValueTab);\n  };\n\n  const [toastDebounced] = useDebouncedCallback(() => {\n    if (getParams.message === 'profile_not_completed') {\n      const toasterType = 'warning';\n      const toasterMessage =\n        'You need to complete your profile in order to access to other profiles';\n      toast(toasterMessage, { type: toasterType });\n    }\n  });\n  useEffect(() => {\n    toastDebounced();\n  }, [toastDebounced]);\n\n  if (loaded === false) {\n    return (\n      <div className={classes.progress}>\n        <CircularProgress color=\"secondary\" />\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <UpperBoxProfile\n        classes={classes}\n        profile={profile}\n        getAge={getAge}\n        handleChangeCity={handleChangeCity}\n        type=\"private\"\n      />\n      <Divider className={classes.divider} />\n      <div className={classes.wrapperProfile}>\n        <form>\n          <Tabs\n            width=\"100%\"\n            value={valueTab}\n            onChange={handleChange}\n            aria-label=\"simple tabs example\"\n            className={classes.tabs}\n          >\n            <Tab\n              icon={\n                valueTab === 0 ? (\n                  <InfoIcon color=\"secondary\" />\n                ) : (\n                  <InfoIcon color=\"primary\" />\n                )\n              }\n              className={valueTab === 0 ? classes.activeTab : classes.tab}\n              label=\"About me\"\n              {...a11yProps(0)}\n            />\n            <Tab\n              icon={\n                valueTab === 1 ? (\n                  <SettingsIcon color=\"secondary\" />\n                ) : (\n                  <SettingsIcon color=\"primary\" />\n                )\n              }\n              className={valueTab === 1 ? classes.activeTab : classes.tab}\n              label=\"Parameters\"\n              {...a11yProps(1)}\n            />\n          </Tabs>\n          <TabPanelProfileAbout\n            value={valueTab}\n            index={0}\n            classes={classes}\n            profile={profile}\n            isChecked={isChecked}\n            handleProfileChange={handleProfileChange}\n            handleSubmitParameters={handleSubmitParameters}\n            handleFileUpload={handleFileUpload}\n            handleChangeProfileImage={handleChangeProfileImage}\n            handleDeleteImage={handleDeleteImage}\n          />\n          <TabPanelProfileParameters\n            value={valueTab}\n            index={1}\n            classes={classes}\n            profile={profile}\n            isChecked={isChecked}\n            handleProfileChange={handleProfileChange}\n            handleSubmitParameters={handleSubmitParameters}\n            interests={interests}\n            interestNames={interestNames}\n            handleChangeLocation={handleChangeLocation}\n            notificationMail={notificationMail}\n            notificationPush={notificationPush}\n            deleteUser={deleteUser}\n          />\n        </form>\n      </div>\n      <ModalCrop\n        showModal={showModal}\n        setShowModal={setShowModal}\n        imageToSave={imageToSave}\n        croppedImage={croppedImage}\n        setCroppedImage={setCroppedImage}\n        upload={upload}\n        finalImage={finalImage}\n        sendCroppedImageServer={sendCroppedImageServer}\n      />\n    </>\n  );\n};\n\nexport default Profile;\n","import Profile from './profile-view';\n\nexport default Profile;\n","import axios from 'axios';\nimport { useState, useContext } from 'react';\nimport _ from 'lodash';\nimport { toast } from 'react-toastify';\nimport { AuthContext } from '../app/AuthContext';\n\nconst ProfileShowContainer = visitedUsername => {\n  const [visitedProfile, setVisitedProfile] = useState({});\n  const [loaded, setLoaded] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const { authContext } = useContext(AuthContext);\n  const { token } = authContext;\n\n  const handleBlock = (blockedId, blocked, setBlocked) => {\n    axios\n      .post(\n        `${process.env.REACT_APP_PUBLIC_API_URL}/block/block-unblock/${blockedId}`,\n        {},\n        {\n          headers: {\n            'Content-type': 'application/json; charset=UTF-8',\n            'x-access-token': token,\n          },\n        },\n      )\n      .then(result => {\n        if (result.data.deleted === true) {\n          setBlocked(false);\n          toast.success('You just unblocked this user');\n        }\n        if (result.data.created === true) {\n          setBlocked(true);\n          toast.success('You just blocked this user');\n        }\n      })\n      .catch(error => {\n        if (process.env.REACT_APP_VERBOSE === 'true') console.log(error);\n      });\n  };\n\n  const handleReport = (reportedId, reported, setReported) => {\n    axios\n      .post(\n        `${process.env.REACT_APP_PUBLIC_API_URL}/report/${reportedId}`,\n        {},\n        {\n          headers: {\n            'Content-type': 'application/json; charset=UTF-8',\n            'x-access-token': token,\n          },\n        },\n      )\n      .then(result => {\n        if (result.data.success) {\n          setReported(true);\n        }\n      })\n      .catch(error => {\n        if (process.env.REACT_APP_VERBOSE === 'true') console.log(error);\n      });\n  };\n\n  const handleLike = (likedId, setLiked) => {\n    axios\n      .get(\n        `${process.env.REACT_APP_PUBLIC_API_URL}/likes/like-unlike/${likedId}`,\n        {\n          headers: {\n            'Content-type': 'application/json; charset=UTF-8',\n            'x-access-token': token,\n          },\n        },\n      )\n      .then(result => {\n        if (result.data.deleted === true) {\n          setLiked(false);\n          toast.success('You just unliked this user');\n          if (visitedProfile.match === true) {\n            setVisitedProfile({ ...visitedProfile, match: false });\n          }\n        }\n        if (result.data.created === true) {\n          setLiked(true);\n          toast.success('You just liked this user');\n          if (\n            visitedProfile.match === false &&\n            visitedProfile.visitedlikevisitor === true\n          ) {\n            toast.info(\"It's a match!\");\n            setVisitedProfile({ ...visitedProfile, match: true });\n          }\n        }\n      })\n      .catch(error => {\n        if (process.env.REACT_APP_VERBOSE === 'true') console.log(error);\n      });\n  };\n\n  const fetchVisitedProfile = () =>\n    axios\n      .get(\n        `${process.env.REACT_APP_PUBLIC_API_URL}/users/profile/${visitedUsername}`,\n        {\n          headers: {\n            'Content-type': 'application/json; charset=UTF-8',\n            'x-access-token': token,\n          },\n        },\n      )\n      .then(response => {\n        return response.data;\n      })\n      .catch(error => {\n        if (process.env.REACT_APP_VERBOSE === 'true') console.log(error);\n      });\n\n  if (_.isEmpty(visitedProfile) && loading === false) {\n    setLoading(true);\n    fetchVisitedProfile().then(data => {\n      if (data.founded === true) {\n        setVisitedProfile(data);\n        setLoaded(true);\n        setLoading(false);\n      } else if (data.success === false) {\n        window.location = '/?message=user_not_found';\n      } else if (data.authorized === false) {\n        window.location = '/profile?message=profile_not_completed';\n      } else if (data.blocked === true) {\n        window.location = '/?message=user_blocked_you';\n      }\n    });\n  }\n\n  return { visitedProfile, loaded, handleBlock, handleReport, handleLike };\n};\n\nexport default ProfileShowContainer;\n","import React from 'react';\nimport Chip from '@material-ui/core/Chip';\nimport Box from '@material-ui/core/Box';\n\nconst findEquivalence = number => {\n  let label;\n\n  switch (number) {\n    case 1:\n      label = 'Woman';\n      break;\n    case 2:\n      label = 'Man';\n      break;\n    case 3:\n      label = 'Cis Woman';\n      break;\n    case 4:\n      label = 'Cis Man';\n      break;\n    case 5:\n      label = 'Trans Woman';\n      break;\n    case 6:\n      label = 'Trans Man';\n      break;\n    case 7:\n      label = 'Non-binary';\n      break;\n    default:\n  }\n  return label;\n};\n\nconst ChipsList = ({ classes, list, type }) => {\n  if (list) {\n    if (type === 'gender' || type === 'preference') {\n      return (\n        <Box className={classes.genderChips}>\n          {list.map(item => (\n            <Chip key={item} label={findEquivalence(item)} />\n          ))}\n        </Box>\n      );\n    }\n    return (\n      <Box className={classes.genderChips}>\n        {list.map(item => (\n          <Chip key={item} label={item} />\n        ))}\n      </Box>\n    );\n  }\n};\n\nexport default ChipsList;\n","import React, { useContext } from 'react';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Divider from '@material-ui/core/Divider';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport Paper from '@material-ui/core/Paper';\nimport SwipeableViews from 'react-swipeable-views';\nimport { makeStyles } from '@material-ui/core/styles';\nimport _ from 'lodash';\nimport ProfileShowContainer from './profileshow-container';\nimport UpperBoxProfile from '../profile/components/upperBoxProfile';\nimport { AuthContext } from '../app/AuthContext';\nimport UseProfileForm from '../profile/profile-container';\nimport ChipsList from './components/chipsList';\n\nconst useStyles = makeStyles(theme => ({\n  '@global': {\n    body: {\n      backgroundColor: theme.palette.common.white,\n    },\n  },\n  progress: {\n    height: '100vh',\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  wrapperProfile: {\n    display: 'flex',\n    flexDirection: 'column',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    maxWidth: '1500px',\n  },\n  // paper: {\n  //   marginTop: theme.spacing(8),\n  //   display: 'flex',\n  //   flexDirection: 'column',\n  //   alignItems: 'center',\n  // },\n  paper: {\n    position: 'absolute',\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: '2px solid #000',\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n    fontSize: '1em',\n    padding: theme.spacing(1),\n  },\n  boxUpProfile: {\n    padding: theme.spacing(1),\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n  },\n\n  boxUpProfileMatch: {\n    padding: theme.spacing(1),\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    backgroundImage: `url(\"https://media.giphy.com/media/26ufcYAkp8e66vanu/giphy.gif\")`,\n  },\n  containerUpProfile: {\n    maxWidth: '1500px',\n  },\n  containerUpProfileLeft: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'flex-start',\n  },\n  containerUpProfileLeftInfo: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'flex-end',\n  },\n  containerUpProfileRight: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n  },\n  containerUpProfileRightFabs: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    alignItems: 'flex-end',\n  },\n  columnPublicProfile: {\n    padding: theme.spacing(0, 2),\n  },\n  pictureContainer: {\n    padding: theme.spacing(1),\n    position: 'relative',\n    width: '100%',\n    height: 'fit-content',\n  },\n  picture: {\n    objectFit: 'cover',\n  },\n  tabs: {\n    margin: theme.spacing(1),\n  },\n  item: {\n    marginTop: theme.spacing(4),\n    marginBottom: theme.spacing(1),\n  },\n  summary: {\n    padding: theme.spacing(3),\n  },\n  genderChips: {\n    display: 'flex',\n    justifyContent: 'flex-start',\n    flexWrap: 'wrap',\n    '& > *': {\n      margin: theme.spacing(0.5),\n    },\n  },\n  carousel: {\n    width: '100%',\n    maxWidth: '450px',\n  },\n  slide: {\n    width: '100%',\n    maxWidth: '450px',\n    objectFit: 'contain',\n  },\n  imageSlider: {\n    width: '100%',\n  },\n  loggedDot: {\n    width: '10px',\n    height: '10px',\n    borderRadius: '50%',\n    backgroundColor: '#64dd17',\n  },\n  notLoggedDot: {\n    width: '10px',\n    height: '10px',\n    borderRadius: '50%',\n    backgroundColor: '#b0bec5',\n  },\n}));\n\nconst ProfileShow = ({ computedMatch }) => {\n  const classes = useStyles();\n  const { authContext } = useContext(AuthContext);\n  const visitedUsername = computedMatch.params.username;\n  const { handleChangeCity, getAge } = UseProfileForm(\n    authContext.userData,\n    authContext.token,\n  );\n  const {\n    visitedProfile,\n    loaded,\n    handleBlock,\n    handleReport,\n    handleLike,\n  } = ProfileShowContainer(visitedUsername);\n\n  if (loaded === false) {\n    return (\n      <div className={classes.progress}>\n        <CircularProgress color=\"secondary\" />\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <UpperBoxProfile\n        classes={classes}\n        profile={visitedProfile}\n        getAge={getAge}\n        handleBlock={handleBlock}\n        handleReport={handleReport}\n        handleChangeCity={handleChangeCity}\n        handleLike={handleLike}\n        type=\"public\"\n      />\n      <Divider className={classes.divider} />\n      <div className={classes.wrapperProfile}>\n        <Grid container>\n          <Grid item sm={6} className={classes.columnPublicProfile}>\n            <Typography variant=\"subtitle1\" className={classes.item}>\n              <Box fontWeight=\"fontWeightBold\">\n                {visitedProfile.firstname} identifies as\n              </Box>\n            </Typography>\n            {_.isEmpty(visitedProfile.gender) ? (\n              <p>No gender defined so far</p>\n            ) : (\n              <ChipsList\n                classes={classes}\n                list={visitedProfile.gender}\n                type=\"gender\"\n              />\n            )}\n            <Typography variant=\"subtitle1\" className={classes.item}>\n              <Box fontWeight=\"fontWeightBold\">\n                {visitedProfile.firstname} is looking for\n              </Box>\n            </Typography>\n            {_.isEmpty(visitedProfile.sexualOrientation) ? (\n              <p>No preference defined so far</p>\n            ) : (\n              <ChipsList\n                classes={classes}\n                list={visitedProfile.sexualOrientation}\n                type=\"preference\"\n              />\n            )}\n            <Typography variant=\"subtitle1\" className={classes.item}>\n              <Box fontWeight=\"fontWeightBold\">\n                {visitedProfile.firstname} in a few words\n              </Box>\n            </Typography>\n            <Paper elevation={3} className={classes.summary}>\n              {_.isEmpty(visitedProfile.description) ? (\n                <p>No description defined so far</p>\n              ) : (\n                <p>{visitedProfile.description}</p>\n              )}\n            </Paper>\n          </Grid>\n          <Grid item sm={6} className={classes.columnPublicProfile}>\n            <Typography variant=\"subtitle1\" className={classes.item}>\n              <Box fontWeight=\"fontWeightBold\">\n                {visitedProfile.firstname}'s interests\n              </Box>\n            </Typography>\n            {_.isEmpty(visitedProfile.interests) ? (\n              <p>No interests defined so far</p>\n            ) : (\n              <ChipsList\n                classes={classes}\n                list={visitedProfile.interests}\n                type=\"interests\"\n              />\n            )}\n            <Typography variant=\"subtitle1\" className={classes.item}>\n              <Box fontWeight=\"fontWeightBold\">\n                {visitedProfile.firstname}'s pictures\n              </Box>\n            </Typography>\n            <SwipeableViews className={classes.carousel} enableMouseEvents>\n              {_.isEmpty(visitedProfile.images) ? (\n                <p>No pictures uploaded so far</p>\n              ) : (\n                visitedProfile.images.map((image, index) => (\n                  <div key={index} className={classes.slide}>\n                    <img\n                      className={classes.imageSlider}\n                      src={visitedProfile.images[index]}\n                      alt=\"profile\"\n                    />\n                  </div>\n                ))\n              )}\n            </SwipeableViews>\n          </Grid>\n        </Grid>\n      </div>\n    </>\n  );\n};\n\nexport default ProfileShow;\n","import ProfileShow from './profileshow-view';\n\nexport default ProfileShow;\n","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport TextField from '@material-ui/core/TextField';\nimport Slider from '@material-ui/core/Slider';\nimport Grid from '@material-ui/core/Grid';\n\nconst sortOptions = [\n  {\n    value: '',\n    label: '',\n  },\n  {\n    value: 'distance',\n    label: 'Distance',\n  },\n  {\n    value: 'ageAsc',\n    label: 'Age: Low to high',\n  },\n  {\n    value: 'ageDesc',\n    label: 'Age: High to low',\n  },\n  {\n    value: 'popularity',\n    label: 'Popularity',\n  },\n  {\n    value: 'interests',\n    label: 'Interests',\n  },\n];\n\nconst SearchFilters = ({\n  classes,\n  searchOptions,\n  handleChangeSlider,\n  currentUserProfile,\n  fetchSearch,\n  handleSort,\n}) => {\n  return (\n    <div className={classes.filtersContainer}>\n      <Grid container spacing={5} direction=\"row\" justify=\"center\">\n        <Grid item sm={2} xs={6}>\n          <Typography\n            id=\"discrete-slider\"\n            className={classes.titleGutterbottom}\n            align=\"center\"\n          >\n            Distance\n          </Typography>\n          <Slider\n            defaultValue={100}\n            getAriaValueText={value => `${value} kms`}\n            aria-labelledby=\"discrete-slider\"\n            valueLabelDisplay=\"auto\"\n            onChange={(event, newValue) =>\n              handleChangeSlider('distanceMax', newValue)\n            }\n            onChangeCommitted={() => fetchSearch()}\n            step={10}\n            marks\n            min={0}\n            max={500}\n            className={classes.titleGutterbottom + ' ' + classes.slider}\n          />\n        </Grid>\n        <Grid item sm={2} xs={6}>\n          <Typography\n            id=\"discrete-slider\"\n            className={classes.titleGutterbottom}\n            align=\"center\"\n          >\n            Age\n          </Typography>\n          <Slider\n            className={classes.slider}\n            value={searchOptions.ageRange}\n            onChange={(event, newValue) =>\n              handleChangeSlider('ageRange', newValue)\n            }\n            onChangeCommitted={() => fetchSearch()}\n            valueLabelDisplay=\"auto\"\n            aria-labelledby=\"range-slider\"\n            getAriaValueText={value => `${value} kms`}\n            min={18}\n            max={100}\n          />\n        </Grid>\n        <Grid item sm={2} xs={6}>\n          <Typography\n            id=\"discrete-slider\"\n            className={classes.titleGutterbottom}\n            align=\"center\"\n          >\n            Popularity\n          </Typography>\n          <Slider\n            className={classes.slider}\n            value={searchOptions.popularityRange}\n            onChange={(event, newValue) =>\n              handleChangeSlider('popularityRange', newValue)\n            }\n            onChangeCommitted={() => fetchSearch()}\n            valueLabelDisplay=\"auto\"\n            aria-labelledby=\"range-slider\"\n            getAriaValueText={value => `${value} kms`}\n            min={0}\n            max={100}\n          />\n        </Grid>\n        <Grid item sm={2} xs={6}>\n          <Typography\n            id=\"discrete-slider\"\n            className={classes.titleGutterbottom}\n            align=\"center\"\n          >\n            Interests\n          </Typography>\n          <div className={classes.interestChips}>\n            <div>\n              <Autocomplete\n                className={classes.slider}\n                multiple\n                options={currentUserProfile.interests.map(interest => {\n                  return { name: interest };\n                })}\n                getOptionLabel={option => option.name}\n                onChange={(event, value) => {\n                  handleChangeSlider('interests', value);\n                }}\n                name=\"interest\"\n                renderInput={params => (\n                  <TextField\n                    {...params}\n                    variant=\"outlined\"\n                    placeholder=\"Add interest\"\n                    fullWidth\n                  />\n                )}\n              />\n            </div>\n          </div>\n        </Grid>\n        <Grid item sm={2} xs={6}>\n          <form className={classes.container} noValidate autoComplete=\"off\">\n            <Typography\n              id=\"discrete-slider\"\n              className={classes.titleGutterbottom}\n              align=\"center\"\n            >\n              Sort by\n            </Typography>\n            <TextField\n              id=\"outlined-select-currency-native\"\n              select\n              className={classes.textField}\n              value={searchOptions.sort}\n              onChange={event => handleSort(event)}\n              fullWidth\n              SelectProps={{\n                native: true,\n                MenuProps: {\n                  className: classes.menu,\n                },\n              }}\n              variant=\"outlined\"\n            >\n              {sortOptions.map(option => (\n                <option key={option.value} value={option.value}>\n                  {option.label}\n                </option>\n              ))}\n            </TextField>\n          </form>\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\nexport default SearchFilters;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport IconButton from '@material-ui/core/IconButton';\nimport Avatar from '@material-ui/core/Avatar';\nimport Box from '@material-ui/core/Box';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport moment from 'moment';\nimport { getDistance } from 'geolib';\nimport LoggedDot from '../../profileshow/components/loggedDot';\n\nconst useStyles = makeStyles(theme => ({\n  card: {\n    maxWidth: 345,\n    width: '100%',\n  },\n  media: {\n    height: 345,\n    position: 'relative',\n  },\n  cardContentMatch: {\n    backgroundImage: `url(\"https://media.giphy.com/media/26ufcYAkp8e66vanu/giphy.gif\")`,\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n    fontSize: '0.8em',\n    padding: theme.spacing(1),\n  },\n  matchingRate: {\n    backgroundColor: theme.palette.primary.main,\n    borderRadius: '50px',\n    color: 'white',\n    paddingTop: theme.spacing(1),\n    paddingBottom: theme.spacing(1),\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    position: 'absolute',\n    top: '20px',\n    right: '20px',\n    boxShadow: '2px 2px 6px 0px black',\n  },\n  titleGutterbottom: {\n    marginBottom: theme.spacing(2),\n  },\n}));\n\nexport default function MediaCard({ field, profile, handleLike, type }) {\n  const classes = useStyles();\n\n  const {\n    firstname,\n    username,\n    birthDate,\n    location,\n    popularityRate,\n    profilePicture,\n    date,\n    liking,\n    liked,\n    visitor,\n    lastConnection,\n    connected,\n    match,\n    score,\n  } = field;\n\n  const getAge = dateString => {\n    const today = new Date();\n    const birthDate = new Date(dateString);\n    let age = today.getFullYear() - birthDate.getFullYear();\n    const m = today.getMonth() - birthDate.getMonth();\n    if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {\n      age -= 1;\n    }\n    return `${age} ans `;\n  };\n\n  const distance = () => {\n    const { location: visitorLocation } = profile;\n    let dist = getDistance(\n      { latitude: location[0], longitude: location[1] },\n      { latitude: visitorLocation[0], longitude: visitorLocation[1] },\n    );\n    dist = Math.round(dist / 1000);\n    return ` | ${dist} km`;\n  };\n\n  const lastVisit = moment(date).fromNow();\n\n  return (\n    <Card className={classes.card}>\n      <CardActionArea\n        onClick={() => {\n          window.location = `/profile/${username}`;\n        }}\n      >\n        <CardMedia\n          className={classes.media}\n          image={\n            profilePicture ||\n            'https://abs.twimg.com/sticky/default_profile_images/default_profile_400x400.png'\n          }\n          title={firstname}\n        />\n        {type === 'suggestion' ? (\n          <Box className={classes.matchingRate}>\n            <Typography>Match rate</Typography>\n            <Typography>{Math.round(score * 100) / 100}%</Typography>\n          </Box>\n        ) : null}\n        <CardContent\n          className={match === true ? classes.cardContentMatch : null}\n        >\n          <LoggedDot loggedState={connected} lastConnection={lastConnection} />\n          <Typography\n            variant=\"h5\"\n            component=\"h2\"\n            align=\"center\"\n            className={classes.titleGutterbottom}\n          >\n            {firstname}{' '}\n            {liked ? (\n              <Tooltip\n                title=\"This user likes you\"\n                aria-label=\"This user likes you\"\n              >\n                <span role=\"img\" aria-label=\"heart emoji\">\n                  \n                </span>\n              </Tooltip>\n            ) : null}\n          </Typography>\n          <Typography variant=\"body2\" component=\"h6\" align=\"center\">\n            {birthDate\n              ? getAge(new Date(birthDate).toISOString().split('T')[0])\n              : 'age not defined '}\n            {location ? distance() : ''}\n          </Typography>\n          {type === 'search' ? null : (\n            <Typography variant=\"body2\" component=\"h6\" align=\"center\">\n              {lastVisit}\n            </Typography>\n          )}\n        </CardContent>\n      </CardActionArea>\n      <Box display=\"flex\" flexDirection=\"row\" justifyContent=\"center\">\n        <Avatar className={classes.avatar}>{popularityRate}%</Avatar>\n        <IconButton\n          aria-label=\"Like the profile\"\n          color={liking ? 'secondary' : 'default'}\n          visitor={visitor}\n          onClick={() => handleLike(visitor)}\n        >\n          <FavoriteIcon />\n        </IconButton>\n      </Box>\n    </Card>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport Grid from '@material-ui/core/Grid';\nimport Container from '@material-ui/core/Container';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport _ from 'lodash';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport MediaCard from './components/media-card';\n\nconst ProfilesGrid = ({\n  classes,\n  profiles,\n  currentUserProfile,\n  handleLike,\n  type,\n}) => {\n  const [displayedProfiles, setDisplayedProfiles] = useState([]);\n  const displayMoreProfiles = () => {\n    setDisplayedProfiles(profiles.slice(0, displayedProfiles.length + 20));\n  };\n  useEffect(() => {\n    displayMoreProfiles();\n    // eslint-disable-next-line\n  }, [profiles]);\n  if (_.isEmpty(profiles) && (type === \"like\" || type === \"visit\")) {\n    return (\n      <Box className={classes.emptyPageWrapper}>\n        <Typography className={classes.emptyPageText} variant=\"h3\">Sorry, there is nothing to display yet <span role=\"img\" aria-label=\"sad emoji\"></span>. But don't worry, it's coming !</Typography>\n      </Box>\n      )\n  }\n  return (\n    <div className={classes.wrapper}>\n      <Container>\n        <InfiniteScroll\n          dataLength={displayedProfiles.length}\n          next={displayMoreProfiles}\n          hasMore\n          loader={\n            <div className={classes.progress}>\n              <CircularProgress color=\"secondary\" />\n            </div>\n          }\n        >\n          <Grid container spacing={3}>\n            {_.map(displayedProfiles, profile => (\n              <Grid\n                item\n                xs={12}\n                sm={6}\n                md={3}\n                lg={3}\n                className={classes.center}\n                key={profile.username}\n              >\n                <MediaCard\n                  field={profile}\n                  profile={currentUserProfile}\n                  handleLike={handleLike}\n                  type={type}\n                />\n              </Grid>\n            ))}\n          </Grid>\n        </InfiniteScroll>\n      </Container>\n    </div>\n  );\n};\n\nexport default ProfilesGrid;\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(theme => ({\n  hero: {\n    backgroundColor: '#f4f4f4',\n    width: '100%',\n    color: 'white',\n    display: 'flex',\n    justifyContent: 'center',\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2),\n    marginBottom: theme.spacing(4),\n  },\n}));\n\nconst Title = ({ textTitle }) => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.hero}>\n      <Typography variant=\"h4\" color=\"primary\">\n        {textTitle}\n      </Typography>\n    </div>\n  );\n};\n\nexport default Title;\n","import axios from 'axios';\nimport { useState, useContext } from 'react';\nimport { toast } from 'react-toastify';\nimport _ from 'lodash';\nimport { AuthContext } from '../app/AuthContext';\n\nconst SearchContainer = () => {\n  const [loaded, setLoaded] = useState(false);\n  const [currentUserProfile, setCurrentUserProfile] = useState({});\n  const [searchResult, setSearchResult] = useState([]);\n  const [searchOptions, setSearchOptions] = useState({\n    ageRange: [18, 85],\n    popularityRange: [0, 100],\n    interests: [],\n    distanceMax: 100,\n    sort: '',\n  });\n  const { authContext } = useContext(AuthContext);\n  const { userData, token } = authContext;\n\n  const handleLike = likedId => {\n    axios\n      .get(\n        `${process.env.REACT_APP_PUBLIC_API_URL}/likes/like-unlike/${likedId}`,\n        {\n          headers: {\n            'Content-type': 'application/json; charset=UTF-8',\n            'x-access-token': token,\n          },\n        },\n      )\n      .then(result => {\n        if (result.data.blocked) {\n          toast.error(result.data.message);\n        } else {\n          const indexToModify = _.keys(\n            _.pickBy(searchResult, { visitor: likedId }),\n          );\n\n          const newSearchResult = searchResult;\n          indexToModify.forEach(index => {\n            newSearchResult[parseInt(index, 10)] = {\n              ...newSearchResult[parseInt(index, 10)],\n              liking: !searchResult[parseInt(index, 10)].liking,\n            };\n          });\n          document\n            .querySelectorAll(`[visitor*=\"${likedId}\"]`)\n            .forEach(element => {\n              if (element.classList.contains('MuiIconButton-colorSecondary'))\n                element.classList.remove('MuiIconButton-colorSecondary');\n              else element.className += ' MuiIconButton-colorSecondary';\n            });\n          setSearchResult(newSearchResult);\n        }\n      });\n  };\n\n  const handleSort = (event, profiles = searchResult) => {\n    let sortChoice = '';\n    if (event) {\n      sortChoice = event.target.value;\n    } else {\n      sortChoice = searchOptions.sort;\n    }\n    let order = '';\n    switch (sortChoice) {\n      case 'distance':\n        order = 'asc';\n        break;\n      case 'ageAsc':\n        order = 'asc';\n        break;\n      case 'ageDesc':\n        order = 'desc';\n        break;\n      case 'popularity':\n        order = 'desc';\n        break;\n      case 'interests':\n        order = 'asc';\n        break;\n      default:\n    }\n    const newSearchOptions = { ...searchOptions, sort: sortChoice };\n    setSearchOptions(newSearchOptions);\n    setSearchResult(\n      _.orderBy(\n        profiles,\n        [\n          profile => {\n            switch (sortChoice) {\n              case 'distance':\n                return profile.distance;\n              case 'ageAsc':\n                return profile.age;\n              case 'ageDesc':\n                return profile.age;\n              case 'popularity':\n                return profile.popularityRate;\n              case 'interests':\n                return profile.interests[0] ? profile.interests[0] : 'ZZZZ';\n              default:\n            }\n          },\n        ],\n        [order],\n      ),\n    );\n  };\n\n  const handleChangeSlider = (type, newValue) => {\n    if (type === 'interests') {\n      newValue = newValue.map(interest => {\n        return interest.name;\n      });\n      const newSearchOptions = { ...searchOptions, [type]: newValue };\n      setSearchOptions(newSearchOptions);\n      fetchSearch(newSearchOptions);\n      return;\n    }\n    const newSearchOptions = { ...searchOptions, [type]: newValue };\n    setSearchOptions(newSearchOptions);\n  };\n\n  const fetchSearch = (searchQuery = searchOptions) => {\n    axios\n      .post(\n        `${process.env.REACT_APP_PUBLIC_API_URL}/users/search`,\n        searchQuery,\n        {\n          headers: {\n            'Content-type': 'application/json; charset=UTF-8',\n            'x-access-token': token,\n          },\n        },\n      )\n      .then(result => {\n        if (result.data.authorized === false) {\n          window.location = '/profile?message=profile_not_completed';\n          return;\n        }\n        handleSort(null, result.data);\n      });\n  };\n\n  if (_.isEmpty(currentUserProfile) && loaded === false) {\n    userData.then(value => {\n      setCurrentUserProfile(value.data);\n      fetchSearch();\n      setLoaded(true);\n    });\n  }\n  return {\n    currentUserProfile,\n    loaded,\n    searchResult,\n    searchOptions,\n    handleChangeSlider,\n    setSearchOptions,\n    fetchSearch,\n    handleLike,\n    handleSort,\n  };\n};\n\nexport default SearchContainer;\n","import React from 'react';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Divider from '@material-ui/core/Divider';\nimport SearchFilters from './components/search-filters';\nimport ProfilesGrid from '../shared/profiles-grid';\nimport Title from '../shared/title';\nimport SearchContainer from './search-container';\n\nconst useStyles = makeStyles(theme => ({\n  wrapper: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    maxWidth: '1500px',\n    marginTop: '10px',\n  },\n  center: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  progress: {\n    height: '100vh',\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  filtersContainer: {\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n    padding: '10px',\n  },\n  filtersButtonContainer: {\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    position: 'relative',\n  },\n  sliderContainer: {\n    position: 'absolute',\n    backgroundColor: 'red',\n  },\n  slider: {\n    width: '100%',\n  },\n  menuItem: {\n    width: '600px',\n    height: '300px',\n    textDecoration: 'none',\n  },\n  titleGutterbottom: {\n    marginBottom: theme.spacing(2),\n  },\n}));\n\nconst Search = () => {\n  const {\n    currentUserProfile,\n    loaded,\n    searchResult,\n    searchOptions,\n    handleChangeSlider,\n    fetchSearch,\n    handleLike,\n    handleSort,\n  } = SearchContainer();\n  const classes = useStyles();\n\n  if (loaded === false) {\n    return (\n      <div className={classes.progress}>\n        <CircularProgress color=\"secondary\" />\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <Title textTitle=\"Search\" />\n      <SearchFilters\n        classes={classes}\n        searchOptions={searchOptions}\n        handleChangeSlider={handleChangeSlider}\n        currentUserProfile={currentUserProfile}\n        fetchSearch={fetchSearch}\n        handleSort={handleSort}\n      />\n      <Divider light />\n      <ProfilesGrid\n        classes={classes}\n        profiles={searchResult}\n        currentUserProfile={currentUserProfile}\n        handleLike={handleLike}\n        type=\"search\"\n      />\n    </>\n  );\n};\n\nexport default Search;\n","import Search from './search-view';\n\nexport default Search;\n","import React from 'react';\nimport Typography from '@material-ui/core/Typography';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport TextField from '@material-ui/core/TextField';\nimport Slider from '@material-ui/core/Slider';\nimport Grid from '@material-ui/core/Grid';\n\nconst sortOptions = [\n  {\n    value: 'score',\n    label: 'Matching score',\n  },\n  {\n    value: 'distance',\n    label: 'Distance',\n  },\n  {\n    value: 'ageAsc',\n    label: 'Age: Low to high',\n  },\n  {\n    value: 'ageDesc',\n    label: 'Age: High to low',\n  },\n  {\n    value: 'popularity',\n    label: 'Popularity',\n  },\n  {\n    value: 'interests',\n    label: 'Interests',\n  },\n];\n\nconst SuggestionsFilters = ({\n  classes,\n  suggestionsOptions,\n  handleChangeSlider,\n  currentUserProfile,\n  fetchSuggestions,\n  handleSort,\n}) => {\n  return (\n    <div className={classes.filtersContainer}>\n      <Grid container spacing={5} direction=\"row\" justify=\"center\">\n        <Grid item sm={2} xs={6}>\n          <Typography\n            id=\"discrete-slider\"\n            className={classes.titleGutterbottom}\n            align=\"center\"\n          >\n            Distance\n          </Typography>\n          <Slider\n            defaultValue={100}\n            getAriaValueText={value => `${value} kms`}\n            aria-labelledby=\"discrete-slider\"\n            valueLabelDisplay=\"auto\"\n            onChange={(event, newValue) =>\n              handleChangeSlider('distanceMax', newValue)\n            }\n            onChangeCommitted={() => fetchSuggestions()}\n            step={10}\n            marks\n            min={0}\n            max={500}\n            className={classes.titleGutterbottom + ' ' + classes.slider}\n          />\n        </Grid>\n        <Grid item sm={2} xs={6}>\n          <Typography\n            id=\"discrete-slider\"\n            className={classes.titleGutterbottom}\n            align=\"center\"\n          >\n            Age\n          </Typography>\n          <Slider\n            className={classes.slider}\n            value={suggestionsOptions.ageRange}\n            onChange={(event, newValue) =>\n              handleChangeSlider('ageRange', newValue)\n            }\n            onChangeCommitted={() => fetchSuggestions()}\n            valueLabelDisplay=\"auto\"\n            aria-labelledby=\"range-slider\"\n            getAriaValueText={value => `${value} kms`}\n            min={18}\n            max={100}\n          />\n        </Grid>\n        <Grid item sm={2} xs={6}>\n          <Typography\n            id=\"discrete-slider\"\n            className={classes.titleGutterbottom}\n            align=\"center\"\n          >\n            Popularity\n          </Typography>\n          <Slider\n            className={classes.slider}\n            value={suggestionsOptions.popularityRange}\n            onChange={(event, newValue) =>\n              handleChangeSlider('popularityRange', newValue)\n            }\n            onChangeCommitted={() => fetchSuggestions()}\n            valueLabelDisplay=\"auto\"\n            aria-labelledby=\"range-slider\"\n            getAriaValueText={value => `${value} kms`}\n            min={0}\n            max={100}\n          />\n        </Grid>\n        <Grid item sm={2} xs={6}>\n          <Typography\n            id=\"discrete-slider\"\n            className={classes.titleGutterbottom}\n            align=\"center\"\n          >\n            Interests\n          </Typography>\n          <div className={classes.interestChips}>\n            <div>\n              <Autocomplete\n                className={classes.slider}\n                multiple\n                options={currentUserProfile.interests.map(interest => {\n                  return { name: interest };\n                })}\n                getOptionLabel={option => option.name}\n                onChange={(event, value) => {\n                  handleChangeSlider('interests', value);\n                }}\n                name=\"interest\"\n                renderInput={params => (\n                  <TextField\n                    {...params}\n                    variant=\"outlined\"\n                    placeholder=\"Add interest\"\n                    fullWidth\n                  />\n                )}\n              />\n            </div>\n          </div>\n        </Grid>\n        <Grid item sm={2} xs={6}>\n          <form className={classes.container} noValidate autoComplete=\"off\">\n            <Typography\n              id=\"discrete-slider\"\n              className={classes.titleGutterbottom}\n              align=\"center\"\n            >\n              Sort by\n            </Typography>\n            <TextField\n              id=\"outlined-select-currency-native\"\n              select\n              className={classes.textField}\n              value={suggestionsOptions.sort}\n              onChange={event => handleSort(event)}\n              fullWidth\n              SelectProps={{\n                native: true,\n                MenuProps: {\n                  className: classes.menu,\n                },\n              }}\n              variant=\"outlined\"\n            >\n              {sortOptions.map(option => (\n                <option key={option.value} value={option.value}>\n                  {option.label}\n                </option>\n              ))}\n            </TextField>\n          </form>\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\nexport default SuggestionsFilters;\n","import axios from 'axios';\nimport { useState, useContext } from 'react';\nimport { toast } from 'react-toastify';\nimport _ from 'lodash';\nimport { AuthContext } from '../app/AuthContext';\n\nconst SuggestionsContainer = () => {\n  const [loaded, setLoaded] = useState(false);\n  const [currentUserProfile, setCurrentUserProfile] = useState({});\n  const [suggestionsResult, setSuggestionsResult] = useState([]);\n  const [suggestionsOptions, setSuggestionsOptions] = useState({\n    ageRange: [18, 85],\n    popularityRange: [0, 100],\n    interests: [],\n    distanceMax: 100,\n    sort: 'score',\n  });\n  const { authContext } = useContext(AuthContext);\n  const { userData, token } = authContext;\n\n  const handleLike = likedId => {\n    axios\n      .get(\n        `${process.env.REACT_APP_PUBLIC_API_URL}/likes/like-unlike/${likedId}`,\n        {\n          headers: {\n            'Content-type': 'application/json; charset=UTF-8',\n            'x-access-token': token,\n          },\n        },\n      )\n      .then(result => {\n        if (result.data.blocked) {\n          toast.error(result.data.message);\n        } else {\n          const indexToModify = _.keys(\n            _.pickBy(suggestionsResult, { visitor: likedId }),\n          );\n\n          const newSuggestionsResult = suggestionsResult;\n          indexToModify.forEach(index => {\n            newSuggestionsResult[parseInt(index, 10)] = {\n              ...newSuggestionsResult[parseInt(index, 10)],\n              liking: !suggestionsResult[parseInt(index, 10)].liking,\n            };\n          });\n          document\n            .querySelectorAll(`[visitor*=\"${likedId}\"]`)\n            .forEach(element => {\n              if (element.classList.contains('MuiIconButton-colorSecondary'))\n                element.classList.remove('MuiIconButton-colorSecondary');\n              else element.className += ' MuiIconButton-colorSecondary';\n            });\n          setSuggestionsResult(newSuggestionsResult);\n        }\n      });\n  };\n\n  const handleSort = (event, profiles = suggestionsResult) => {\n    let sortChoice = '';\n    if (event) {\n      sortChoice = event.target.value;\n    } else {\n      sortChoice = suggestionsOptions.sort;\n    }\n    let order = '';\n    switch (sortChoice) {\n      case 'score':\n        order = 'desc';\n        break;\n      case 'distance':\n        order = 'asc';\n        break;\n      case 'ageAsc':\n        order = 'asc';\n        break;\n      case 'ageDesc':\n        order = 'desc';\n        break;\n      case 'popularity':\n        order = 'desc';\n        break;\n      case 'interests':\n        order = 'asc';\n        break;\n      default:\n    }\n    const newSuggestionsOptions = {\n      ...suggestionsOptions,\n      sort: sortChoice,\n    };\n    setSuggestionsOptions(newSuggestionsOptions);\n    setSuggestionsResult(\n      _.orderBy(\n        profiles,\n        [\n          profile => {\n            switch (sortChoice) {\n              case 'score':\n                return profile.score;\n              case 'distance':\n                return profile.distance;\n              case 'ageAsc':\n                return profile.age;\n              case 'ageDesc':\n                return profile.age;\n              case 'popularity':\n                return profile.popularityRate;\n              case 'interests':\n                return profile.interests[0] ? profile.interests[0] : 'ZZZZ';\n              default:\n            }\n          },\n        ],\n        [order],\n      ),\n    );\n  };\n\n  const handleChangeSlider = (type, newValue) => {\n    if (type === 'interests') {\n      newValue = newValue.map(interest => {\n        return interest.name;\n      });\n      const newSuggestionsOptions = { ...suggestionsOptions, [type]: newValue };\n      setSuggestionsOptions(newSuggestionsOptions);\n      fetchSuggestions(newSuggestionsOptions);\n      return;\n    }\n    const newSuggestionsOptions = { ...suggestionsOptions, [type]: newValue };\n    setSuggestionsOptions(newSuggestionsOptions);\n  };\n\n  const fetchSuggestions = (suggestionsQuery = suggestionsOptions) => {\n    axios\n      .post(\n        `${process.env.REACT_APP_PUBLIC_API_URL}/users/suggestions`,\n        suggestionsQuery,\n        {\n          headers: {\n            'Content-type': 'application/json; charset=UTF-8',\n            'x-access-token': token,\n          },\n        },\n      )\n      .then(result => {\n        if (result.data.authorized === false) {\n          window.location = '/profile?message=profile_not_completed';\n          return;\n        }\n        handleSort(null, result.data);\n      });\n  };\n\n  if (_.isEmpty(currentUserProfile) && loaded === false) {\n    userData.then(value => {\n      setCurrentUserProfile(value.data);\n      fetchSuggestions();\n      setLoaded(true);\n    });\n  }\n  return {\n    currentUserProfile,\n    loaded,\n    suggestionsResult,\n    suggestionsOptions,\n    handleChangeSlider,\n    setSuggestionsOptions,\n    fetchSuggestions,\n    handleLike,\n    handleSort,\n  };\n};\n\nexport default SuggestionsContainer;\n","import React from 'react';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Divider from '@material-ui/core/Divider';\nimport SuggestionsFilters from './components/suggestions-filters';\nimport ProfilesGrid from '../shared/profiles-grid';\nimport Title from '../shared/title';\nimport SuggestionsContainer from './suggestions-container';\n\nconst useStyles = makeStyles(theme => ({\n  wrapper: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    maxWidth: '1500px',\n    marginTop: '10px',\n  },\n  center: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  progress: {\n    height: '100vh',\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  filtersContainer: {\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n    padding: '10px',\n  },\n  filtersButtonContainer: {\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    position: 'relative',\n  },\n  sliderContainer: {\n    position: 'absolute',\n    backgroundColor: 'red',\n  },\n  slider: {\n    width: '100%',\n  },\n  menuItem: {\n    width: '600px',\n    height: '300px',\n    textDecoration: 'none',\n  },\n  titleGutterbottom: {\n    marginBottom: theme.spacing(2),\n  },\n}));\n\nconst Suggestions = () => {\n  const {\n    currentUserProfile,\n    loaded,\n    suggestionsResult,\n    suggestionsOptions,\n    handleChangeSlider,\n    fetchSuggestions,\n    handleLike,\n    handleSort,\n  } = SuggestionsContainer();\n  const classes = useStyles();\n\n  if (loaded === false) {\n    return (\n      <div className={classes.progress}>\n        <CircularProgress color=\"secondary\" />\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <Title textTitle=\"Suggestions\" />\n      <SuggestionsFilters\n        classes={classes}\n        suggestionsOptions={suggestionsOptions}\n        handleChangeSlider={handleChangeSlider}\n        currentUserProfile={currentUserProfile}\n        fetchSuggestions={fetchSuggestions}\n        handleSort={handleSort}\n      />\n      <Divider light />\n      <ProfilesGrid\n        classes={classes}\n        profiles={suggestionsResult}\n        currentUserProfile={currentUserProfile}\n        handleLike={handleLike}\n        type=\"suggestion\"\n      />\n    </>\n  );\n};\n\nexport default Suggestions;\n","import Suggestions from './suggestions-view';\n\nexport default Suggestions;\n","import axios from 'axios';\nimport { useState, useContext } from 'react';\nimport _ from 'lodash';\nimport { toast } from 'react-toastify';\nimport { AuthContext } from '../app/AuthContext';\n\nconst VisitContainer = () => {\n  const [loaded, setLoaded] = useState(false);\n  const [visitedProfile, setVisitedProfile] = useState({});\n  const [visitorProfile, setVisitorProfile] = useState({});\n  const { authContext } = useContext(AuthContext);\n  const { userData, token } = authContext;\n\n  const handleLike = likedId => {\n    axios\n      .get(\n        `${process.env.REACT_APP_PUBLIC_API_URL}/likes/like-unlike/${likedId}`,\n        {\n          headers: {\n            'Content-type': 'application/json; charset=UTF-8',\n            'x-access-token': token,\n          },\n        },\n      )\n      .then(result => {\n        if (result.data.blocked) {\n          toast.error(result.data.message);\n        } else {\n          const indexToModify = _.keys(\n            _.pickBy(visitedProfile, { visitor: likedId }),\n          );\n\n          const newVisitedProfile = visitedProfile;\n          indexToModify.forEach(index => {\n            newVisitedProfile[parseInt(index, 10)] = {\n              ...newVisitedProfile[parseInt(index, 10)],\n              liking: !visitedProfile[parseInt(index, 10)].liking,\n            };\n          });\n          document\n            .querySelectorAll(`[visitor*=\"${likedId}\"]`)\n            .forEach(element => {\n              if (element.classList.contains('MuiIconButton-colorSecondary'))\n                element.classList.remove('MuiIconButton-colorSecondary');\n              else element.className += ' MuiIconButton-colorSecondary';\n            });\n          setVisitedProfile(newVisitedProfile);\n        }\n      });\n  };\n\n  const fetchVisitHistory = () =>\n    axios\n      .get(`${process.env.REACT_APP_PUBLIC_API_URL}/visits/`, {\n        headers: {\n          'Content-type': 'application/json; charset=UTF-8',\n          'x-access-token': token,\n        },\n      })\n      .then(response => {\n        return response.data;\n      })\n      .catch(error => {\n        if (process.env.REACT_APP_VERBOSE === 'true') console.log(error);\n      });\n\n  if (_.isEmpty(visitedProfile) && loaded === false) {\n    Promise.all([userData, fetchVisitHistory()]).then(values => {\n      setVisitedProfile(values[1]);\n      setVisitorProfile(values[0].data);\n      setLoaded(true);\n    });\n  }\n\n  return { visitedProfile, visitorProfile, loaded, handleLike };\n};\n\nexport default VisitContainer;\n","import React from 'react';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { makeStyles } from '@material-ui/core/styles';\nimport VisitContainer from './visit-container';\nimport Title from '../shared/title';\nimport ProfilesGrid from '../shared/profiles-grid';\n\nconst useStyles = makeStyles(theme => ({\n  wrapper: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    maxWidth: '1500px',\n    marginTop: '10px',\n  },\n  center: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  progress: {\n    height: '100vh',\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  emptyPageWrapper: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n  },\n  emptyPageText: {\n    maxWidth: \"700px\",\n    margin: theme.spacing(2),\n  },\n}));\n\nconst Visit = ({ computedMatch }) => {\n  const visitedUsername = computedMatch.params.username;\n\n  const { visitedProfile, visitorProfile, loaded, handleLike } = VisitContainer(\n    visitedUsername,\n  );\n  const classes = useStyles();\n\n  if (loaded === false) {\n    return (\n      <div className={classes.progress}>\n        <CircularProgress color=\"secondary\" />\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <Title textTitle=\"History of visits\" />\n      <ProfilesGrid\n        classes={classes}\n        profiles={visitedProfile}\n        currentUserProfile={visitorProfile}\n        handleLike={handleLike}\n        type=\"visit\"\n      />\n    </>\n  );\n};\n\nexport default Visit;\n","import Visit from './visit-view';\n\nexport default Visit;\n","import axios from 'axios';\nimport { useState, useContext } from 'react';\nimport _ from 'lodash';\nimport { toast } from 'react-toastify';\nimport { AuthContext } from '../app/AuthContext';\n\nconst LikeContainer = () => {\n  const [loaded, setLoaded] = useState(false);\n  const [likedProfile, setLikedProfile] = useState(null);\n  const [likerProfile, setLikerProfile] = useState({});\n  const { authContext } = useContext(AuthContext);\n  const { userData, token } = authContext;\n\n  const handleLike = likedId => {\n    axios\n      .get(\n        `${process.env.REACT_APP_PUBLIC_API_URL}/likes/like-unlike/${likedId}`,\n        {\n          headers: {\n            'Content-type': 'application/json; charset=UTF-8',\n            'x-access-token': token,\n          },\n        },\n      )\n      .then(result => {\n        if (result.data.blocked) {\n          toast.error(result.data.message);\n        } else {\n          const indexToModify = _.keys(\n            _.pickBy(likedProfile, { visitor: likedId }),\n          );\n\n          const newLikeedProfile = likedProfile;\n          indexToModify.forEach(index => {\n            newLikeedProfile[parseInt(index, 10)] = {\n              ...newLikeedProfile[parseInt(index, 10)],\n              liking: !likedProfile[parseInt(index, 10)].liking,\n            };\n          });\n          document\n            .querySelectorAll(`[visitor*=\"${likedId}\"]`)\n            .forEach(element => {\n              if (element.classList.contains('MuiIconButton-colorSecondary'))\n                element.classList.remove('MuiIconButton-colorSecondary');\n              else element.className += ' MuiIconButton-colorSecondary';\n            });\n          setLikedProfile(newLikeedProfile);\n        }\n      });\n  };\n\n  const fetchLikeHistory = () =>\n    axios\n      .get(`${process.env.REACT_APP_PUBLIC_API_URL}/likes/`, {\n        headers: {\n          'Content-type': 'application/json; charset=UTF-8',\n          'x-access-token': token,\n        },\n      })\n      .then(response => {\n        return response.data;\n      })\n      .catch(error => {\n        if (process.env.REACT_APP_VERBOSE === 'true') console.log(error);\n      });\n\n  if (likedProfile === null && loaded === false) {\n    Promise.all([userData, fetchLikeHistory()]).then(values => {\n      setLikedProfile(values[1]);\n      setLikerProfile(values[0].data);\n    setLoaded(true);\n    });\n  }\n\n  return { likedProfile, likerProfile, loaded, handleLike };\n};\n\nexport default LikeContainer;\n","import React from 'react';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { makeStyles } from '@material-ui/core/styles';\nimport LikeContainer from './like-container';\nimport Title from '../shared/title';\nimport ProfilesGrid from '../shared/profiles-grid';\n\nconst useStyles = makeStyles(theme => ({\n  wrapper: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    marginLeft: 'auto',\n    marginRight: 'auto',\n    maxWidth: '1500px',\n    marginTop: '10px',\n  },\n  center: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  progress: {\n    height: '100vh',\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  emptyPageWrapper: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n  },\n  emptyPageText: {\n    maxWidth: \"700px\",\n    margin: theme.spacing(2),\n  },\n}));\n\nconst Like = ({ computedMatch }) => {\n  const likedUsername = computedMatch.params.username;\n\n  const { likedProfile, likerProfile, loaded, handleLike } = LikeContainer(\n    likedUsername,\n  );\n  const classes = useStyles();\n\n  if (loaded === false) {\n    return (\n      <div className={classes.progress}>\n        <CircularProgress color=\"secondary\" />\n      </div>\n    );\n  }\n\n  return (\n    <>\n      <Title textTitle=\"History of likes\" />\n      <ProfilesGrid\n        classes={classes}\n        profiles={likedProfile}\n        currentUserProfile={likerProfile}\n        handleLike={handleLike}\n        type=\"like\"\n      />\n    </>\n  );\n};\n\nexport default Like;\n","import Like from './like-view';\n\nexport default Like;\n","import { toast } from 'react-toastify';\n\nexport const loginSuccess = () => {\n  const toasterType = 'success';\n  const toasterMessage = 'You successfully logged in!';\n\n  toast(toasterMessage, { type: toasterType });\n};\n\nexport const logoutSuccess = () => {\n  const toasterType = 'success';\n  const toasterMessage = 'You successfully logged out!';\n\n  toast(toasterMessage, { type: toasterType });\n};\n\nexport const deleteSuccess = () => {\n  const toasterType = 'success';\n  const toasterMessage = 'Your account was successfully deleted! Bye bye!';\n\n  toast(toasterMessage, { type: toasterType });\n};\n\nexport const signupSuccess = () => {\n  const toasterType = 'success';\n  const toasterMessage = 'You successfully signed up!';\n\n  toast(toasterMessage, { type: toasterType });\n};\n\nexport const alreadyLoggedin = () => {\n  const toasterType = 'warning';\n  const toasterMessage = 'You are already logged in!';\n\n  toast(toasterMessage, { type: toasterType });\n};\n\nexport const userNotFound = () => {\n  const toasterType = 'warning';\n  const toasterMessage = \"This user doesn't exist!\";\n\n  toast(toasterMessage, { type: toasterType });\n};\n\nexport const userValidated = () => {\n  const toasterType = 'success';\n  const toasterMessage = 'Your account is successfully validated!';\n\n  toast(toasterMessage, { type: toasterType });\n};\nexport const userNotValidated = () => {\n  const toasterType = 'warning';\n  const toasterMessage = 'The validation link is not valid!';\n\n  toast(toasterMessage, { type: toasterType });\n};\nexport const forgotPasswordSuccess = () => {\n  const toasterType = 'success';\n  const toasterMessage = 'You have receive a reset link inside your email';\n\n  toast(toasterMessage, { type: toasterType });\n};\n\nexport const resetPasswordSuccess = () => {\n  const toasterType = 'success';\n  const toasterMessage = 'You have successfully reset the password';\n\n  toast(toasterMessage, { type: toasterType });\n};\n\nexport const profileNotCompleted = () => {\n  const toasterType = 'warning';\n  const toasterMessage =\n    'You need to complete your profile in order to access to other profiles';\n  toast(toasterMessage, { type: toasterType });\n};\n\nexport const userBlockedYou = () => {\n  const toasterType = 'warning';\n  const toasterMessage = 'You have been blocked by this user!';\n  toast(toasterMessage, { type: toasterType });\n};\n\nexport const accessDenied = () => {\n  const toasterType = 'error';\n  const toasterMessage = \"You can't access this chatroom. Sorry!\";\n  toast(toasterMessage, { type: toasterType });\n};\n","import Toaster from './toaster-view';\n\nexport default Toaster;\n","import useDebouncedCallback from 'use-debounce/lib/useDebouncedCallback';\nimport {\n  loginSuccess,\n  logoutSuccess,\n  signupSuccess,\n  alreadyLoggedin,\n  userValidated,\n  userNotValidated,\n  forgotPasswordSuccess,\n  resetPasswordSuccess,\n  deleteSuccess,\n  userNotFound,\n  profileNotCompleted,\n  userBlockedYou,\n  accessDenied,\n} from './toaster-container';\n\nconst Toaster = ({ getParams }) => {\n  const [toastDebounced] = useDebouncedCallback(getParams => {\n    switch (getParams.message) {\n      case 'login_success':\n        loginSuccess();\n        break;\n      case 'logout_success':\n        logoutSuccess();\n        break;\n      case 'delete_success':\n        deleteSuccess();\n        break;\n      case 'signup_success':\n        signupSuccess();\n        break;\n      case 'already_loggedin':\n        alreadyLoggedin();\n        break;\n      case 'user_validated':\n        userValidated();\n        break;\n      case 'user_not_validated':\n        userNotValidated();\n        break;\n      case 'forgotPassword_success':\n        forgotPasswordSuccess();\n        break;\n      case 'reset_password_success':\n        resetPasswordSuccess();\n        break;\n      case 'user_not_found':\n        userNotFound();\n        break;\n      case 'profile_not_completed':\n        profileNotCompleted();\n        break;\n      case 'user_blocked_you':\n        userBlockedYou();\n        break;\n      case 'access_denied':\n        accessDenied();\n        break;\n      case 'cant_access_chat':\n        accessDenied();\n        break;\n      default:\n        break;\n    }\n  }, 500);\n\n    if (getParams !== undefined && getParams.message !== undefined) {\n      toastDebounced(getParams);\n    }\n  return null;\n};\n\nexport default Toaster;\n","import axios from 'axios';\nimport _ from 'lodash';\nimport { useState } from 'react';\n\nconst HomeContainer = (userData, token) => {\n  const [loaded, setLoaded] = useState(false);\n  const [userInfo, setUserInfo] = useState({});\n\n  const fetchProfile = () => {\n    axios\n      .get(`${process.env.REACT_APP_PUBLIC_API_URL}/users/profile`, {\n        headers: {\n          'Content-type': 'application/json; charset=UTF-8',\n          'x-access-token': token,\n        },\n      })\n      .then(response => {\n        setUserInfo(response.data);\n        setLoaded(true);\n        return response.data;\n      })\n      .catch(error => {\n      if (process.env.REACT_APP_VERBOSE === 'true') console.log(error);\n      });\n  };\n\n  if (_.isEmpty(userInfo) && loaded === false) {\n    fetchProfile();\n  }\n\n  return { userInfo, loaded };\n};\n\nexport default HomeContainer;\n","import React, { useContext, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport queryString from 'query-string';\nimport { makeStyles } from '@material-ui/core/styles';\nimport {\n  Box,\n  Typography,\n  Fab,\n  Avatar,\n  Grid,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  Paper,\n  CircularProgress,\n} from '@material-ui/core';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport ChatIcon from '@material-ui/icons/Chat';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport AddIcon from '@material-ui/icons/Add';\nimport ThumbUpAltIcon from '@material-ui/icons/ThumbUpAlt';\nimport FavoriteIcon from '@material-ui/icons/Favorite';\nimport SearchIcon from '@material-ui/icons/Search';\nimport Toaster from '../toaster/index';\nimport Background from '../../assets/images/home-bg-1.jpg';\nimport { AuthContext } from '../app/AuthContext';\nimport HomeContainer from './home-container';\n\nconst useStyles = makeStyles(theme => ({\n  progress: {\n    height: '100vh',\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  homeWrapper: {\n    height: 'calc(100vh - 64px)',\n    width: '100vw',\n    padding: theme.spacing(2),\n  },\n  bgImage: {\n    height: '100%',\n    width: '100%',\n    backgroundImage: `url(${Background})`,\n    backgroundSize: 'cover',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  homeTextDiv: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgb(255, 255, 255, 0.9)',\n    padding: theme.spacing(3),\n    borderRadius: '5px',\n  },\n  CTA: {\n    marginTop: theme.spacing(4),\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n  },\n  signIn: {\n    backgroundColor: 'rgb(255, 255, 255)',\n    border: '3px solid',\n    borderColor: theme.palette.secondary.main,\n  },\n  CTAWrapper: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  dashboard: {\n    height: 'calc(100vh - 64px)',\n  },\n  upDivWrapper: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'flex-end',\n    padding: theme.spacing(3),\n  },\n  avatar: {\n    width: theme.spacing(7),\n    height: theme.spacing(7),\n    marginRight: theme.spacing(3),\n  },\n  gridWrapper: {\n    height: '100%',\n  },\n  leftColumn: {\n    backgroundColor: theme.palette.primary.main,\n  },\n  leftColumnIcon: {\n    color: theme.palette.secondary.main,\n  },\n  leftColumnText: {\n    color: 'white',\n  },\n  columnCTAS: {\n    backgroundColor: '#f4f4f4',\n    minHeight: '100%',\n    padding: theme.spacing(3),\n  },\n  columnPaper: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n  },\n  paperCTA: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: theme.spacing(3),\n    maxWidth: '450px',\n  },\n  paperText: {\n    marginTop: theme.spacing(3),\n    marginBottom: theme.spacing(3),\n  },\n  findMatchTitle: {\n    marginBottom: theme.spacing(6),\n  },\n}));\n\nconst Home = ({ location }) => {\n  const classes = useStyles();\n  const { authContext } = useContext(AuthContext);\n  const defaultValue = authContext.token !== null;\n  const [secureAuth, setSecureAuth] = useState(defaultValue);\n\n  const getParams = queryString.parse(location.search);\n\n  const { userInfo, loaded } = HomeContainer(\n    authContext.userData,\n    authContext.token,\n  );\n\n  if (secureAuth === true) {\n    authContext.userData.then(data => {\n      if (data === null) {\n        window.location = '/login';\n      }\n      setSecureAuth(data.success);\n    });\n  }\n\n  if (secureAuth) {\n    if (loaded === false) {\n      return (\n        <div className={classes.progress}>\n          <CircularProgress color=\"secondary\" />\n        </div>\n      );\n    }\n\n    return (\n      <Box className={classes.dashboard}>\n        <Box className={classes.upDivWrapper}>\n          <Avatar\n            alt=\"Remy Sharp\"\n            src={userInfo[0].profilePicture}\n            className={classes.avatar}\n          />\n          <Typography variant=\"h4\" color=\"primary\">\n            Welcome {userInfo[0].firstname}\n          </Typography>\n        </Box>\n        <Grid container className={classes.gridWrapper}>\n          <Grid item xs={12} sm={3} lg={2} className={classes.leftColumn}>\n            <List>\n              <ListItem button component=\"a\" href=\"/profile\">\n                <ListItemIcon>\n                  <AccountCircleIcon className={classes.leftColumnIcon} />\n                </ListItemIcon>\n                <ListItemText\n                  primary=\"My profile\"\n                  className={classes.leftColumnText}\n                />\n              </ListItem>\n              <ListItem button component=\"a\" href=\"/chat\">\n                <ListItemIcon>\n                  <ChatIcon className={classes.leftColumnIcon} />\n                </ListItemIcon>\n                <ListItemText\n                  primary=\"Messages\"\n                  className={classes.leftColumnText}\n                />\n              </ListItem>\n              <ListItem button component=\"a\" href=\"/visits\">\n                <ListItemIcon>\n                  <VisibilityIcon className={classes.leftColumnIcon} />\n                </ListItemIcon>\n                <ListItemText\n                  primary=\"Visits\"\n                  className={classes.leftColumnText}\n                />\n              </ListItem>\n              <ListItem button component=\"a\" href=\"/likes\">\n                <ListItemIcon>\n                  <ThumbUpAltIcon className={classes.leftColumnIcon} />\n                </ListItemIcon>\n                <ListItemText\n                  primary=\"They liked me\"\n                  className={classes.leftColumnText}\n                />\n              </ListItem>\n            </List>\n          </Grid>\n          <Grid item xs={12} sm={9} lg={10} className={classes.columnCTAS}>\n            <Typography\n              variant=\"h3\"\n              color=\"primary\"\n              gutterBottom\n              align=\"center\"\n              className={classes.findMatchTitle}\n            >\n              Find your perfect Match\n            </Typography>\n            <Grid container spacing={5}>\n              <Grid item xs={12} sm={6} className={classes.columnPaper}>\n                <Paper elevation={3} className={classes.paperCTA}>\n                  <FavoriteIcon fontSize=\"large\" color=\"secondary\" />\n                  <Typography variant=\"h4\" color=\"primary\">\n                    Suggestions\n                  </Typography>\n                  <Typography className={classes.paperText}>\n                    We gathered profiles that could be a good fit for you!\n                    Here's a bunch\n                  </Typography>\n                  <Fab\n                    size=\"large\"\n                    color=\"secondary\"\n                    aria-label=\"add\"\n                    href=\"/suggestions\"\n                  >\n                    <AddIcon />\n                  </Fab>\n                </Paper>\n              </Grid>\n              <Grid item xs={12} sm={6} className={classes.columnPaper}>\n                <Paper elevation={3} className={classes.paperCTA}>\n                  <SearchIcon fontSize=\"large\" color=\"secondary\" />\n                  <Typography variant=\"h4\" color=\"primary\">\n                    Search\n                  </Typography>\n                  <Typography className={classes.paperText}>\n                    You can filter users according to your interests, age,\n                    distance... Have fun!\n                  </Typography>\n                  <Fab\n                    size=\"large\"\n                    color=\"secondary\"\n                    aria-label=\"add\"\n                    href=\"/search\"\n                  >\n                    <AddIcon />\n                  </Fab>\n                </Paper>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Box>\n    );\n  }\n  return (\n    <>\n      <Box className={classes.homeWrapper}>\n        <Box className={classes.bgImage}>\n          <Box className={classes.homeTextDiv}>\n            <Typography variant=\"h3\" color=\"primary\" gutterBottom>\n              Make the first move\n            </Typography>\n            <Typography>\n              Start meeting new people in your area! If you already have an\n              account, sign in to use Matcha.\n            </Typography>\n            <div className={classes.CTAWrapper}>\n              <Fab\n                variant=\"extended\"\n                color=\"secondary\"\n                aria-label=\"add\"\n                className={classes.CTA}\n                href=\"/signup\"\n              >\n                Sign up\n              </Fab>\n              <Fab\n                variant=\"extended\"\n                aria-label=\"add\"\n                className={classes.signIn + ' ' + classes.CTA}\n                href=\"/login\"\n              >\n                Sign in\n              </Fab>\n            </div>\n          </Box>\n        </Box>\n      </Box>\n      <Toaster getParams={getParams} />\n    </>\n  );\n};\nHome.propTypes = {\n  // eslint-disable-next-line react/forbid-prop-types\n  location: PropTypes.object.isRequired,\n};\nexport default Home;\n","import Home from './home-view';\n\nexport default Home;\n","/* eslint-disable react/jsx-props-no-spreading */\nimport React, { useState, useContext } from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { AuthContext } from './AuthContext';\n\nconst SecureRoute = ({ component: Component, ...rest }) => {\n  const { authContext } = useContext(AuthContext);\n  const defaultValue = authContext.token !== null;\n  const [secureAuth, setSecureAuth] = useState(defaultValue);\n  if (secureAuth === true) {\n    authContext.userData.then(data => {\n      if (data === null) {\n        window.location = '/login';\n      }\n      setSecureAuth(data.success);\n    });\n  }\n\n  return (\n    <Route\n      {...rest}\n      render={props => {\n        if (secureAuth) {\n          return <Component {...props} {...rest} />;\n        }\n        return <Redirect to=\"/login\" />;\n      }}\n    />\n  );\n};\n\nSecureRoute.propTypes = {\n  component: PropTypes.func.isRequired,\n};\nexport default SecureRoute;\n","/* eslint-disable react/jsx-props-no-spreading */\nimport React, { useState, useContext } from 'react';\nimport PropTypes from 'prop-types';\nimport { AuthContext } from './AuthContext';\nimport { isTokenExpired } from '../auth/AuthContainer';\n\nconst NotLoggedRoute = ({ component: Component, ...rest }) => {\n  const { authContext } = useContext(AuthContext);\n  const defaultValue =\n    authContext.token !== null && !isTokenExpired(authContext.token);\n  const [secureAuth, setSecureAuth] = useState(defaultValue);\n  if (secureAuth === true) {\n    authContext.userData.then(data => setSecureAuth(data.success));\n    window.location = '/?message=already_loggedin';\n  }\n  return <Component {...rest} />;\n};\n\nNotLoggedRoute.propTypes = {\n  component: PropTypes.func.isRequired,\n};\n\nexport default NotLoggedRoute;\n","import React, { Fragment } from 'react';\nimport moment from 'moment';\nimport {\n  List,\n  ListItem,\n  Divider,\n  ListItemText,\n  ListItemAvatar,\n  Avatar,\n} from '@material-ui/core';\nimport Typography from '@material-ui/core/Typography';\nimport _ from 'lodash';\n\nconst NotificationDrawer = ({ classes, toggleDrawer, notifications }) => {\n  const messageToDisplay = (sender, event) => {\n    let message = '';\n\n    if (event) {\n      switch (event) {\n        case 'message':\n          message = `${sender} sent you a new message`;\n          break;\n        case 'like':\n          message = `${sender} liked you`;\n          break;\n        case 'visit':\n          message = `${sender} visited your profile!`;\n          break;\n        case 'match':\n          message = `${sender} liked you back, it's a match!`;\n          break;\n        case 'unmatch':\n          message = `${sender} unliked you, no more match. Sorry!`;\n          break;\n        default:\n      }\n      return message;\n    }\n  };\n\n  return (\n    <div\n      className={classes.list}\n      role=\"presentation\"\n      onClick={toggleDrawer(false)}\n      onKeyDown={toggleDrawer(false)}\n    >\n      {_.isEmpty(notifications) ? (\n        <Typography className={classes.noNotificationsDrawer}>\n          <span role=\"img\" aria-label=\"emoji\">\n            You don't have any notifications yet! Be patient, it's coming \n          </span>\n        </Typography>\n      ) : (\n        <List>\n          {notifications.map(notification => {\n            const notifLink = `/profile/${notification.username}`;\n            return (\n              <Fragment key={notification.id}>\n                <ListItem\n                  button\n                  component=\"a\"\n                  href={notifLink}\n                  className={notification.read ? null : classes.notReadNotif}\n                >\n                  <ListItemAvatar>\n                    <Avatar alt=\"avatar\" src={notification.profilePicture} />\n                  </ListItemAvatar>\n                  <ListItemText\n                    primary={messageToDisplay(\n                      notification.firstname,\n                      notification.event,\n                    )}\n                    secondary={moment(notification.date).fromNow()}\n                  />\n                </ListItem>\n                <Divider />\n              </Fragment>\n            );\n          })}\n        </List>\n      )}\n    </div>\n  );\n};\n\nexport default NotificationDrawer;\n","import React, { useContext, useState, useEffect } from 'react';\nimport {\n  AppBar,\n  Toolbar,\n  IconButton,\n  Typography,\n  Button,\n  makeStyles,\n  SwipeableDrawer,\n  Badge,\n  Link,\n} from '@material-ui/core';\nimport ChatBubbleIcon from '@material-ui/icons/ChatBubble';\nimport NotificationsIcon from '@material-ui/icons/Notifications';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\nimport useDebouncedCallback from 'use-debounce/lib/useDebouncedCallback';\nimport { AuthContext } from '../app/AuthContext';\nimport { logout } from '../auth';\nimport NotificationDrawer from './components/notificationDrawer';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    flexGrow: 1,\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  matchaLogo: {\n    flexGrow: 1,\n  },\n  navIcon: {\n    color: 'white',\n    '&:focus': {\n      textDecoration: 'none',\n    },\n    '&:hover': {\n      textDecoration: 'none',\n      color: theme.palette.secondary.main,\n    },\n    '&:visited': {\n      textDecoration: 'none',\n    },\n    '&:link': {\n      textDecoration: 'none',\n    },\n    '&:active': {\n      textDecoration: 'none',\n    },\n  },\n  notReadNotif: {\n    backgroundColor: '#edf2fa',\n  },\n  noNotificationsDrawer: {\n    margin: theme.spacing(1),\n  },\n}));\n\nconst Nav = () => {\n  const classes = useStyles();\n  const { authContext, socketContext } = useContext(AuthContext);\n  const { token } = authContext;\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [notifications, setNotifications] = useState([]);\n  const [totalNotifications, setTotalNotifications] = useState(0);\n  const [totalMessages, setTotalMessages] = useState(0);\n  const [notifMenu, setNotifMenu] = React.useState({\n    right: false,\n  });\n\n  useEffect(() => {\n    const fetchTotalNotifications = async () => {\n      await axios\n        .get(\n          `${process.env.REACT_APP_PUBLIC_API_URL}/notification/total`,\n          {\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n              'x-access-token': token,\n            },\n          },\n        )\n        .then(result => {\n          setTotalNotifications(parseInt(result.data, 10));\n        })\n        .catch(error => {\n          if (process.env.REACT_APP_VERBOSE === 'true') console.log(error);\n        });\n    };\n\n    const fetchTotalMessages = async () => {\n      await axios\n        .get(`${process.env.REACT_APP_PUBLIC_API_URL}/chat/total`, {\n          headers: {\n            'Content-type': 'application/json; charset=UTF-8',\n            'x-access-token': token,\n          },\n        })\n        .then(result => {\n          setTotalMessages(parseInt(result.data, 10));\n        })\n        .catch(error => {\n          if (process.env.REACT_APP_VERBOSE === 'true') console.log(error);\n        });\n    };\n    fetchTotalNotifications();\n    setTimeout(() => fetchTotalMessages(), 500);\n  }, [token]);\n\n  const fetchNotifications = async () => {\n    await axios\n      .get(`${process.env.REACT_APP_PUBLIC_API_URL}/notification`, {\n        headers: {\n          'Content-type': 'application/json; charset=UTF-8',\n          'x-access-token': token,\n        },\n      })\n      .then(result => {\n        setNotifications(result.data);\n      })\n      .catch(error => {\n        if (process.env.REACT_APP_VERBOSE === 'true') console.log(error);\n      });\n  };\n\n  const toggleDrawer = open => async event => {\n    if (\n      event &&\n      event.type === 'keydown' &&\n      (event.key === 'Tab' || event.key === 'Shift')\n    ) {\n      return;\n    }\n    if (open) {\n      await fetchNotifications();\n      setTotalNotifications(0);\n    }\n    setNotifMenu({ ...notifMenu, right: open });\n  };\n\n  const [toastDebounced] = useDebouncedCallback((sender, type) => {\n    switch (type) {\n      case 'message':\n        toast(' You have a new message!');\n        break;\n      case 'match':\n        toast(' You have a new match!');\n        break;\n      case 'unmatch':\n        toast(' Sorry, you got unmatched...');\n        break;\n      case 'like':\n        toast(' Someone liked you!');\n        break;\n      case 'visit':\n        toast(' Someone visited your profile!');\n        break;\n      default:\n    }\n  }, 500);\n  if (isLoggedIn) {\n    socketContext.socket.on('new notification', (sender, type) => {\n      if (type === 'message') {\n        setTotalMessages(totalMessages + 1);\n      }\n      toastDebounced(sender, type);\n    });\n  }\n\n  authContext.userData.then(data => {\n    if (data) {\n      setIsLoggedIn(data.success);\n    } else {\n      setIsLoggedIn(false);\n    }\n  });\n\n  return (\n    <AppBar position=\"static\">\n      <Toolbar>\n        <Typography variant=\"h6\" className={classes.matchaLogo}>\n          <Link\n            href=\"/\"\n            style={{ textDecoration: 'none' }}\n            className={classes.navIcon}\n          >\n            Matcha\n          </Link>\n        </Typography>\n        {isLoggedIn ? (\n          <>\n            <IconButton color=\"inherit\" href=\"/chat\">\n              <Badge color=\"secondary\" badgeContent={totalMessages} showZero>\n                <ChatBubbleIcon className={classes.navIcon} />\n              </Badge>\n            </IconButton>\n            <IconButton onClick={toggleDrawer(true)} color=\"inherit\">\n              <Badge\n                color=\"secondary\"\n                badgeContent={totalNotifications}\n                showZero\n              >\n                <NotificationsIcon className={classes.navIcon} />\n              </Badge>\n            </IconButton>\n\n            <IconButton color=\"inherit\" href=\"profile\">\n              <AccountCircleIcon className={classes.navIcon} />\n            </IconButton>\n            <IconButton\n              color=\"inherit\"\n              onClick={e => {\n                logout(e, setIsLoggedIn);\n              }}\n            >\n              <ExitToAppIcon className={classes.navIcon} />\n            </IconButton>\n            <SwipeableDrawer\n              anchor=\"right\"\n              open={notifMenu.right}\n              onClose={toggleDrawer(false)}\n              onOpen={toggleDrawer(true)}\n            >\n              <NotificationDrawer\n                classes={classes}\n                toggleDrawer={toggleDrawer}\n                notifications={notifications}\n              />\n            </SwipeableDrawer>\n          </>\n        ) : (\n          <>\n            <Button color=\"inherit\" href=\"/signup\">\n              Signup\n            </Button>{' '}\n            <Button color=\"inherit\" href=\"/login\">\n              Login\n            </Button>\n          </>\n        )}\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nexport default Nav;\n","import Nav from './nav-view';\n\nexport default Nav;\n","import UserValidation from './uservalidation-view';\n\nexport default UserValidation;\n","import axios from 'axios';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nconst UserValidation = ({ computedMatch }) => {\n  const { token } = computedMatch.params;\n  axios\n    .get(\n      `${process.env.REACT_APP_PUBLIC_API_URL}/validation/newaccount/${token}`,\n      {\n        headers: {\n          'Content-type': 'application/json; charset=UTF-8',\n        },\n      },\n    )\n    .then(data => {\n      if (data.data.success) {\n        window.location = '/?message=user_validated';\n      } else {\n        window.location = '/?message=user_not_validated';\n      }\n    });\n  return <h1>Chargement en cours</h1>;\n};\n\nUserValidation.propTypes = {\n  // eslint-disable-next-line react/forbid-prop-types\n  computedMatch: PropTypes.object.isRequired,\n};\n\nexport default UserValidation;\n","import { useState } from 'react';\nimport axios from 'axios';\nimport { toast } from 'react-toastify';\n\nconst usePasswordForm = (callback, token) => {\n  const [inputs, setInputs] = useState({\n    password1: '',\n    password2: '',\n  });\n  const { password1, password2 } = inputs;\n\n  const handleSubmit = event => {\n    if (event) {\n      event.preventDefault();\n      if (password1 !== password2) {\n        toast.error(\"The passwords doesn't match\");\n        return;\n      }\n      axios\n        .post(\n          `${process.env.REACT_APP_PUBLIC_API_URL}/validation/forgotpasswordupdate/${token}`,\n          {\n            password: password1,\n          },\n          {\n            headers: {\n              'Content-type': 'application/json; charset=UTF-8',\n            },\n          },\n        )\n        .then(({ data }) => {\n          if (data.success === true) {\n            callback(true);\n          } else {\n            toast.error(data.err);\n          }\n        });\n    }\n  };\n\n  const handleInputChange = event => {\n    event.persist();\n    const newInput = {\n      ...inputs,\n      [event.target.name]: event.target.value,\n    };\n    setInputs(newInput);\n  };\n  return {\n    handleSubmit,\n    handleInputChange,\n    inputs,\n  };\n};\n\nexport default usePasswordForm;\n","import axios from 'axios';\nimport React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Avatar from '@material-ui/core/Avatar';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Container from '@material-ui/core/Container';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport usePasswordForm from './resetforgotpassword-container';\n\nconst useStyles = makeStyles(theme => ({\n  '@global': {\n    body: {\n      backgroundColor: theme.palette.common.white,\n    },\n  },\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%',\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nconst ResetForgotPassword = ({ computedMatch }) => {\n  const classes = useStyles();\n  const callback = success => {\n    if (success) {\n      window.location = '/?message=reset_password_success';\n    }\n  };\n  const { token } = computedMatch.params;\n  const { inputs, handleInputChange, handleSubmit } = usePasswordForm(\n    callback,\n    token,\n  );\n  const [validToken, setValidToken] = useState(false);\n  if (!validToken) {\n    axios\n      .get(\n        `${process.env.REACT_APP_PUBLIC_API_URL}/validation/forgotpassword/${token}`,\n        {\n          headers: {\n            'Content-type': 'application/json; charset=UTF-8',\n          },\n        },\n      )\n      .then(data => {\n        if (data.data.success) {\n          setValidToken(true);\n        } else {\n          window.location = '/?message=user_not_validated';\n        }\n      });\n  }\n  if (validToken === true) {\n    return (\n      <Container component=\"main\" maxWidth=\"xs\">\n        <div className={classes.paper}>\n          <Avatar className={classes.avatar}>\n            <LockOutlinedIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Change your password\n          </Typography>\n          <form className={classes.form} onSubmit={handleSubmit}>\n            <TextField\n              fullWidth\n              margin=\"normal\"\n              htmlFor=\"password1\"\n              type=\"password\"\n              name=\"password1\"\n              onChange={handleInputChange}\n              value={inputs.password1}\n              id=\"password1\"\n              variant=\"outlined\"\n              required\n              autoFocus\n              label=\"Enter new password\"\n            />\n            <TextField\n              fullWidth\n              margin=\"normal\"\n              htmlFor=\"password2\"\n              type=\"password\"\n              name=\"password2\"\n              onChange={handleInputChange}\n              value={inputs.password2}\n              variant=\"outlined\"\n              id=\"password2\"\n              required\n              autoFocus\n              label=\"Confirm new password\"\n            />\n            <Button\n              type=\"submit\"\n              variant=\"contained\"\n              color=\"primary\"\n              fullWidth\n              className={classes.submit}\n            >\n              Validate new password\n            </Button>\n          </form>\n        </div>\n      </Container>\n    );\n  }\n  return <h1>Chargement en cours</h1>;\n};\nResetForgotPassword.propTypes = {\n  // eslint-disable-next-line react/forbid-prop-types\n  computedMatch: PropTypes.object.isRequired,\n};\n\nexport default ResetForgotPassword;\n","import ResetForgotPassword from './resetforgotpassword-view';\n\nexport default ResetForgotPassword;\n","import React from 'react';\nimport useForgotPasswordForm from './forgotpassword-container';\nimport Avatar from '@material-ui/core/Avatar';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport Container from '@material-ui/core/Container';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Link from '@material-ui/core/Link';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles(theme => ({\n  '@global': {\n    body: {\n      backgroundColor: theme.palette.common.white,\n    },\n  },\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%',\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nconst ForgotPassword = () => {\n  const forgotPassword = success => {\n    if (success) {\n      window.location = '/?message=forgotPassword_success';\n    }\n  };\n  const { inputs, handleInputChange, handleSubmit } = useForgotPasswordForm(\n    forgotPassword,\n  );\n  const classes = useStyles();\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Forgot your password?\n        </Typography>\n        <form className={classes.form} onSubmit={handleSubmit}>\n          <TextField\n            fullWidth\n            margin=\"normal\"\n            htmlFor=\"email\"\n            type=\"email\"\n            name=\"email\"\n            onChange={handleInputChange}\n            value={inputs.email}\n            id=\"email\"\n            variant=\"outlined\"\n            required\n            autoFocus\n            label=\"your email address\"\n          />\n          <Button\n            type=\"submit\"\n            variant=\"contained\"\n            color=\"primary\"\n            fullWidth\n            className={classes.submit}\n          >\n            Reset password\n          </Button>\n          <Grid container>\n            <Grid item xs>\n              <Link href=\"/login\" variant=\"body2\">\n                Login\n              </Link>\n            </Grid>\n            <Grid item>\n              <Link href=\"/signup\" variant=\"body2\">\n                {\"Don't have an account? Sign Up\"}\n              </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n    </Container>\n  );\n};\n\nexport default ForgotPassword;\n","import ForgotPassword from './forgotpassword-view';\n\nexport default ForgotPassword;\n","import axios from 'axios';\nimport { useState, useContext } from 'react';\nimport _ from 'lodash';\nimport { AuthContext } from '../app/AuthContext';\n\nconst ChatContainer = () => {\n  const [loaded, setLoaded] = useState(false);\n  const { authContext } = useContext(AuthContext);\n  const { token } = authContext;\n  const [matchList, setMatchList] = useState({});\n\n  const fetchCurrentUserMatches = () => {\n    axios\n      .get(`${process.env.REACT_APP_PUBLIC_API_URL}/chat/`, {\n        headers: {\n          'Content-type': 'application/json; charset=UTF-8',\n          'x-access-token': token,\n        },\n      })\n      .then(response => {\n        setMatchList(response.data);\n        return response.data;\n      })\n      .catch(error => {\n        if (process.env.REACT_APP_VERBOSE === 'true') console.log(error);\n      });\n  };\n\n  if (_.isEmpty(matchList) && loaded === false) {\n    fetchCurrentUserMatches();\n    setLoaded(true);\n  }\n  return { matchList };\n};\n\nexport default ChatContainer;\n","import React, { Fragment } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Avatar from '@material-ui/core/Avatar';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport Divider from '@material-ui/core/Divider';\nimport Box from '@material-ui/core/Box';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport _ from 'lodash';\nimport ChatContainer from './chat-container';\n\nconst useStyles = makeStyles(theme => ({\n  buttonChatroom: {\n    width: '100%',\n    height: '100%',\n    textTransform: 'none',\n    padding: '0',\n  },\n  notReadMessage: {\n    backgroundColor: '#edf2fa',\n  },\n  emptyChat: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  emptyChatTitle: {\n    margin: theme.spacing(2),\n  },\n}));\n\nconst Chat = () => {\n  const classes = useStyles();\n  const { matchList } = ChatContainer();\n  if (_.isEmpty(matchList)) {\n    return (\n      <Box className={classes.emptyChat}>\n        <span role=\"img\" aria-label=\"emoji\" className={classes.emptyChatTitle}>\n          You don't have matches yet. But don't worry, it's coming\n        </span>{' '}\n        <img src=\"https://media.giphy.com/media/Az1CJ2MEjmsp2/giphy.gif\" alt=\"lonely ghost town gif\"/>\n      </Box>\n    );\n  }\n  return (\n    <List className={classes.root}>\n      {_.map(matchList, matchedProfile => {\n        const redirectLink = `/chatroom/${matchedProfile.matchid}`;\n        return (\n          <Fragment key={matchedProfile.matchid}>\n            <Button\n              className={classes.buttonChatroom}\n              variant=\"text\"\n              href={redirectLink}\n            >\n              <ListItem\n                alignItems=\"flex-start\"\n                className={\n                  matchedProfile.read === false ? classes.notReadMessage : null\n                }\n              >\n                <ListItemAvatar>\n                  <Avatar alt=\"avatar\" src={matchedProfile.profilePicture} />\n                </ListItemAvatar>\n                <ListItemText\n                  primary={matchedProfile.firstname}\n                  secondary={matchedProfile.content}\n                />\n              </ListItem>\n            </Button>\n            <Divider variant=\"inset\" component=\"li\" />\n          </Fragment>\n        );\n      })}\n    </List>\n  );\n};\n\nexport default Chat;\n","import Chat from './chat-view';\n\nexport default Chat;\n","import axios from 'axios';\nimport { useState, useContext } from 'react';\nimport _ from 'lodash';\nimport { AuthContext } from '../app/AuthContext';\n\nconst ChatroomContainer = matchId => {\n  const [loaded, setLoaded] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const { authContext, socketContext } = useContext(AuthContext);\n  const { userData, token } = authContext;\n  const [chatroomInfo, setChatroomInfo] = useState({});\n  const [chatroomMessages, setChatroomMessages] = useState([]);\n  const [currentUser, setCurrentUser] = useState(null);\n  const [message, setMessage] = useState('');\n\n  socketContext.socket.on('chat message', msg => {\n    setChatroomMessages(chatroomMessages.concat(msg));\n  });\n\n  socketContext.socket.on('redirect', msg => {\n    window.location = `/?message=${msg}`;\n  });\n\n  const handleMessage = event => {\n    setMessage(event.target.value);\n  };\n\n  const sendMessage = () => {\n    if (message !== '') {\n      socketContext.socket.emit('chat message', message, matchId);\n      setMessage('');\n    }\n  };\n\n  const fetchMessagesFromConversation = () => {\n    axios\n      .get(`${process.env.REACT_APP_PUBLIC_API_URL}/chat/${matchId}`, {\n        headers: {\n          'Content-type': 'application/json; charset=UTF-8',\n          'x-access-token': token,\n        },\n      })\n      .then(response => {\n        if (response.data.success === false) {\n          window.location = '/?message=access_denied';\n          return;\n        }\n        setChatroomInfo({\n          profilePicture: response.data.profilePicture,\n          firstname: response.data.firstname,\n          username: response.data.username,\n        });\n        setChatroomMessages(response.data.messages);\n        userData.then(data => {\n          setCurrentUser(data.data.id);\n          socketContext.socket.emit('joinchatroom', matchId);\n        });\n        setLoaded(true);\n        setLoading(false);\n      })\n      .catch(error => {\n        if (process.env.REACT_APP_VERBOSE === 'true') console.log(error);\n      });\n  };\n\n  if (_.isEmpty(chatroomInfo) && loaded === false && loading === false) {\n    setLoading(true);\n    fetchMessagesFromConversation();\n  }\n  return {\n    chatroomInfo,\n    chatroomMessages,\n    setChatroomInfo,\n    setChatroomMessages,\n    loaded,\n    currentUser,\n    handleMessage,\n    sendMessage,\n    message,\n  };\n};\n\nexport default ChatroomContainer;\n","import React from 'react';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport Avatar from '@material-ui/core/Avatar';\nimport TextField from '@material-ui/core/TextField';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Link from '@material-ui/core/Link';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport ArrowBackIosIcon from '@material-ui/icons/ArrowBackIos';\nimport { useParams } from 'react-router-dom';\nimport _ from 'lodash';\nimport ChatroomContainer from './chatroom-container';\n\nconst useStyles = makeStyles(theme => ({\n  chatWrapper: { position: 'relative' },\n  progress: {\n    height: '100vh',\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  chatInfoWrapper: {\n    padding: theme.spacing(2),\n    backgroundColor: '#f4f4f4',\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n  },\n  avatar: {\n    marginRight: theme.spacing(2),\n  },\n  chatInfoAvatarWrapper: {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    '&:focus': {\n      textDecoration: 'none',\n    },\n    '&:hover': {\n      textDecoration: 'none',\n      color: theme.palette.secondary.main,\n    },\n    '&:visited': {\n      textDecoration: 'none',\n    },\n    '&:link': {\n      textDecoration: 'none',\n    },\n    '&:active': {\n      textDecoration: 'none',\n    },\n  },\n  chatContent: {\n    width: '100%',\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n    height: '80vh',\n    overflowY: 'auto',\n    display: 'flex',\n    flexDirection: 'column',\n  },\n  boxMessageOther: {\n    display: 'flex',\n    flexDirection: 'row',\n  },\n  boxMessageMe: {\n    display: 'flex',\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n  },\n  textBubbleOther: {\n    backgroundColor: '#f4f4f4',\n    borderRadius: '1.3em',\n    padding: '10px 20px',\n    marginLeft: theme.spacing(2),\n    marginBottom: theme.spacing(1),\n    maxWidth: '600px',\n  },\n  textBubbleMe: {\n    backgroundColor: theme.palette.primary.main,\n    borderRadius: '1.3em',\n    padding: '10px 20px',\n    maxWidth: '600px',\n    color: 'white',\n    marginBottom: theme.spacing(1),\n  },\n  messageInput: {\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    position: 'fixed',\n    bottom: '0',\n    paddingLeft: theme.spacing(3),\n    paddingRight: theme.spacing(3),\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2),\n    backgroundColor: '#f4f4f4',\n  },\n  textField: {\n    backgroundColor: '#ffffff',\n  },\n}));\n\nconst ChatRoom = () => {\n  const classes = useStyles();\n  let { matchId } = useParams();\n  matchId = parseInt(matchId, 10);\n  const {\n    chatroomInfo,\n    chatroomMessages,\n    loaded,\n    currentUser,\n    handleMessage,\n    sendMessage,\n    message,\n  } = ChatroomContainer(matchId);\n  let scrolled = false;\n  const element = document.getElementById('chat');\n  // make sure the chat scrolls down to last message\n  const updateScroll = () => {\n    if (!scrolled && element) {\n      element.scrollTop = element.scrollHeight;\n    }\n  };\n  // doesn't prevent to scroll up when the user started to scroll\n  if (element) {\n    element.addEventListener('scroll', () => {\n      scrolled = true;\n    });\n  }\n  updateScroll();\n\n  if (loaded === false) {\n    return (\n      <div className={classes.progress}>\n        <CircularProgress color=\"secondary\" />\n      </div>\n    );\n  }\n  const profileLink = `/profile/${chatroomInfo.username}`;\n  return (\n    <>\n      <Box className={classes.chatWrapper}>\n        <Box className={classes.chatInfoWrapper}>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            className={classes.button}\n            href=\"/chat\"\n            startIcon={<ArrowBackIosIcon />}\n          >\n            All\n          </Button>\n          <Box>\n            <Link href={profileLink} className={classes.chatInfoAvatarWrapper}>\n              <Avatar\n                alt=\"Avatar\"\n                src={chatroomInfo.profilePicture}\n                className={classes.avatar}\n              />\n              <Typography variant=\"h5\">{chatroomInfo.firstname}</Typography>\n            </Link>\n          </Box>\n          <Box></Box>\n        </Box>\n        <Box className={classes.chatContent} id=\"chat\">\n          {_.map(chatroomMessages, message => {\n            if (currentUser !== message.author) {\n              return (\n                <Box key={message.id} className={classes.boxMessageOther}>\n                  <Avatar alt=\"Avatar\" src={message.profilePicture} />\n                  <div className={classes.textBubbleOther}>\n                    <span>{message.content}</span>\n                  </div>\n                </Box>\n              );\n            }\n            return (\n              <Box key={message.id} className={classes.boxMessageMe}>\n                <div className={classes.textBubbleMe}>\n                  <span>{message.content}</span>\n                </div>\n              </Box>\n            );\n          })}\n        </Box>\n      </Box>\n      <Box className={classes.messageInput}>\n        <Grid container spacing={2}>\n          <Grid item sm={10} xs={12}>\n            <TextField\n              onChange={handleMessage}\n              value={message}\n              fullWidth\n              type=\"text\"\n              name=\"message\"\n              variant=\"outlined\"\n              className={classes.textField}\n            />\n          </Grid>\n          <Grid item sm={2} xs={12}>\n            <Button onClick={sendMessage} variant=\"contained\" color=\"secondary\">\n              Send message\n            </Button>\n          </Grid>\n        </Grid>\n      </Box>\n    </>\n  );\n};\n\nexport default ChatRoom;\n","import ChatRoom from './chatroom-view';\n\nexport default ChatRoom;\n","import { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport { ToastContainer } from 'react-toastify';\nimport React from 'react';\nimport Signup from '../signup';\nimport './App.css';\nimport Login from '../login';\nimport Profile from '../profile';\nimport ProfileShow from '../profileshow';\nimport Search from '../search';\nimport Suggestions from '../suggestions';\nimport Visit from '../visit';\nimport Like from '../like';\nimport Home from '../home';\nimport { AuthProvider } from './AuthContext';\nimport SecureRoute from './SecureRoute';\nimport NotLoggedRoute from './NotLoggedRoute';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Nav from '../nav';\nimport Toaster from '../toaster';\nimport UserValidation from '../uservalidation';\nimport ResetForgotPassword from '../ResetforgotPassword';\nimport ForgotPassword from '../forgotpassword';\nimport Chat from '../chat';\nimport ChatRoom from '../chatroom';\n\nfunction App() {\n  return (\n    <AuthProvider>\n      <Router>\n        <Nav />\n        <Switch>\n          <NotLoggedRoute path=\"/signup\" component={Signup} />\n          <NotLoggedRoute path=\"/login\" component={Login} />\n          <NotLoggedRoute\n            path=\"/validation/newaccount/:token\"\n            component={UserValidation}\n          />\n          <NotLoggedRoute path=\"/forgotpassword\" component={ForgotPassword} />\n          <NotLoggedRoute\n            path=\"/validation/forgotpassword/:token\"\n            component={ResetForgotPassword}\n          />\n          <SecureRoute path=\"/search\" component={Search} />\n          <SecureRoute path=\"/suggestions\" component={Suggestions} />\n          <SecureRoute path=\"/profile/:username\" component={ProfileShow} />\n          <SecureRoute path=\"/profile\" component={Profile} />\n          <SecureRoute path=\"/visits\" component={Visit} />\n          <SecureRoute path=\"/likes\" component={Like} />\n          <SecureRoute path=\"/chat\" component={Chat} />\n          <SecureRoute path=\"/chatroom/:matchId\" component={ChatRoom} />\n          <Route path=\"/\" component={Home} />\n        </Switch>\n      </Router>\n      <Toaster />\n      <ToastContainer />\n    </AuthProvider>\n  );\n}\n\nexport default App;\n","/* eslint-disable max-len */\n/* eslint-disable no-param-reassign */\n/* eslint-disable no-use-before-define */\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          if (process.env.REACT_APP_VERBOSE === 'true')\n            console.log(\n              'This web app is being served cache-first by a service ' +\n                'worker. To learn more, visit https://bit.ly/CRA-PWA',\n            );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n\n              if (process.env.REACT_APP_VERBOSE === 'true')\n                console.log(\n                  'New content is available and will be used when all ' +\n                    'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n                );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              if (process.env.REACT_APP_VERBOSE === 'true')\n                console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      if (process.env.REACT_APP_VERBOSE === 'true')\n        console.log(\n          'No internet connection found. App is running in offline mode.',\n        );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n// import './components/app/index.css';\nimport App from './components/app/App';\nimport * as serviceWorker from './serviceWorker';\n\n// ReactDOM.render(<App />, document.getElementById('root'));\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}